<?xml version="1.0" encoding="iso-8859-1"?>
<!-- synced with 1.16 -->
<chapter id="tv">
<title>TV</title>

<sect1 id="tv-input" xreflabel="TV input">
<title>TV bemenet</title>

<para>
Ez a rész arról szól, hogy hogyan lehet <emphasis role="bold">adást nézni/lementeni
V4L kompatibilis TV tunerrel</emphasis>. Lásd a man oldalt a TV-s kapcsolók és
a vezérlõ billentyûk listájáért.
</para>


<sect2 id="tv-compilation">
<title>Fordítás</title>

<procedure>
<step><para>
  Elõször is újra fordítanod kell. A <filename>./configure</filename>
  automatikusan megtalálja a v4l dolgok kernel fejléceit és a
  <filename>/dev/video*</filename> bejegyzéseket. Ha léteznek, a TV támogatás
  be lesz építve (lásd a <filename>./configure</filename> kimenetét).
  </para></step>
<step><para>
  Gyõzõdj meg róla, hogy a tunered mûködik másik Linuxos TV szoftverrel is,
  például a <application>XawTV</application>-vel.
  </para></step>
</procedure>
</sect2>

<sect2 id="tv-tips">
<title>Használati tippek</title>
<para>
A kapcsolók teljes listája a man oldalon található.
Itt csak pár tippet említünk meg:
</para>
<itemizedlist>
<listitem>
<para>
Használd a <option>channels</option> kapcsolót. Például:
<screen>-tv channels=26-MTV1,23-TV2</screen>
Magyarázat: ha ezt a kapcsolót használod, akkor csak a 26-os és a 23-as csatorna
lesz használható, és szép OSD szöveg lesz csatorna váltáskor, mely a csatorna nevét
jelzi ki. A csatorna nevében lévõ szóközöket a &quot;_&quot; karakterrel kell kicserélni.
</para>
</listitem>

<listitem>
<para>
Válassz valamilyen értelmes képméretet. A kp méreteinek oszthatónak kell lennie 16-tal.
</para>
</listitem>

<listitem>
<para>
Ha videót mentesz el úgy, hogy a függõleges felbontás nagyobb, mint a teljes
felbontás fele (pl. 288 a PAL-nál és 240 az NTSC-nél), akkor a kapott 'képkockák'
tényleg átlapolt mezõpárok lesznek.
Attól függõen, hogy mit akarsz csinálni a videóval, hagyhatod ebben a formában,
veszteséges deinterlacing-et hajthatsz végre vagy szétszedheted a párokat
egyedi mezõkre.
</para>
<para>
Különben a filmed torzul a gyors mozgású jelenetek alatt és a bitráta vezérlõ
is valószínûleg képtelen lesz az elõírt bitráta megtartására, ahogy az
interlacing változások nagy mennyiségû adatot eredményeznek és így nagy
sávszélességet vesznek el. A deinterlacing-et bekapcsolhatod a
<option>-vf pp=DEINT_TYPE</option> kapcsolóval. Általában a
<option>pp=lb</option> jó, de ez az egyéni beállításokon is múlik. A többi
deinterlacing algoritmust lásd a manuálban és próbálgasd ki õket.
</para>
</listitem>

<listitem>
<para>
Vágd le a felesleges helyet. Ha videót mentesz, a sarki arénák teljesen
feketék és némi zajt tartalmaznak. Ezek szintén nagy sávszélességet foglalnak
el feleslegesen. Pontosabban nem maguk a fekete területek, hanem az éles
átmenetek a fekete és a világosabb videó kép között, de ez most nem fontos
igazából. Mielõtt elindítanád a mentést, állítsd be a <option>crop</option>
kapcsoló argumentumait, így a széleknél lévõ vackok le lesznek vágva.
És ne feledd a képméreteket ésszerû keretek között tartani.
</para>
</listitem>

<listitem>
<para>
Figyelj a CPU terhelésre. Legtöbbször átlépi a 90%-os határt. Ha nagy mentési
buffered van, a <application>MEncoder</application> túlél egy esetleges túlterhelést
pár másodpercig, de semmi több. Jobb kikapcsolni a 3D OpenGL képernyõvédõket
és a hasonló dolgokat.
</para>
</listitem>

<listitem>
<para>
Ne szórakozz a rendszer órával. A <application>MEncoder</application> a
rendszer órát használja az A/V szinkronhoz. Ha átállítod a rendszer órát (különösen
vissza az idõben), a <application>MEncoder</application> összezavarodik és
képkockákat veszítesz. Ez egy fontos dolog, ha hálózathoz kapcsolódsz és futtatsz
valamilyen idõ szinkronizációs szoftvert, mint pl. NTP. Ki kell kapcsolnod az
NTP-t a mentési folyamat alatt, ha megbízható mentést akarsz.
</para>
</listitem>

<listitem>
<para>
Ne változtasd meg az <option>outfmt</option>-t, hacsak vagy biztos benne, hogy mit
csinálsz, vagy a kártyád/vezérlõd tényleg nem támogatja az alapértelmezést
(YV12 színtér). A <application>MPlayer</application>/<application>MEncoder</application>
régebbi verzióiban szükséges volt a kimeneti formátum megadása. Ez a jelenlegi
kiadásban már javítva lett és az <option>outfmt</option> már nem szükséges, az
alapértelmezés megfelel a legtöbb esetben. Például ha videót mentesz DivX-be
a <systemitem class="library">libavcodec</systemitem> használatával és megadod
az <option>outfmt=RGB24</option>-t a mentett kép minõségének növelése érdekében,
a mentett kép igazából késõbb lesz visszakonvertálva YV12-be így az egyetlen,
amit elérsz, az erõteljes CPU használat.
</para>
</listitem>

<listitem>
<para>
Az I420 színtér megadásához (<option>outfmt=i420</option>) meg kell adnod egy
<option>-vc rawi420</option> kapcsolót is, mivel fourcc ütközés van egy Intel Indeo
videó codec-kel.
</para>
</listitem>

<listitem>
<para>
Rengeteg módon menthetsz el audiót. A hangot grabbelheted a hang kártyáddal is
egy a videó kártya és a line-in között lévõ külsõ kábelen keresztül, vagy a
bt878-as chip-be beépített ADC segítségével. A második esetben be kell töltened
a <emphasis role="bold">btaudio</emphasis> vezérlõt. Olvasd el a
<filename>linux/Documentation/sound/btaudio</filename> fájlt (a kernel fájában,
nem az <application>MPlayer</application>ében) némi leírásért ezen vezérlõ
használatával kapcsolatban.
</para>
</listitem>

<listitem>
<para>
Ha a <application>MEncoder</application> nem tudja megnyitni az audió eszközt,
gyõzõdj meg róla, hogy tényleg elérhetõ-e. Gond lehet a hang szerverekkel, mint
pl. aRts (KDE) vagy ESD (GNOME). ha full duplex hang kártyád van (majdnem
az összes hangkártya tudja már ezt manapság), és KDE-t használsz, próbáld
meg bekapcsolni a "full duplex" opciót a hangkártya tulajdonságok menüben.
</para>
</listitem>
</itemizedlist>
</sect2>


<sect2 id="tv-examples">
<title>Példák</title>

<informalexample>
<para>
Dummy kimenet AAlib-re :)
<screen>
mplayer -tv driver=dummy:width=640:height=480 -vo aa tv://<!--
--></screen>
</para>
</informalexample>

<informalexample>
<para>
Bemenet standard V4L-rõl:
<screen>
mplayer -tv driver=v4l:width=640:height=480:outfmt=i420 -vc rawi420 -vo xv tv://<!--
--></screen>
</para>
</informalexample>

<informalexample>
<para>
Egy sokkal mesterkéltebb példa. Ezzel a <application>MEncoder</application>
elmenti a teljes PAL képet, levágja a széleket és deinterlace-eli a képet
a linear blend algoritmus segítségével. Az audió 65 kbps-es állandó bitrátával
kerül tömörítésre, a LAME codec felhasználásával. Ez a beállítás megfelelõ a
filmek elmentéséhez.
<screen>
     mencoder -tv driver=v4l:width=768:height=576 \
     -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=900 \
     -oac mp3lame -lameopts cbr:br=64 \
     -vf crop=720:544:24:16,pp=lb -o <replaceable>output.avi</replaceable> tv://
</screen>
</para>
</informalexample>

<informalexample>
<para>
This will additionally rescale the image to 384x288 and compresses the
video with the bitrate of 350kbps in high quality mode. The vqmax option
looses the quantizer and allows the video compressor to actually reach so
low bitrate even at the expense of the quality. This can be used for
capturing long TV series, where the video quality isn't so important.
<screen>
     mencoder -tv driver=v4l:width=768:height=576 \
     -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=350:vhq:vqmax=31:keyint=300 \
     -oac mp3lame -lameopts cbr:br=48 \
     -vf crop=720:540:24:18,pp=lb,scale=384:288 -sws 1 -o <replaceable>output.avi</replaceable> tv://
</screen>
Meg lehet adni kisebb képméretet is a <option>-tv</option> kapcsolónál és ki lehet
hagyni a szoftveres méretezést, de ez a megközelítés a lehetõ legtöbb információt
használja fel és egy kicsit ellenállóbb a zajokkal szemben. A bt8x8 chip-ek a
pixel átlagolást csak vízszintesen tudják hardveres korlátok miatt.
</para>
</informalexample>
</sect2>
</sect1>

</chapter>
