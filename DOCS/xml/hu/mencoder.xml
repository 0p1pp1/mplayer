<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with r18255 -->
<chapter id="mencoder">
<title>A <application>MEncoder</application> használatának alapjai</title>

<para>
A <application>MEncoder</application> összes használható kapcsolójához és
a példákhoz kérlek nézd meg a man oldalt. Mindennapi példákért és a számos
kódolási paraméter bõvebb leírásáért olvasd el a
<ulink url="../../tech/encoding-tips.txt">kódolási tippeket</ulink>, amiket
számos levelezési lista szálból gyûjtöttünk össze az MPlayer-users-rõl.
Kereshetsz az
<ulink url="http://mplayerhq.hu/pipermail/mplayer-users/">archívumban</ulink>
a rengeteg beszélgetés között, melyek a <application>MEncoder</application>rel
történõ kódolást több szempontból vizsgálják és kiemelik a problémákat vele
kapcsolatban.
</para>

<sect1 id="menc-feat-selecting-codec">
<title>Codec és konténer formátum kiválasztása</title>

<para>
  A kódoláshoz az audió és videó codec-ek a <option>-oac</option> és
  <option>-ovc</option> opciókkal adható meg.
  Gépeld be ezt a példát:
  <screen>mencoder -ovc help</screen>
  a gépeden lévõ <application>MEncoder</application> által támogatott
  videó codec-ek kilistázásához.
  A következõ választások érhetõek el:
</para>
<para>
Audió codec-ek:

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Audió codec neve</entry><entry>Leírás</entry></row>
</thead>
<tbody>
  <row>
    <entry>mp3lame</entry>
    <entry>Kódol VBR, ABR vagy CBR MP3-at LAME-mel</entry>
  </row>
  <row>
    <entry>lavc</entry>
    <entry>A <link linkend="menc-feat-enc-libavcodec-audio-codecs"><systemitem class="library">libavcodec</systemitem> valamelyik audió codec-jét használja</link>
    </entry>
  </row>
  <row>
    <entry>faac</entry>
    <entry>FAAC AAC audió kódoló</entry>
  </row>
  <row>
    <entry>toolame</entry>
    <entry>MPEG Audio Layer 2 kódoló</entry>
  </row>
  <row>
    <entry>twolame</entry>
    <entry>tooLAME alapú MPEG Audio Layer 2 kódoló</entry>
  </row>
  <row>
    <entry>pcm</entry>
    <entry>Tömörítetlen PCM audió</entry>
  </row>
  <row>
    <entry>copy</entry>
    <entry>Nem kódol újra, csak másolja a tömörített kockákat</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
</para>

<para>
Videó codec-ek:
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Videó codec neve</entry><entry>Leírás</entry></row>
</thead>
<tbody>
  <row>
    <entry>lavc</entry>
    <entry>A <link linkend="menc-feat-enc-libavcodec-video-codecs"><systemitem class="library">libavcodec</systemitem> valamelyik videó codec-jét használja</link>
    </entry>
  </row>
  <row>
    <entry>xvid</entry>
    <entry>XviD, MPEG-4 Advanced Simple Profile (ASP) codec</entry>
  </row>
  <row>
    <entry>x264</entry>
    <entry>x264, MPEG-4 Advanced Video Coding (AVC), AKA H.264 codec</entry>
  </row>
  <row>
    <entry>nuv</entry>
    <entry>nuppel video, néhány realtime alkalmazás használja</entry>
  </row>
  <row>
    <entry>raw</entry>
    <entry>Tömörítetlen videó képkockák</entry>
  </row>
  <row>
    <entry>copy</entry>
    <entry>Nem kódol újra, csak másolja a tömörített kockákat</entry>
  </row>
  <row>
    <entry>frameno</entry>
    <entry>A 3-lépéses kódolásban használatos (nem javasolt)</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
</para>
<para>
  A kimeneti konténer formátumokat a <option>-of</option> kapcsolóval
  választhatod ki.
  Írd be:
  <screen>mencoder -of help</screen>
  a gépeden lévõ <application>MEncoder</application> által támogatott konténerek
  kilistázásához.
  A következõ választások érhetõek el:
</para>
<para>
Konténer formátumok:
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Konténer formátum neve</entry><entry>Leírás</entry></row>
</thead>
<tbody>
  <row>
    <entry>lavf</entry>
    <entry>A <systemitem class="library">libavformat</systemitem> által
    támogatott valamelyik konténer</entry>
  </row>
  <row>
    <entry>avi</entry>
    <entry>Audio-Video Interleaved</entry>
  </row>
  <row>
    <entry>mpeg</entry>
    <entry>MPEG-1 és MPEG-2 PS</entry>
  </row>
  <row>
    <entry>rawvideo</entry>
    <entry>nyers videó folyam (nincs keverés - csak egy videó folyam)</entry>
  </row>
  <row>
    <entry>rawaudio</entry>
    <entry>nyers audió folyam (nincs keverés - csak egy audió folyam)</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
  Az AVI konténer a <application>MEncoder</application> natív konténer
  formátuma, ami azt jelenti, hogy ezt kezeli a legjobban és hogy a
  <application>MEncoder</application> ehhez lett tervezve.
  Amint fentebb megemlítettük, más konténer formátumok is használhatóak, de
  problémákba ütközhetsz a használatuk során.
</para>

<para>
<systemitem class="library">libavformat</systemitem> konténerek:
</para>
<para>
  Ha a <systemitem class="library">libavformat</systemitem>-ot választottad
  a kimeneti fájl keveréséhez (a <option>-of lavf</option> használatával),
  a megfelelõ konténer formátum a kimeneti fájl kiterjesztése alapján kerül
  megállapításra.
  Egy meghatározott konténer formátumot a <option>format</option> kapcsolóval
  tudsz megadni a <systemitem class="library">libavformat</systemitem>-nek.

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry><systemitem class="library">libavformat</systemitem> konténer neve</entry><entry>Leírás</entry></row>
</thead>
<tbody>
  <row>
    <entry>mpg</entry>
    <entry>MPEG-1 és MPEG-2 PS</entry>
  </row>
  <row>
    <entry>asf</entry>
    <entry>Advanced Streaming Format</entry>
  </row>
  <row>
    <entry>avi</entry>
    <entry>Audio-Video Interleaved</entry>
  </row>
  <row>
    <entry>wav</entry>
    <entry>Waveform Audio</entry>
  </row>
  <row>
    <entry>swf</entry>
    <entry>Macromedia Flash</entry>
  </row>
  <row>
    <entry>flv</entry>
    <entry>Macromedia Flash video</entry>
  </row>
  <row>
    <entry>rm</entry>
    <entry>RealMedia</entry>
  </row>
  <row>
    <entry>au</entry>
    <entry>SUN AU</entry>
  </row>
  <row>
    <entry>nut</entry>
    <entry>NUT nyílt konténer (kísérleti és még nem a specifikációnak megfelelõ)</entry>
  </row>
  <row>
    <entry>mov</entry>
    <entry>QuickTime</entry>
  </row>
  <row>
    <entry>mp4</entry>
    <entry>MPEG-4 formátum</entry>
  </row>
  <row>
    <entry>dv</entry>
    <entry>Sony Digital Video konténer</entry>
  </row>
</tbody>
</tgroup>
</informaltable>
  Amint láthatod, a <systemitem class="library">libavformat</systemitem>
  elég sok konténer formátumba engedélyezi a keverést a
  <application>MEncoder</application>-nek.
  Sajnos mivel a <application>MEncoder</application> nem úgy lett tervezve
  a kezdetektõl, hogy az AVI-tól különbözõ konténer formátumokat is támogassa,
  izgulhatsz a kimeneti fájl miatt.
  Kérjük ellenõrizd, hogy az audió/videó szinkron rendben van-e és hogy a
  fájl lejátszható-e más lejátszókkal is az
  <application>MPlayer</application>-en kívül.
</para>

<informalexample>
<para>Példa:</para>
<para>
  Egy Macromedia Flash videó létrehozása, mely lejátszható web böngészõben
  a Macromedia Flash plugin-nel:
<screen>
mencoder <replaceable>bemenet.avi</replaceable> -o <replaceable>kimenet.flv</replaceable> -of lavf -oac mp3lame -lameopts abr:br=56 -ovc lavc \
-lavcopts vcodec=flv:vbitrate=500:mbd=2:mv0:trell:v4mv:cbp:last_pred=3 \
-srate 22050
</screen>
</para>
</informalexample>

</sect1>


<sect1 id="menc-feat-selecting-input">
<title>Bemeneti fájl vagy eszköz kiválasztása</title>

<para>
  A <application>MEncoder</application> tud kódolni fájlokból vagy akár
  direkt DVD vagy VCD lemezekrõl is.
  A fájlból való kódoláshoz egyszerûen csak add meg a fájl nevét a parancssorban,
  vagy a <option>dvd://</option><replaceable>részszám</replaceable> vagy
  <option>vcd://</option><replaceable>sávszám</replaceable> eszközt a
  DVD részrõl vagy VCD sávról történõ kódoláshoz.
  Ha egy DVD-t már átmásoltál a merevlemezedre (használhatod pl. a
  <application>dvdbackup</application> ezsközt, mely a legtöbb rendszeren megvan),
  és a másolatot akarod elkódolni, akkor is használnod kell a
  <option>dvd://</option> szintaxist, a <option>-dvd-device</option>-szal együtt,
  amit a lemásolt DVD gyökérkönyvtárának elérési útja követ.

  A <option>-dvd-device</option> és <option>-cdrom-device</option>
  kapcsolókkal felülbírálhatóak a direkt lemezolvasásnál használt eszközök
  elérési útjái is, ha az alapértelmezett
  <filename>/dev/dvd</filename> és <filename>/dev/cdrom</filename> nem
  mûködnek a rendszereden.
</para>
<para>
  Ha DVD-rõl kódolsz, gyakran kívánatos, hogy a kódolni kívánt fejezetet vagy
  fejezetek tartományát is megadd.
  Ehhez használhatod a <option>-chapter</option> kapcsolót.
  Például a <option>-chapter</option> <replaceable>1-4</replaceable>
  csak az 1-4 fejezeteket fogja elkódolni a DVD-rõl.
  Ez különösen hasznos, ha egy 1400 MB-os kódolást csinálsz két CD-re, mivel
  meggyõzõdhetsz róla, hogy a vágás pontosan fejezet határnál lesz és nem
  egy jelenet közepén.
</para>
<para>
  Ha van támogatott TV felvevõ kártyád, tudsz kódolni a TV-in eszközrõl is.
  Használd a <option>tv://</option><replaceable>csatornaszám</replaceable> eszközt
  fájlnévként és a <option>-tv</option> kapcoslót a mentési beállítások
  megadásához.
  A DVB hasonlóképpen mûködik.
</para>
</sect1>


<sect1 id="menc-feat-mpeg4">
<title>Két menetes MPEG-4 (&quot;DivX&quot;) kódolás</title>

<para>
A név abból a ténybõl ered, hogy ez a módszer a fájlt <emphasis>kétszer</emphasis>
kódolja át. Az elsõ kódolás (szinkronizációs lépés) létrehoz pár ideiglenes,
néhány megabájtos fájlt (<filename>*.log</filename>), ezeket ne töröld le
még (az AVI-t letörölheted vagy egyszerûen létre sem hozod, a videó
<filename>/dev/null</filename> -ba irányításával). A második lépésben, a két menetes
kimenet fájl lesz létrehozva, az ideiglenes fájlok bitrátájának felhasználásával.
Az eredmény fájlnak sokkal jobb lesz a képminõsége. Ha most hallasz errõl elõször,
nézz meg pár a neten elérhetõ leírást.
</para>

<example>
<title>audió sáv másolása</title>
<para>
Egy DVD második sávjának két menetes kódolása MPEG-4 (&quot;DivX&quot;) AVI-ba az
audió sáv másolásával.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -oac copy -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</example>

<example>
<title>audió sáv kódolása</title>
<para>
Egy DVD második sávjának két menetes kódolása MPEG-4 (&quot;DivX&quot;) AVI-ba az
audió sáv MP3-ba alakításával.
Vigyázz ezzela  módszerrel, mivel bizonyos esetekben audió/videó
deszinkronizációhoz vezethet.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac mp3lame -lameopts vbr=3 -o /dev/null
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -oac mp3lame -lameopts vbr=3 -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</example>
</sect1>

<sect1 id="menc-feat-mpeg">
<title>Kódolás MPEG formátumba</title>
<para>
A <application>MEncoder</application> tud készíteni MPEG (MPEG-PS) formátumú
kimeneti fájlokat.
Általában, ha MPEG-1 vagy MPEG-2 videót használsz, az azért van, mert egy
korlátozott formátumhoz kódolsz, mint pl. az SVCD, a VCD vagy a DVD.
Ezen formátumok speciális igényei a
<link linkend="menc-feat-vcd-dvd">VCD és DVD készítési leírásban</link>
megtalálhatóak.
</para>

<para>
A <application>MEncoder</application> kimeneti fájl formátumának megváltoztatásához
használd a <option>-of mpeg</option> kapcsolót.
</para>

<informalexample>
<para>
Példa:
<screen>
mencoder <replaceable>bemenet.avi</replaceable> -of mpeg -ovc lavc -lavcopts vcodec=mpeg1video -oac copy <replaceable>egyéb_kapcsolók</replaceable> -o <replaceable>kimenet.mpg</replaceable>
</screen>
Egy MPEG-1-es fájl létrehozása, mely alkalmas minimális multimédia támogatással
rendelkezõ rendszereken, például alapértelmezett Windows telepítéseken történõ
lejátszásra is:
<screen>
mencoder <replaceable>bemenet.avi</replaceable> -of mpeg -mpegopts format=mpeg1:tsaf:muxrate=2000 -o <replaceable>kimenet.mpg</replaceable> -oac lavc -ovc lavc \
-lavcopts acodec=mp2:abitrate=224:vcodec=mpeg1video:vbitrate=1152:keyint=15:mbd=2:aspect=4/3
</screen>
</para>
</informalexample>

<note><title>Tanács:</title>
<para>
  Ha valamilyen okból kifolyólag a videó minõség a második lépésben nem
  kielégítõ, ajánlott újrafuttatnod a videó kódolásod egy másik cél
  bitrátával, feltéve, hogy elmentetted az elõzõ lépés statisztikát
  tartalmazó fájlját.
  Ez azért lehetséges, mert a statisztika fájl elsõdleges célja minden
  egyes képkocka komplexitásának feljegyzése, ami nem függ erõteljesen
  a bitrátától. Azonban vedd figyelembe, hogy akkor kapod a legjobb
  minõséget, ha a lépések cél bitrátája nem különbözik nagy mértékben.
</para>
</note>

</sect1>

<sect1 id="menc-feat-rescale">
<title>Filmek átméretezése</title>

<para>
Gyakran szükséged lehet a videó képméretének átméretezésére. Ennek több oka
lehet: fájl méretének csökkentése, hálózati sávszélesség, stb. A legtöbb ember
akkor is végez átméretezést, amikor DVD-ket vagy SVCD-ket konvertál DivX AVI-ba.
Ha át szeretnél méretezni, olvasd el a <link linkend="aspect">képméret arányok megtartásáról</link>
szóló részt.
</para>

<para>
A méretezési eljárást a <literal>scale</literal> videó szûrõ végzi:
<option>-vf scale=<replaceable>szélesség</replaceable>:<replaceable>magasság</replaceable></option>.
A minõsége beállítható a <option>-sws</option> kapcsolóval.
Ha ez nincs megadva, akkor a <application>MEncoder</application> a 2: bicubic-et használja.
</para>

<para>
Használat:
<screen>
mencoder <replaceable>bemenet.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -vf scale=640:480 -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</sect1>


<sect1 id="menc-feat-streamcopy">
<title>Stream másolás</title>

<para>
<application>MEncoder</application> kétféleképpen tudja kezelni a folyamokat:
<emphasis role="bold">kódolni</emphasis> vagy <emphasis role="bold">másolni</emphasis>
tudja õket. Ez a rész a <emphasis role="bold">másolásról</emphasis> szól.
</para>

<itemizedlist>
<listitem><para>
  <emphasis role="bold">Videó stream</emphasis> (<option>-ovc copy</option> kapcsoló):
  szép dolgokat lehet vele csinálni :) Például FLI vagy VIVO vagy
  MPEG-1 videót tenni (nem konvertálni!) AVI fájlba! Természetesen csak az
  <application>MPlayer</application> tudja lejátszani az ilyen fájlokat :) Ennek
  valószínûleg gyakorlati haszna nincs. Ésszerûbben: a videó stream másolása
  hasznos lehet például ha csak az audió stream-et kell kódolni (például
  tömörítetlen PCM-et MP3-ba).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Audió stream</emphasis> (<option>-oac copy</option> kapcsoló):
  õszintén szólva... Bele lehet mixelni egy külsõ audió fájlt (MP3, WAV) a
  kimeneti stream-be. Használd a
  <option>-audiofile <replaceable>fájlnév</replaceable></option> kapcsolót
  ehhez.
  </para></listitem>
</itemizedlist>

<para>
  A <option>-oac copy</option> használatával végrehajtott egyik konténer formátumból
  másikba történõ másoláshoz szükséges lehet a <option>-fafmttag</option> kapcsoló,
  hogy megmaradjon az eredeti fájl audió formátum tag-je.
  Például ha egy NSV fájl AAC audióval AVI konténerbe alakítasz át, az
  audió formátum tag hibás lesz és meg kell változtatni. Az audió formátum tag-ek
  listáját megtalálod a <filename>codecs.conf</filename> fájlban.
</para>

<para>
Példa:
<screen>
mencoder <replaceable>bemenet.nsv</replaceable> -oac copy -fafmttag 0x706D -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>

</sect1>


<sect1 id="menc-feat-enc-images">
<title>Kódolás több bemeneti képfájlból (JPEG, PNG, TGA, SGI)</title>

<para>
A <application>MEncoder</application> képes egy vagy több JPEG, PNG vagy TGA fájlból
film létrehozására. Egy egyszerû framecopy-val MJPEG (Motion JPEG),
MPNG (Motion PNG) vagy MTGA (Motion TGA) fájlokat tud létrehozni.
</para>

<orderedlist>
<title>A folyamat leírása:</title>
<listitem><para>
  A <application>MEncoder</application> <emphasis>dekódolja</emphasis> a bemeneti
  képe(ke)t a <systemitem class="library">libjpeg</systemitem>-gel (ha PNG-ket
  dekódol, akkor a <systemitem class="library">libpng</systemitem>-vel).
  </para></listitem>
<listitem><para>
  Ezután a <application>MEncoder</application> a dekódolt képeket a kiválasztott
  videó tömörítõnek adja át (DivX4, XviD, FFmpeg msmpeg4, stb.).
  </para></listitem>
</orderedlist>

<formalpara>
<title>Példák</title>
<para>
A <option>-mf</option> kapcsoló magyarázata a man oldalon található.

<informalexample>
<para>
Egy MPEG-4-es fájl létrehozása az aktuális könyvtárból található összes
JPEG fájlból:
<screen>
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Egy MPEG-4 fájl létrehozása néhány JPEG fájlból az aktuális könyvtárban:
<screen>
mencoder mf://<replaceable>frame001.jpg,frame002.jpg</replaceable> -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Egy MPEG-4 fájl létrehozása JPEG fájlok explicit listájából (az aktuális könyvtárban lévõ
lista.txt tartalmazza a forrásként felhasználandó fájlokat, soronként egyet):
<screen>
mencoder mf://<replaceable>@lista.txt</replaceable> -mf w=800:h=600:fps=25:type=jpg \ 
-ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell -oac copy -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Egy Motion JPEG (MJPEG) fájl készítése az aktuális könyvtár összes JPEG fájlából:
<screen>
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc copy -oac copy -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Egy tömörítetlen fájl létrehozása az aktuális könyvtár összes PNG fájlából:
<screen>
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc raw -oac copy -o <replaceable>kimenet.avi</replaceable>
</screen>
</para>
</informalexample>

<note><para>
A szélességnek 4 egész többszörösének kell lennie, ez a RAW RGB AVI formátum megszorítása.
</para></note>

<informalexample>
<para>
Egy Motion PNG (MPNG) fájl létrehozása az aktuális könyvtár PNG fájlaiból:
<screen>
mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc copy -oac copy -o <replaceable>kimenet.avi</replaceable> <!--
--></screen>
</para>
</informalexample>

<informalexample>
<para>
Egy Motion TGA (MTGA) fájl létrehozása az aktuális könyvtár összes TGA fájlából:
<screen>
mencoder mf://*.tga -mf w=800:h=600:fps=25:type=tga -ovc copy -oac copy -o <replaceable>kimenet.avi</replaceable><!--
--></screen>
</para>
</informalexample>

</para>
</formalpara>
</sect1>


<sect1 id="menc-feat-extractsub">
<title>DVD felirat elmentése VOBsub fájlba</title>

<para>
A <application>MEncoder</application> képes a feliratok kiszedésére
a DVD-kbõl és elmentésére VOBsub formátumú fájlokba. Ezek két fájlból
állnak, <filename>.idx</filename> és <filename>.sub</filename> kiterjesztéssel,
és általában egy <filename>.rar</filename> archívba vannak becsomagolva.
Az <application>MPlayer</application> le tudja ezeket játszani a
<option>-vobsub</option> és a <option>-vobsubid</option> kapcsolókkal.
</para>

<para>
Meg kell adnod a kimeneti fájlok fájlnevét (az <filename>.idx</filename> vagy
<filename>.sub</filename> kiterjesztés nélkül) a
<option>-vobsubout</option> kapcsolóval és az ezen felirathoz tartozó
indexet a kimeneti fájlokban a <option>-vobsuboutindex</option>-szel.
</para>

<para>
Ha a bemenet nem DVD, akkor a <option>-ifo</option> kapcsolót kell
használnod ahhoz, hogy megadd, hogy <filename>.ifo</filename> fájl
szükséges a kimeneti <filename>.idx</filename> elkészítéséhez.
</para>

<para>
Ha a bemenet nem DVD és nincs <filename>.ifo</filename> fájlod,
a <option>-vobsubid</option> kapcsolót kell használnod, hogy megadd,
milyen nyelv id-t kell beletenni az <filename>.idx</filename> fájlba.
</para>

<para>
Mindkét esetben az éppen futó felirat hozzáíródik a <filename>.idx</filename>
és <filename>.sub</filename> fájlokhoz, amennyiben azok már léteznek. Így
ezeket le kell törölnöd, mielõtt nekiállnál.
</para>

<example>
<title>Két felirat másolása egy DVD-rõl két menetes kódolás közben</title>
<screen>
rm subtitles.idx subtitles.sub
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -vobsubout subtitles -vobsuboutindex 0 -sid 2
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:vpass=2 -vobsubout subtitles -vobsuboutindex 1 -sid 5<!--
--></screen>
</example>

<example>
<title>Francia felirat másolása egy MPEG fájlból</title>
<screen>
rm subtitles.idx subtitles.sub
mencoder <replaceable>movie.mpg</replaceable> -ifo <replaceable>movie.ifo</replaceable> -vobsubout subtitles -vobsuboutindex 0 -vobsuboutid fr -sid 1 -nosound -ovc copy
</screen>
</example>

</sect1>

<sect1 id="aspect">
<title>Képarány megtartása</title>
<para>
A DVD-s és az SVCD-s (pl. MPEG-1/2) fájlokban van egy képméret arány érték, ami
leírja, hogy a lejátszónak hogyan kell méreteznie a videó stream-et, így az
embereknek nem lesz tojás fejük (pl.: 480x480 + 4:3 = 640x480). Ennek ellenére AVI-ba
(DivX) történõ kódoláskor figyelembe kell venned, hogy az AVI fejléc nem tárolja ezt
az értéket. A film átméretezése undorító és idõigényes, kell, hogy legyen egy jobb
megoldás!
</para>

<para>Van is.</para>

<para>
Az MPEG-4-nek van egy egyedülálló sajátossága: a videó stream tartalmazhatja
a szükséges képarányt. Igen, úgy mint az MPEG-1/2 (DVD, SVCD) és a H.263 fájlok.
Sajnos azonban kevés videó lejtászó van az <application>MPlayer</application>en
kívül, ami támogatná ezt az attribútumot.
</para>

<para>
Ez a tulajdonság csak a
<link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link>
<systemitem>mpeg4</systemitem> codec-jével használható. Tartsd észben: habár
az <application>MPlayer</application> hibátlanul lejátsza a létrehozott
fájlt, a többi lejátszó lehet, hogy rossz képarányt fog használni.
</para>

<para>
Ajánlott levágni a fekete sávokat a film képe felett és alatt.
Lásd a man oldalt a <systemitem>cropdetect</systemitem> és a
<systemitem>crop</systemitem> szûrõk használatához.
</para>

<para>
Használat
<screen>mencoder <replaceable>sample-svcd.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:mbd=2:trell:autoaspect -vf crop=714:548:0:14 -oac copy -o <replaceable>kimenet.avi</replaceable></screen>
</para>
</sect1>

</chapter>
