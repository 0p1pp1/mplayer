<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with r18923 -->
<!-- Opiekun: brak (spadek po Paszczim); chwilowo boski -->
<chapter id="ports" xreflabel="Ports">
<title>Porty</title>

<sect1 id="linux">
<title>Linux</title>
<para>
G³ówn± platform± rozwojow± jest Linux x86, chocia¿
<application>MPlayer</application> pracuje równie¿ na wielu innych portach
tego systemu. Pakiety binarne s± dostêpne z kilku ¼róde³, jednak¿e
<emphasis role="bold">¿aden z nich nie jest przez nas obs³ugiwany</emphasis>.
Zg³aszaj problemy do ich opiekunów, a nie do nas.
</para>

<sect2 id="debian">
<title>Pakiety Debiana</title>
<para>
Aby zbudowaæ pakiet dla Debiana, wywo³aj poni¿sze polecenie w katalogu ze ¼ród³ami
<application>MPlayera</application>:

<screen>fakeroot debian/rules binary</screen>

Je¶li chcesz przekazaæ w³asne opcje do skryptu configure, mo¿esz ustawiæ zmienn±
¶rodowiskow± <envar>DEB_BUILD_OPTIONS</envar>. Na przyk³ad, je¶li chcesz
obs³ugi menu i GUI, wygl±da³o by to tak:

<screen>DEB_BUILD_OPTIONS="--enable-gui --enable-menu" fakeroot debian/rules binary</screen>

Mo¿esz przekazaæ równie¿ niektóre zmienne do Makefile. Na przyk³ad, je¶li chcesz
kompilowaæ przy pomocy gcc 3.4, nawet je¶li nie jest to domy¶lny kompilator:

<screen>CC=gcc-3.4 DEB_BUILD_OPTIONS="--enable-gui" fakeroot debian/rules binary</screen>

Aby wyczy¶ci¶ katalog ze ¼ród³ami wykonaj poni¿sza komendê:

<screen>fakeroot debian/rules clean</screen>

Jako superu¿ytkownik mo¿esz zainstalowaæ pakiet <filename>.deb</filename> tak, jak zwykle:

<screen>dpkg -i ../mplayer_<replaceable>wersja</replaceable>.deb</screen>
</para>

<para>
Christian Marillat buduje dla Debiana nieoficjalne paczki
<application>MPlayera</application>, <application>MEncodera</application>
i naszych czcionek bitmapowych ju¿ od jakiego¶ czasu, mo¿esz je pobraæ (apt-get)
z <ulink url="http://www.debian-multimedia.org/">jego strony domowej</ulink>.
</para>
</sect2>

<sect2 id="rpm">
<title>Pakiety RPM</title>
<para>
Dominik Mierzejewski tworzy i opiekuje siê oficjalnymi pakietami RPM
<application>MPlayera</application> dla Red Hata i Fedora Core.
S± one dostêpne w jego
<ulink url="http://rpm.greysector.net/mplayer/">repozytorium</ulink>.
</para>

<para>
RPMy dla Mandrake/Mandriva s± dostêpne na <ulink url="http://plf.zarb.org/">P.L.F.</ulink>.
SuSE zawiera³ okrojon± wersjê <application>MPlayera</application> w dystrybucji.
Usunêli j± w swoich najnowszych wydaniach. W pe³ni funkcjonalne
pakiety mo¿esz pobraæ z
<ulink url="http://packman.links2linux.de/?action=128">links2linux.de</ulink>.
</para>
</sect2>

<sect2 id="arm">
<title>ARM</title>
<para>
<application>MPlayer</application> dzia³a równie¿ na PDA z procesorami ARM
dzia³aj±cych pod kontrol± Linuksa, np. Sharp Zaurus, Compaq iPAQ.
Najprostszym sposobem, ¿eby uzyskaæ <application>MPlayera</application>,
jest pobranie go z odpowiedniego ¼ród³a pakietów (stable, testing, unstable)
z witryny <ulink url="http://www.openzaurus.org">OpenZaurus</ulink>. Je¿eli chcesz
go skompilowaæ samodzielnie, powiniene¶ przyjrzeæ siê katalogom
<ulink url="http://openzaurus.bkbits.net:8080/buildroot/src/packages/mplayer?nav=index.html|src/.|src/packages">mplayera</ulink>
i biblioteki
<ulink url="http://openzaurus.bkbits.net:8080/buildroot/src/packages/libavcodec?nav=index.html|src/.|src/packages">libavcodec</ulink>
w g³ównym katalogu ¼ród³owym OpenZaurusa. Zawieraj± one naj¶wie¿sze ³atki
i pliki Makefile, s³u¿±ce do samodzielnej kompilacji
<application>MPlayera</application> z <systemitem class="library">libavcodec</systemitem>.
Je¿eli potrzebujesz interfejsu GUI, mo¿esz u¿yæ xmms-embedded.
</para>
</sect2>
</sect1>

<sect1 id="bsd">
<title>*BSD</title>
<para>
<application>MPlayer</application> dzia³a na FreeBSD, OpenBSD, NetBSD,
BSD/OS i Darwinie. Dostêpne s± wersje portów/pkgsrc/fink/itp., które
prawdopodobnie s± ³atwiejsze w instalacji, ni¿ kompilacja ze ¼róde³.
</para>

<para>
Do zbudowania <application>MPlayera</application> bêdziesz potrzebowa³
GNU make (gmake - rdzenne make BSD nie zadzia³a) i najnowszej wersji binutils.
</para>

<para>
Je¿eli <application>MPlayer</application> nie mo¿e znale¼æ
<filename>/dev/cdrom</filename> lub <filename>/dev/dvd</filename>,
stwórz odpowiednie dowi±zanie symboliczne:
<screen>ln -s /dev/<replaceable>twoje_urz±dzenie_cdrom</replaceable> /dev/cdrom</screen>
</para>

<para>
Aby u¿ywaæ bibliotek Win32 z <application>MPlayerem</application>, bêdziesz
potrzebowa³ przekompilowaæ j±dro z opcj± &quot;<envar>USER_LDT</envar>&quot;
(chyba, ¿e u¿ywasz FreeBSD-CURRENT, tam jest domy¶lnie w³±czona).
</para>

<sect2 id="freebsd">
<title>FreeBSD</title>
<para>
Je¿eli Twój procesor ma rozszerzenie SSE, przekompiluj j±dro z opcj±
&quot;<envar>CPU_ENABLE_SSE</envar>&quot; (wymagany FreeBSD-STABLE lub ³aty na j±dro).
</para>
</sect2>

<sect2 id="openbsd">
<title>OpenBSD</title>
<para>Ze wzglêdu na ograniczenia w ró¿nych wersjach gas (GNU assemblera - przyp. t³umacza)
(dotycz±ce relokacji i MMX), bêdziesz musia³ przeprowadziæ kompilacjê w dwóch krokach:
Po pierwsze, upewnij siê, ¿e wersja nierdzenna wystêpuje w zmiennej <envar>$PATH</envar>
i wykonaj <command>gmake -k</command>, a nastêpnie upewnij siê, ¿e u¿ywana jest wersja rdzenna
i wykonaj <command>gmake</command>.
</para>
<para>
Powy¿sza metoda nie jest ju¿ potrzebna w OpenBSD 3.4.
</para>
</sect2>

<sect2 id="darwin">
<title>Darwin</title>
<para>
Zobacz rozdzia³ <link linkend="macos">Mac OS</link>.
</para>
</sect2>
</sect1>

<sect1 id="unix">
<title>Komercyjny Unix</title>

<para>
<application>MPlayer</application> zosta³ przeportowany na wiele komercyjnych
wariantów Uniksa. Jako, ¿e ¶rodowiska programistyczne przewa¿nie ró¿ni± siê od tych
znajdowanych w wolnych Uniksach, byæ mo¿e bêdziesz musia³ wprowadziæ rêczne
poprawki, aby program skompilowa³ siê poprawnie.
</para>
<sect2 id="solaris">
<title>Solaris</title>

<para>
<application>MPlayer</application> powinien dzia³aæ na Solarisie 2.6 lub nowszym.
Mo¿esz skorzystaæ ze sterownika d¼wiêku SUN'a podaj±æ opcjê <option>-ao sun</option>.
</para>

<para>
Na <emphasis role="bold">UltraSPARCach</emphasis>,
<application>MPlayer</application> korzysta z rozszerzenia
<emphasis role="bold">VIS</emphasis> (odpowiednik MMX), obecnie tylko w
<emphasis><systemitem class="library">libmpeg2</systemitem></emphasis>,
<emphasis><systemitem class="library">libavo</systemitem></emphasis> i
<emphasis><systemitem class="library">libavcodec</systemitem></emphasis>,
ale nie w <systemitem class="library">mp3lib</systemitem>. Mo¿esz ogl±daæ plik VOB na
procesorze z taktowaniem 400MHz. Bêdziesz potrzebowa³ do tego biblioteki
<ulink url="http://www.sun.com/sparc/vis/mediaLib.html">
<systemitem class="library">mLib</systemitem></ulink>.
</para>

<para><emphasis role="bold">Caveat:</emphasis></para>
<itemizedlist>
	<listitem><para><emphasis role="bold">mediaLib</emphasis> jest
			<emphasis role="bold">aktualnie wy³±czone</emphasis> w domy¶lnej
			konfiguracji <application>MPlayera</application>, z powodu b³êdów.
			U¿ytkownicy SPARC-ów, którzy buduj± MPlayera z obs³ug± mediaLib
			informowali o delikatnym, zielonymi miganiu wideo kodowane i dekodowanego
			przez libavcodec. Mo¿esz w³±czyæ mediaLib, je¿eli chcesz u¿ywaj±c:
			<screen>
				$ ./configure --enable-mlib
				</screen>
			Robisz to na w³asne ryzyko. U¿ytkownicy x86 powinni
			<emphasis role="bold">nigdy</emphasis> nie u¿ywaæ mediaLib,
			poniewa¿ w efekcie otrzymaj± kiepsk± wydajno¶æ MPlayera.
			</para></listitem>
	</itemizedlist>

<para>
Aby zbudowaæ pakiet, bêdziesz potrzebowa³ GNU <application>make</application>
(<filename>gmake</filename>, <filename>/opt/sfw/gmake</filename>), rdzenne make
Solarisa nie zadzia³a. Typowy b³±d jaki otrzymujesz, buduj±c tym drugim zamiast GNU
make, to:
<screen>
   % /usr/ccs/bin/make
   make: Fatal error in reader: Makefile, line 25: Unexpected end of line seen
</screen>
</para>

<para>
W Solarisie przeznaczonym dla SPARC, potrzebujesz kompilatora GNU C/C++; nie ma
znaczenia, czy jest on skonfigurowany z, czy bez GNU assemblera.
</para>

<para>
Na Solarisie x86, potrzebujesz GNU assemblera i kompilatora GNU C/C++,
skonfigurowanego do u¿ywania GNU assemblera! Kod
<application>MPlayera</application>, na platformie x86, w znacz±cy sposób korzysta
z instrukcji MMX, SSE i 3DNOW!, które nie mog± byæ skompilowane przy pomocy
assemblera Sun <filename>/usr/ccs/bin/as</filename>.
</para>

<para>
Skrypt <filename>configure</filename> stara siê okre¶liæ, jaki assembler
wywo³ywany jest przez komendê &quot;gcc&quot; (je¿eli próba zakoñczy siê fiaskiem,
u¿yj opcji <option>--as=<replaceable>/gdziekolwiek/zainstalowa³e¶/gnu-as</replaceable></option>,
¿eby okre¶liæ gdzie skrypt <filename>configure</filename> mo¿e znale¼æ GNU "as" w Twoim
systemie).
</para>

<para>Rozwi±zania najczêstszych problemów:</para>
<itemizedlist>
	<listitem><para>
			B³±d jaki wy¶wietli <filename>configure</filename> na Solarisie x86,
			u¿ywaj±cym GCC bez GNU assemblera:
<screen>
   % configure
   ...
   Checking assembler (/usr/ccs/bin/as) ... , failed
   Please upgrade(downgrade) binutils to 2.10.1...
</screen>
(Rozwi±zanie: Zainstaluj i u¿ywaj gcc skonfigurowanego z opcj± <option>--with-as=gas</option>)
</para>

<para>
Typowy b³±d, jaki otrzymasz przy próbie budowy kompilatorem GNU C, który nie u¿ywa GNU as:
<screen>
   % gmake
   ...
   gcc -c -Iloader -Ilibvo -O4 -march=i686 -mcpu=i686 -pipe -ffast-math
        -fomit-frame-pointer  -I/usr/local/include   -o mplayer.o mplayer.c
   Assembler: mplayer.c
   "(stdin)", line 3567 : Illegal mnemonic
   "(stdin)", line 3567 : Syntax error
   ... more "Illegal mnemonic" and "Syntax error" errors ...
</screen>
</para>
</listitem>

<listitem><para><application>MPlayer</application> mo¿e siê wysypaæ
		podczas dekodowania i kodowania wideo u¿ywaj±cych win32codecs:
		<screen>
			...
			Trying to force audio codec driver family acm...
			Opening audio decoder: [acm] Win32/ACM decoders
			sysi86(SI86DSCR): Invalid argument
			Couldn't install fs segment, expect segfault
			
			
			MPlayer interrupted by signal 11 in module: init_audio_codec
			...
		</screen>
		Dzieje siê tak z powodu zmian w sysi86() w Solaris 10 i wydaniach
		pre-Solaris Nevada b31. Zosta³o to naprawione w Solaris Nevada b32;
		jednak Sun nie przeniós³ jeszcze poprawki do Solarisa 10. Projekt
		MPlayer poinformowa³ o tym problemie Sun i ³atka jest aktualnie
		wprowadzana do Solarisa 10. Wiêcej informacji o tym b³êdzie mo¿e
		zostaæ znaleziona  na stronie:
		<ulink
			   url="http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6308413"/>.
		</para>
	</listitem>

<listitem><para>
		Ze wzglêdu na b³êdy wystêpuj±ce w Solarisie 8, mo¿esz nie byæ w stanie odtwarzaæ
		p³yt DVD o pojemno¶ci wiêkszej ni¿ 4 GB:
</para>

<itemizedlist>
<listitem><para>
Sterownik sd(7D) dla Solarisa 8 x86 ma b³±d ujawniaj±cy siê przy próbie dostêpu do
bloku dyskowego >4GB urz±dzenia korzystaj±cego z logicznego rozmiaru bloku !=DEV_BSIZE
(np. no¶nik CD-ROM i DVD). Ze wzglêdu na przepe³nienie 32bitowych liczb ca³kowitych,
odczytywany jest adres dysku modulo 4GB
(<ulink url="http://groups.yahoo.com/group/solarisonintel/message/22516"/>).
Ten problem nie wystêpuje na Solarisie 8 przeznaczonym dla procesorów SPARC.
</para></listitem>

<listitem><para>
Podobny b³±d wystêpuje w kodzie systemu plików hsfs(7FS) (znanym jako ISO9660),
hsfs mo¿e nie obs³ugiwaæ partycji/dysków wiêkszych ni¿ 4GB, wszystkie dane s±
odczytywane z bloku modulo 4GB
(<ulink url="http://groups.yahoo.com/group/solarisonintel/message/22592"/>).
Problem mo¿e byæ rozwi±zany przy pomocy ³atki 109764-04 (sparc) / 109765-04 (x86).
</para></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</sect2>

<sect2 id="irix">
<title>IRIX</title>
<para>
Mo¿esz albo spróbowaæ zainstalowaæ program GNU install i (je¿eli nie
umie¶ci³e¶ go w globalnej ¶cie¿ce) wskazaæ go przez:
<screen>./configure --with-install=
<replaceable>/¶cie¿ka/i/nazwa/programu/instalacyjnego</replaceable></screen>
</para>

<para>
Albo u¿yæ domy¶lnego programu instalacyjnego dostarczonego z IRIX 6.5, w tym
wypadku nale¿y rêcznie zmodyfikowaæ plik <filename>Makefile</filename> w
kilku miejscach. Zmieñ poni¿sze dwie linijki:
<programlisting>
  $(INSTALL) -c -m 644 DOCS/mplayer.1 $(MANDIR)/man1/mplayer.1

  $(INSTALL) -c -m 644 etc/codecs.conf $(CONFDIR)/codecs.conf
</programlisting>
na:
<programlisting>
  $(INSTALL) -m 644 mplayer.1 $(MANDIR)/man1/

  $(INSTALL) -m 644 codecs.conf $(CONFDIR)/
</programlisting>
A potem wykonaj (w katalogu ¼ród³owym <application>MPlayera</application>):
<screen>cp DOCS/mplayer.1 . ; cp etc/codecs.conf .</screen>
i dalej skompiluj i zainstaluj.
</para>
</sect2>

<sect2 id="hp-ux">
<title>HP-UX</title>
<para>
Joe Page umie¶ci³ na swojej stronie domowej
<ulink url="http://users.rcn.com/joepage/mplayer_on_hpux11.htm">dokument
HOWTO</ulink> stworzony przez Martina Gansser'a dotycz±cy <application>MPlayera</application>
na HP-UX. Korzystaj±c z zawartych tam intrukcji program powinien siê skompilowaæ bez
najmniejszych problemów. Poni¿sze informacje s± zaczerpniête z tego opracowania.
</para>


<para>
Do budowy bêdziesz potrzebowa³ GCC 3.4.0, GNU make 3.80, i SDL 1.2.7 lub ich
nowszych wersji. Kompilator HP cc nie wyprodukuje dzia³aj±cego programu,
a wcze¶niejsze wersje GCC s± pe³ne b³êdów.
Aby moæ skorzystaæ z OpenGL, musisz zainstalowaæ biblioteki Mesa, wtedy
sterowniki wyj¶cia video gl i gl2 powinny dzia³aæ. Ich wydajno¶æ mo¿e byæ
tragiczna, jednak zale¿ne jest to od mocy obliczeniowej procesora. Dobrym
zamiennikiem, raczej kiepskiego, systemu d¼wiêkowego HP-UX jest GNU esound.
</para>

<para>
Stwórz urz±dzenie DVD, przeskanuj magistralê SCSI komend±:
</para>

<screen>
# ioscan -fn

Class          I            H/W   Path          Driver    S/W State    H/W Type        Description
...
ext_bus 1    8/16/5      c720  CLAIMED INTERFACE  Built-in SCSI
target  3    8/16/5.2    tgt   CLAIMED DEVICE
disk    4    8/16/5.<emphasis role="bold">2</emphasis>.<emphasis role="bold">0</emphasis>  sdisk CLAIMED DEVICE     <emphasis role="bold">PIONEER DVD-ROM DVD-305</emphasis>
                         /dev/dsk/c1t2d0 <emphasis role="bold">/dev/rdsk/c1t2d0</emphasis>
target  4    8/16/5.7    tgt   CLAIMED DEVICE
ctl     <emphasis role="bold">1</emphasis>    8/16/5.7.0  sctl  CLAIMED DEVICE     Initiator
                         /dev/rscsi/c1t7d0 /dev/rscsi/c1t7l0 /dev/scsi/c1t7l0
...
</screen>

<para>
Z rezultatów dzia³ania komendy mo¿emy odczytaæ, ¿e na adresie 2 SCSI znajduje
siê Pioneer DVD-ROM. Instancja karty dla ¶cie¿ki sprzêtowej 8/16 to 1.
</para>

<para>
Stwórz dowi±zanie surowego urz±dzenia do urz±dzenia DVD.
</para>

<screen>
# ln -s /dev/rdsk/c<replaceable>&lt;instancja magistrali SCSI&gt;</replaceable>t<replaceable>&lt;ID docelowego SCSI&gt;</replaceable>d<replaceable>&lt;LUN&gt;</replaceable> /dev/<replaceable>&lt;urz±dzenie&gt;</replaceable>
</screen>

<para>
Przyk³ad:
</para>

<screen>
# ln -s /dev/rdsk/c1t2d0 /dev/dvd
</screen>

<para>
Poni¿ej znajduj± siê rozwi±zania kilku najczêstszych problemów:
</para>

<itemizedlist>
<listitem>
<para>
Wysypanie siê programu przy uruchamianiu z komunikatem b³êdu:
<screen>
/usr/lib/dld.sl: Unresolved symbol: finite (code) from /usr/local/lib/gcc-lib/hppa2.0n-hp-hpux11.00/3.2/../../../libGL.sl
</screen>
</para>

<para>
Oznacza to, ¿e funkcja <systemitem>.finite().</systemitem> jest niedostêpna
w standardowej bibliotece math HP-UX.
Zamiast niej dostêpna jest <systemitem>.isfinite().</systemitem>.
Rozwi±zanie: Skorzystaj z najnowszego pliku sk³adowego Mesa.
</para>
</listitem>

<listitem>
<para>
Wysypanie siê programu przy odtwarzaniu z komunikatem:
<screen>
/usr/lib/dld.sl: Unresolved symbol: sem_init (code) from /usr/local/lib/libSDL-1.2.sl.0
</screen>
</para>

<para>
Rozwi±zanie: Skorzystaj z opcji extralibdir skryptu configure
<option>--with-extralibdir="/usr/lib -lrt"</option>
</para>
</listitem>

<listitem>
<para>
MPlayer powoduje b³±d naruszenia ochrony pamiêci (segfault) z komunikatem:
<screen>
Pid 10166 received a SIGSEGV for stack growth failure.
Possible causes: insufficient memory or swap space, or stack size exceeded maxssiz.
Segmentation fault
</screen>
</para>

<para>
Rozwiazanie:
J±dro HP-UX ma domy¶lnie zdefiniowany rozmiar stosu przeznaczonego na ka¿dy
proces i jest to 8MB(?).(11.0 i nowsze ³atki 10.20 pozwalaj± Ci zwiêkszyæ
parametr <systemitem>maxssiz</systemitem> do 350MB dla 32-bitowych programów).
Musisz rozszerzyæ <systemitem>maxssiz</systemitem> i przekompilowaæ j±dro
(i uruchomiæ ponownie komputer). Mo¿esz wykorzystaæ do tego celu SAM. (Kiedy
w nim bêdziesz, sprawd¼ warto¶æ <systemitem>maxdsiz</systemitem>. Okre¶la ona
maksymalny rozmiar danych, jak± program mo¿e u¿yæ. To czy domy¶lne 64MB wystarczy
czy nie, zale¿y wy³±cznie od wymagañ Twoich aplikacji.)
</para>
</listitem>
</itemizedlist>

</sect2>

<sect2 id="aix">
<title>AIX</title>
<para>
<application>MPlayer</application> kompiluje siê z powodzenie na AIX 5.1,
5.2 i 5.3, korzystaj±c z GCC 3.3 lub wy¿szego. Budowanie
<application>MPlayer</application> na AIX 4.3.3 i ni¿szych nie
by³o sprawdzane. Zaleca siê, aby¶ budowal <application>MPlayera</application>
u¿ywaj±c GCC 3.4 lub wy¿szego lub je¿eli kompilujesz na POWER5 - GCC 4.0.
</para>

<para>
Upenij siê, ¿e u¿ywasz GNU make (<filename>/opt/freeware/bin/gmake</filename>), aby
kompilowaæ <application>MPlayera</application>, jako ¿e mo¿esz napotkaæ na problemy
przy korzystaniu z <filename>/usr/ccs/bin/make</filename>.
</para>
<para>
Wykrywanie CPU jest ci±gle dopracowywane.
Poni¿sze architektury zosta³y przetestowane:
</para>

<itemizedlist>
<listitem><para>604e</para></listitem>
<listitem><para>POWER3</para></listitem>
<listitem><para>POWER4</para></listitem>
</itemizedlist>

<para>
Poni¿sze architektury nie by³y testowane, ale i tak powinny dzia³aæ:
</para>
<itemizedlist>
<listitem><para>POWER</para></listitem>
<listitem><para>POWER2</para></listitem>
<listitem><para>POWER5</para></listitem>
</itemizedlist>

<para>
D¼wiêk przez Ultimedia Services nie jest obs³ugiwany, jako ¿e ta technologia
zosta³a porzucona w AIX 5.1; dlatego te¿, jedynym wyj¶ciem jest korzystanie
ze sterowników AIX Open Sound System (OSS) tworzonych przez 4Front Technologies,
znajdziesz je na
<ulink url="http://www.opensound.com/aix.html">http://www.opensound.com/aix.html
</ulink>.
4Front Technologies udostêpnia swoje sterowniki OSS za darmo do niekomercyjnego
zastosowania; jednak¿e, nie ma aktualnie sterowników wyj¶cia audio dla AIX 5.2 lub 5.3.
Oznacza to, ¿e <emphasis role="bold">AIX 5.2 i 5.3 nie potrafi± aktualnie u¿ywaæ
	wyj¶cia audio MPlayera.</emphasis>
</para>

<para>Rozwi±zania czêstych problemów:</para>

<itemizedlist>
	<listitem>
		<para>
			Je¿eli otrzymujesz od <filename>configure</filename> taki komunikat b³êdu:
			<screen>
				$ ./configure
				...
				Checking for iconv program ... no
				No working iconv program found, use
				--charset=US-ASCII to continue anyway.
				Messages in the GTK-2 interface will be broken then.
				</screen>
				To dzieje siê tak dlatego, ¿e AIX u¿ywa nie standardowych
				zestawów nazw znaków; dlatego te¿, konwersja wyj¶cia MPlayera
				do innego zestawu znaków (kodowania) nie jest aktualnie obs³ugiwana.
				Rozwi±zaniem jest u¿ycie:
			<screen>
				$ ./configure --charset=noconv
				</screen>
			</para>
		</listitem>
	</itemizedlist>

</sect2>
</sect1>

<sect1 id="windows">
<title>Windows</title>

<para>Tak, <application>MPlayer</application> dzia³a na Windowsie pod
  <ulink url="http://www.cygwin.com/"><application>Cygwinem</application></ulink> i
  <ulink url="http://www.mingw.org/"><application>MinGW</application></ulink>.
  Nie ma jeszcze oficjalnego interfejsu GUI, ale wersja dla wiersza poleceñ jest ju¿ w pe³ni
  funkcjonalna. Powiniene¶ sprawdziæ listê
  <ulink url="http://mplayerhq.hu/mailman/listinfo/mplayer-cygwin/">MPlayer-cygwin</ulink>,
  aby uzyskaæ pomoc albo otrzymaæ najnowsze informacje.
  Oficjalne paczki z binariami dla Windowsa znajdziesz na
  <ulink url="http://www.mplayerhq.hu/design7/dload.html">stronie pobierania</ulink>.
  Pakiety zawieraj±ce instalatory i proste nak³adki GUI dostêpne s± z zewnêtrznych
  ¼róde³, informacje o nich zebrali¶my w sekcji po¶wiêconej Windowsowi na
  <ulink url="http://www.mplayerhq.hu/design7/projects.html#windows">stronie projektów</ulink>.
</para>

<para>Je¿eli chcesz unikn±æ korzystania z wiersza poleceñ, prostym sposobem
      na jego ominiêcie jest umieszczenie skrótu na pulpicie, który bêdzie
      zawiera³ podobny wpis w czê¶ci odpowiedzialnej za wykonanie
      komendy:
      <screen><replaceable>c:\¶cie¿ka\do\</replaceable>mplayer.exe %1</screen>
      Spowoduje to, ¿e <application>MPlayer</application> bêdzie odtwarza³
      film, który zostanie przeci±gniêty na jego skrót. Dodaj opcjê
      <option>-fs</option>, aby korzystaæ z trybu pe³noekranowego.
</para>

<para>Najlepsze wyniki s± osi±gane ze sterownikami wyj¶ciowymi video DirectX
  (<option>-vo directx</option>). Mo¿esz skorzystaæ równie¿ z OpenGL lub SDL, jednak
  wydajno¶æ OpenGL w znacznym stopniu zale¿y od systemu, a SDL mo¿e powodowaæ powstanie
  zak³óceñ w obrazie albo wywo³aæ b³±d, i zakoñczyæ dzia³anie programu.
  Je¿eli wystêpuj± zak³ócenia obrazu, spróbuj
  wy³±czyæ sprzêtow± akceleracjê przez opcjê <option>-vo directx:noaccel</option>. ¦ci±gnij
  <ulink url="http://www.mplayerhq.hu/MPlayer/releases/win32/contrib/dx7headers.tgz">pliki
  nag³ówkowe DirectX 7</ulink>, ¿eby skompilowaæ sterownik do wyj¶cia video
  DirectX. Co wiêcej, musisz mieæ zainstalowany DirectX 7 lub nowszy,
  aby to wyj¶cie zadzia³a³o.</para>

<para><link linkend="vidix">VIDIX</link> dzia³a teraz równie¿ pod Windowsem jako
  <option>-vo winvidix</option>, chocia¿ jego obs³uga jest eksperymentalna i wymaga
  trochê rêcznego przygotowania. Pobierz
  <ulink url="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/dhahelper.sys">dhahelper.sys</ulink>
  lub
  <ulink url="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/withmtrr/dhahelper.sys">dhahelper.sys
  (z obs³ug± MTRR)</ulink>
  i skopiuj go do
  <filename class="directory">libdha/dhahelperwin</filename> w drzewie ¼ród³owym
  <application>MPlayera</application>. Uruchom konsolê, nastêpnie przejd¼ do tego katalogu i wykonaj

  <screen>gcc -o dhasetup.exe dhasetup.c</screen>

  i

  <screen>dhasetup.exe install</screen>

  jako Administrator. Bêdziesz musia³ ponownie uruchomiæ komputer. Teraz, skopiuj wszystkie pliki
  z rozszerzeniem <systemitem class="library">.so</systemitem> z katalogu
  <filename class="directory">vidix/drivers</filename> do
  <filename class="directory">mplayer/vidix</filename>
  wzglêdem po³o¿nia pliku <filename>mplayer.exe</filename>.</para>

<para>¯eby osi±gn±æ najlepsze wyniki <application>MPlayer</application> powinien
  korzystaæ z przestrzeni kolorów, któr± Twoja karta wspomaga sprzêtowo. Niestety
  wiele sterowników graficznych Windowsa ¼le informuje o obs³ugiwanych przez kartê
  przestrzeniach. Aby sprawdziæ które s± ¼le obs³ugiwane, wykonaj poni¿sz± komendê:

  <screen>mplayer -benchmark -nosound -frames 100 -vf format=<replaceable>przestrzeñ</replaceable> <replaceable>film</replaceable></screen>

  gdzie <replaceable>przestrzeñ</replaceable> mo¿e byæ jak±kolwiek
  warto¶ci± spo¶ród tych uzyskanych przez opcjê <option>-vf format=fmt=help</option>.
  Je¶li która¶ z nich dzia³a szczególnie ¼le, opcja
  <option>-vf noformat=<replaceable>przestrzeñ</replaceable></option>
  zapobiegnie jej u¿ywaniu. Mo¿esz to na sta³e dodaæ do Twojego pliku konfiguracyjnego.</para>

<para>Dostêpne s± specjalne zbiory z kodekami przeznaczone dla systemu Windows, znajdziesz je na
  <ulink url="http://mplayerhq.hu/design7/codecs.html">stronie kodeków</ulink>.
  Pozwol± Ci one na odtwarzanie formatów, które nie s± jeszcze bezpo¶rednio obs³ugiwane w
  <application>MPlayerze</application>. Umie¶æ je, gdzie¶ w swojej ¶cie¿ce (w katalogu podanym w
  zmiennej PATH - przyp. t³umacza) lub przeka¿ opcjê
  <option>--with-codecsdir=<replaceable>c:/¶cie¿ka/do/Twoich/kodeków</replaceable></option>
  (lub, tylko w ¶rodowkisku Cygwin,
  <option>--with-codecsdir=<replaceable>/¶cie¿ka/do/Twoich/kodeków</replaceable></option>)
  do skryptu <filename>configure</filename>.
  Mieli¶my doniesienia, ¿e biblioteki Real, musz± byæ zapisywalne dla u¿ytkownika, który
  uruchamia <application>MPlayera</application>, ale tylko na niektórych systemach (NT4).
  Spróbuj nadaæ im atrybut zapisywalno¶ci.</para>

<para>Mo¿esz odtwarzaæ VCD, odtwarzaj±c pliki <filename>.DAT</filename> lub <filename>.MPG</filename>,
  które Windows pokazuje na VCD. To dzia³a mniej wiêcej tak (dopasuj literê dysku do Twojego
  CD-ROMu):</para>

<screen>mplayer <replaceable>d:/mpegav/avseq01.dat</replaceable></screen>

<para>DVD równie¿ dzia³a, podaj literê Twojego DVD-ROMu przez
  opcjê <option>-dvd-device</option>:</para>

<screen>mplayer dvd://<replaceable>&lt;tytu³&gt;</replaceable> -dvd-device <replaceable>d</replaceable>:</screen>

<para>Konsola <application>Cygwin</application>/<application>MinGW</application>
  jest raczej wolna. Zg³oszono, ¿e przekierowywanie wyj¶cia albo u¿ywanie
  opcji <option>-quiet</option> poprawia wydajno¶æ na
  niektórych systemach. Bezpo¶rednie renderowanie (<option>-dr</option>) równie¿
  mo¿e pomóc. Je¿eli odtwarzanie jest nierówne, spróbuj u¿yæ
  <option>-autosync 100</option>. Je¿eli którakolwiek z tych opcji Ci pomog³a,
  mo¿e bêdziesz chcia³ umie¶ciæ j± w swoim pliku konfiguracyjnym.</para>

<note>

<para>Na Windowsie automatyczne wykrywanie typu procesora
	wy³±cza rozszerzenie SSE z powodu okazjonalnych i ciê¿kich
	do wy¶ledzenia b³êdów powoduj±cych zakoñczenie aplikacji. Je¿eli
	nadal chesz mieæ obs³ugê SSE pod Windowsem, bêdziesz musia³
	skompilowaæ program bez wykrywania typu CPU w trakcie dzia³ania.
</para>

<para>Je¿eli masz Pentium 4 i program wysypuje Ci siê podczas u¿ywania
	kodeków RealPlayer'a, prawdopodobnie bêdziesz musia³ wy³±czyæ
	obs³ugê hyperthreading'u.
</para>
</note>



<sect2 id="cygwin">
<title><application>Cygwin</application></title>

<para>Aby skompilowaæ <application>MPlayera</application> wymagana jest wersja
    <application>Cygwina</application> 1.5.0 lub pó¼niejsza.</para>

<para>Pliki nag³ówkowe DirectX musz± byæ rozpakowane do
  <filename class="directory">/usr/include/</filename> lub
  <filename class="directory">/usr/local/include/</filename>.</para>

<para>Instrukcje i pliki potrzebne do kompilacji SDLa dla <application>Cygwin</application>
  s± dostêpne na
  <ulink url="http://www.libsdl.org/extras/win32/cygwin/">stronie libsdl</ulink>.</para>

</sect2>

<sect2 id="mingw">
<title><application>MinGW</application></title>

<para>Zainstalowanie <application>MinGW</application>, który umo¿liwi³by
  kompilacjê <application>MPlayera</application> by³o zawi³e,
  ale teraz sk³ada siê tylko z trzech prostych kroków i nied³ugo powinno
  dzia³aæ "prosto z pude³ka". Zainstaluj <application>MinGW</application>
  3.0.0 lub nowszy. Zainstaluj MSYS 1.0.9 lub nowszy i wska¿ systemowi poinstalacyjnemu
  MSYSa, ¿e <application>MinGW</application> jest zainstalowane.</para>

<para>Rozpakuj pliki nag³ówkowe DirectX do <filename class="directory">/mingw/include/</filename>.</para>

<para>Do obs³ugi skompresowanych nag³ówków MOV wymagana jest biblioteka
  <ulink url="http://www.gzip.org/zlib/">zlib</ulink>, która nie jest
  domy¶lnie dostêpna w <application>MinGW</application>.
  Skonfiguruj j± z opcj± <option>--prefix=/mingw</option> i zainstaluj
  przed kompilacj± <application>MPlayera</application>.</para>

<para>Pe³n± instrukcjê jak zbudowaæ <application>MPlayera</application>
  i wszystkie potrzebne biblioteki znajdziesz w
  <ulink url="http://mplayerhq.hu/MPlayer/releases/win32/contrib/MPlayer-MinGW-Howto.txt">MPlayer MinGW HOWTO</ulink>.</para>

</sect2>

</sect1>
<sect1 id="macos">
<title>Mac OS</title>

<para>
"Surowe" ¼ród³a <application>MPlayera</application> obs³uguj±
tylko Mac OS X w wersjach 10.2 i wy¿szych. Mo¿esz spróbowaæ umo¿liwiæ
obs³ugê starszych wersji Mac OS oraz przys³aæ nam ³aty!
<application>MPlayer</application> nie dzia³a na Mac OS w wersjach ni¿szych ni¿
10, jednak powinien skompilowaæ siê bez problemu na systemie Mac OS X 10.2 i
wy¿szym. Zalecanym kompilatorem jest GCC 3.x w wersji Apple.
Mo¿esz otrzymaæ podstawowe ¶rodowisko do kompilacji, instaluj±c
<ulink url="http://developer.apple.com/tools/download/">Xcode</ulink> od Apple.
Je¿eli masz Mac OS X 10.3.9 lub pó¼niejszy i QuickTime 7, mo¿esz
skorzystaæ ze sterownika wyj¶cia video <option>macosx</option>.
</para>

<para>
	Niestety, to podstawowe ¶rodowisko ni epozwoli ci na skorzystanie ze
	wszystkich fajnych mo¿liwo¶ci <application>MPlayera</application>.
	Przyk³adowo, ¿eby uzyskaæ wkompilowan± obs³ugê OSD, bêdziesz
	potrzebowa³ bibliotek <systemitem class="library">fontconfig</systemitem>
	i <systemitem class="library">freetype</systemitem>
	zainstalowanych na swojej maszynie.
	W przeciwieñstwie do innych Uniksów, takich jak wiêkszo¶æ odmian
	Linuksa i BSD, OS X nie ma systemu pakietów dostarczanego razem
	z systemem.
	</para>

<para>
	Mo¿na wybieraæ spo¶ród co najmniej dwóch systemów pakietów:
	<ulink url="http://fink.sourceforge.net/">Fink</ulink> i
	<ulink url="http://darwinports.opendarwin.org/">DarwinPorts</ulink>.\
	Oba dostarczaj± takie same us³ugi (np. du¿o pakietów do wyboru,
	rozwi±zywanie zale¿no¶ci, mo¿liwo¶æ ³atwego dodania/aktualizacji/usuniêcia
	pakietów itp.).
	Fink oferuje zarówno binarne pakiety, jak i mo¿liwo¶æ zbudowania wszystkiego
	ze ¼róde³. Natomiast DarwinPorts pozwala tylko na budowanie ze ¼róde³.
	Autorzy tego przewodnika wybrali DarwinPorts z powodu tej prostej przyczyny,
	¿e jego podstawowa wersja by³a l¿ejsza.
	Podane przyk³ady bêd± oparte na DarwinPorts.
	</para>

<para>
	Przyk³adowo, ¿eby skomilowaæ <application>MPlayera</application> z obs³ug±
	OSD:
	<screen>sudo port install pkgconfig</screen>
	Zainstaluje to <application>pkg-config</application>, który jest systemem
	do zarz±dzania flagami kompilacji/dowi±zañ bibliotek.
	<application>MPlayerowy</application> skrypt
	<systemitem>configure</systemitem>u¿ywa go do prawid³owego
	wykrywania bibliotek.
	Nastêpnie mo¿esz zainstalowaæ <application>fontconfig</application>
	w podobny sposób:
	<screen>sudo port install fontconfig</screen>
	Nastêpnie mo¿esz uruchomiæ <application>MPlayerowy</application> skrypt
	<systemitem>configure</systemitem> (zapisz zmienne systemowe
	<systemitem>PKG_CONFIG_PATH</systemitem>
	i <systemitem>PATH</systemitem>, ¿eby
	<systemitem>configure</systemitem> znalaz³ biblioteki zainstalowane
	przez DarwinPorts):
	<screen>PKG_CONFIG_PATH=/opt/local/lib/pkgconfig/ PATH=$PATH:/opt/local/bin/ ./configure</screen>
	</para>

<sect2 id="osx_gui">
<title>MPlayer OS X GUI</title>
<para>
Mo¿esz pobraæ natywne GUI dla <application>MPlayera</application> razem
z prekompilowanymi binariami <application>MPlayera</application> dla
Mac OS X ze strony projektu
<ulink url="http://mplayerosx.sf.net/">MPlayerOSX</ulink>, ale uwaga:
projekt nie jest ju¿ aktywny.
</para>
<para>
Na szczê¶cie, <application>MPlayerOSX</application> zosta³ przejêty
przez cz³onka za³ogi <application>MPlayera</application>.
Wersje testowe s± dostêpne na stronie z
<ulink url="http://mplayerhq.hu/dload.html">materia³ami do
pobrania</ulink>, a oficjalne wydanie powinno pojawiæ siê ju¿
nied³ugo.
</para>
<para>
Aby zbudowaæ <application>MPlayerOSX</application> bezpo¶rednio
ze ¼róde³, potrzebujesz modu³u <systemitem>mplayerosx</systemitem>,
<systemitem>main</systemitem> i kopii modu³u CVS
<systemitem>main</systemitem> o nazwie
<systemitem>main_noaltivec</systemitem>.
<systemitem>mplayerosx</systemitem> to graficzna nak³adka,
<systemitem>main</systemitem> to MPlayer, a
<systemitem>main_noaltivec</systemitem> to MPlayer zbudowany bez obs³ugi
AltiVec.

</para>
<para>
Aby pobraæ modu³ z repozytorium SVN wykonaj polecenia:
<screen>
	svn checkout svn://svn.mplayerhq.hu/mplayerosx/trunk/ mplayerosx
	svn checkout svn://svn.mplayerhq.hu/mplayer/trunk/ main
</screen>
</para>
<para>
W celu zbudowania <application>MPlayerOSX</application> bêdziesz musia³
utowrzyæ podobn± strukturê katalogów:
<screen>
katalog_¼ród³owy_MPlayera
   |
   |--->main           (¼ród³a MPlayera z Subversion)
   |
   |--->main_noaltivec (¼ród³a MPlayera z Subversion skonfigurowane z opcj± --disable-altivec)
   |
   |--->mplayerosx     (¼ród³a MPlayer OS X z Subversion)
</screen>

Najpierw musisz zbudowaæ main i main_noaltivec.
</para>

<para>
Nastêpnie ustaw globaln± zmienn±:

<screen>export MACOSX_DEPLOYMENT_TARGET=10.3</screen>
</para>

<para>
Potem skonfiguruj:
</para>
<para>
Je¿eli konfigurujesz dla maszyny G4 lub lepszej z obs³ug± AltiVec,
postêpuj jak poni¿ej:
<screen>
./configure --with-termcaplib=ncurses.5 --disable-gl --disable-x11
</screen>

Je¿eli konfigurujesz dla maszyny z procesorem G3 bez AltiVec,
postêpuj jak ponie¿ej:
<screen>
./configure --with-termcaplib=ncurses.5 --disable-gl --disable-x11
--disable-altivec
</screen>
Byæ mo¿e bêdziesz musia³ wyedytowaæ plik <filename>config.mak</filename>
i zmieniæ warto¶ci <systemitem>-mcpu</systemitem>
<systemitem>-mtune</systemitem> z <systemitem>-74XX</systemitem> na
<systemitem>-G3</systemitem>.
</para>
<para>
Nastêpnie wykonaj
<screen>
make
</screen>
przejd¼ do katalogu mplayerosx i wpisz

<screen>
make dist
</screen>
Zostanie utworzony skompresowany obraz <systemitem>.dmg</systemitem>
zawieraj±cy gotowy do uruchomienia program.
</para>
<para>
Mo¿es równie¿ skorzystaæ z projektu <application>Xcode</application> 2.1;
stary projekt dla <application>Xcode</application> 1.x ju¿ nie dzia³a.
 
</para>
</sect2>
</sect1>

<sect1 id="exotic_platforms">
<title>Egzotyczne Platformy</title>

<para>
<application>MPlayer</application> dzi³a na wielu egzotycznych platfromach, ale
wiêkszo¶æ zmian dla konkretnych platform nie trafi³a do g³ównego drzewa ze ¼ród³ami
programu.
Instrukcji co do budowy szukaj w dokumentacji do okre¶lonych systemów.
</para>

<sect2 id="qnx">
<title>QNX</title>
<para>
Bêdziesz musia³ ¶ci±gn±æ bibliotekê SDL dla QNX i zainstalowaæ j±. Wtedy
uruchom <application>MPlayera</application> z opcj±
<option>-vo sdl:driver=photon</option>
i <option>-ao sdl:nto</option>, powinno dzia³aæ szybko.
</para>
		
<para>
Wyj¶cie <option>-vo x11</option> bêdzie nawet wolniejsze ni¿ na Linuksie,
poniewa¿ QNX ma tylko <emphasis>emulacjê</emphasis> X'ów, która jest bardzo
wolna. 
</para>
</sect2>

<sect2 id="amiga">
<title>Amiga/MorphOS (GeekGadgets)</title>
<para>
Ludzie z <ulink url="www.amigasoft.net">www.amigasoft.net</ulink>
tworz± aktualne paczki z <application>MPlayerem</application> i
<application>MEncoderem</application>.
</para>

<para>
Nicholas Det at Genesi stworzy³ potê¿ny port <application>MPlayera
</application> dla MorphOS. Niestety oparty jest on o seriê 0.90.
</para>

<para>
Pobierz go z <ulink url="http://www.morphzone.org/">MorphZone</ulink>:
<itemizedlist>
<listitem><para>
<ulink url="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=90">
pakiet binarny <application>MPlayer</application> 0.91</ulink>
</para></listitem>
<listitem><para>
<ulink url="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=91">
¼ród³a <application>MPlayera</application> 0.91</ulink>
</para></listitem>
<listitem><para>
<ulink url="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=92">
pakiet binarny <application>MEncodera</application> 1.0pre3</ulink>
</para></listitem>
</itemizedlist>
</para>
</sect2>
</sect1>

</chapter>
