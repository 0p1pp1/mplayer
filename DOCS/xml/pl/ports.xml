<?xml version="1.0" encoding="iso-8859-2"?>
<!-- synced with 1.25 -->
<chapter id="ports" xreflabel="Ports">
<title>Porty</title>

<sect1 id="linux">
<title>Linux</title>
<para>
G³ówn± platform± rozwojow± jest Linux x86, chocia¿
<application>MPlayer</application> pracuje równie¿ na wielu innych portach
tego systemu. Pakiety binarne s± dostêpne z kilku ¼róde³, jednak¿e
<emphasis role="bold">¿aden z nich nie jest przez nas obs³ugiwany</emphasis>.
Zg³aszaj problemy do ich opiekunów, a nie do nas.
</para>

<sect2 id="debian">
<title>Pakiety Debiana</title>
<para>
Aby zbudowaæ pakiet dla Debiana, wywo³aj poni¿sz± komendê w katalogu ze ¼ród³ami 
MPlayera:
<screen>fakeroot debian/rules binary</screen>
Jako superu¿ytkownik mo¿esz zainstalowaæ pakiet <filename>.deb</filename> tak, jak zwykle:
<screen>dpkg -i ../mplayer_<replaceable>wersja</replaceable>.deb</screen>
</para>

<para>
Christian Marillat buduje dla Debiana nieoficjalne paczki MPlayera, MEncodera 
i czcionek ju¿ przez jaki¶ czas, mo¿esz je pobraæ (apt-get) z jego
<ulink url="http://marillat.free.fr/">strony domowej</ulink>.
</para>
</sect2>

<sect2 id="rpm">
<title>Pakiety RPM</title>
<para>
Dominik Mierzejewski tworzy i opiekuje siê oficjalnymi pakietami 
<application>MPlayera</application> dla Red Hata. S± one dostêpne na jego
<ulink url="http://www.piorunek.pl/~dominik/linux/pkgs/mplayer/">stronie domowej</ulink>.
</para>

<para>
RPMy dla Mandrake s± dostêpne na <ulink url="http://plf.zarb.org/">P.L.F.</ulink>.
SuSE zawiera³ okrojon± wersjê MPlayera w dystrybucji. Usunêli j± w swoich
najnowszych wydaniach. W pe³ni funkcjonalne pakiety mo¿esz pobraæ z 
<ulink url="http://packman.links2linux.de/?action=128">links2linux.de</ulink>.
</para>
</sect2>

<sect2 id="arm">
<title>ARM</title>
<para>
MPlayer dzia³a równie¿ na PDA z procesorami ARM dzia³aj±cych pod kontrol± Linuksa,
np. Sharp Zaurus, Compaq iPAQ. Najprostszym sposobem, ¿eby uzyskaæ MPlayera, jest
pobranie go z odpowiedniego ¼ród³a pakietów (stable, testing, unstable)
z witryny <ulink url="http://www.openzaurus.org">OpenZaurus</ulink>. Je¿eli chcesz
go skompilowaæ samodzielnie, powiniene¶ przyjrzeæ siê katalogom 
<ulink url="http://openzaurus.bkbits.net:8080/buildroot/src/packages/mplayer?nav=index.html|src/.|src/packages">MPlayera</ulink>
i biblioteki
<ulink url="http://openzaurus.bkbits.net:8080/buildroot/src/packages/libavcodec?nav=index.html|src/.|src/packages">libavcodec</ulink>
w g³ównym katalogu ¼ród³owym OpenZaurusa. Zawieraj± one naj¶wie¿sze ³atki
i pliki Makefile, s³u¿±ce do samodzielnej kompilacji MPlayera z libavcodec.
Je¿eli potrzebujesz interfejsu GUI, mo¿esz u¿yæ xmms-embedded.
</para>
</sect2>
</sect1>

<sect1 id="bsd">
<title>*BSD</title>
<para>
<application>MPlayer</application> dzia³a na FreeBSD, OpenBSD, NetBSD,
BSD/OS i Darwinie. Dostêpne s± wersje portów/pkgsrc/fink/itp., które
prawdopodobnie s± ³atwiejsze w instalacji, ni¿ kompilacja ze ¼róde³.
</para>

<para>
Do zbudowania MPlayera bêdziesz potrzebowa³ GNU make (gmake - rdzenne make BSD 
nie zadzia³a) i najnowszej wersji binutils.
</para>

<para>
Je¿eli MPlayer nie mo¿e znale¼æ <filename>/dev/cdrom</filename> lub
<filename>/dev/dvd</filename>, stwórz odpowiednie dowi±zanie symboliczne:
<screen>ln -s /dev/<replaceable>twoje_urz±dzenie_cdrom</replaceable> /dev/cdrom</screen>
</para>

<para>
Aby u¿ywaæ bibliotek Win32 z MPlayerem, bêdziesz potrzebowa³ przekompilowaæ j±dro 
z opcj± &quot;<envar>USER_LDT</envar>&quot; (chyba, ¿e u¿ywasz FreeBSD-CURRENT,
tam jest domy¶lnie w³±czona).
</para>

<sect2 id="freebsd">
<title>FreeBSD</title>
<para>
Je¿eli Twój procesor ma rozszerzenie SSE, przekompiluj j±dro z opcj± 
&quot;<envar>CPU_ENABLE_SSE</envar>&quot; (wymagany FreeBSD-STABLE lub ³aty na j±dro).
</para>
</sect2>

<sect2 id="openbsd">
<title>OpenBSD</title>
<para>Ze wzglêdu na ograniczenia w ró¿nych wersjach gas (GNU assemblera - przyp. t³umacza)
(dotycz±ce relokacji i MMX), bêdziesz musia³ przeprowadziæ kompilacjê w dwóch krokach:
Po pierwsze, upewnij siê, ¿e wersja nierdzenna wystêpuje w zmiennej <envar>$PATH</envar>
i wykonaj <command>gmake -k</command>, a nastêpnie upewnij siê, ¿e u¿ywana jest wersja rdzenna
i wykonaj <command>gmake</command>.
</para>
</sect2>

<sect2 id="darwin">
<title>Darwin</title>
<para>
Zobacz rozdzia³ <link linkend="macos">Mac OS</link>.
</para>
</sect2>
</sect1>

<sect1 id="solaris">
<title>Sun Solaris</title>
<para>
<application>MPlayer</application> powinien dzia³aæ na Solarisie 2.6 lub nowszym.
</para>

<para>
Na <emphasis role="bold">UltraSPARCach</emphasis>, MPlayer korzysta z rozszerzenia 
<emphasis role="bold">VIS</emphasis> (odpowiednik MMX), obecnie tylko w  
<emphasis>libmpeg2</emphasis>, <emphasis>libvo</emphasis> i
<emphasis>libavcodec</emphasis>, ale nie w mp3lib. Mo¿esz ogl±daæ plik VOB na 
procesorze z taktowaniem 400MHz. Bêdziesz potrzebowa³ do tego biblioteki
<ulink url="http://www.sun.com/sparc/vis/mediaLib.html">mLib</ulink>.
</para>

<para>
Aby zbudowaæ pakiet, bêdziesz potrzebowa³ GNU <application>make</application>
(<filename>gmake</filename>, <filename>/opt/sfw/gmake</filename>), rdzenne make
Solarisa nie zadzia³a. Typowy b³±d jaki otrzymujesz, buduj±c tym drugim zamiast GNU
make, to:
<screen>
   % /usr/ccs/bin/make
   make: Fatal error in reader: Makefile, line 25: Unexpected end of line seen
</screen>
</para>

<para>
W Solarisie przeznaczonym dla SPARC, potrzebujesz kompilatora GNU C/C++; nie ma
znaczenia, czy jest on skonfigurowany z, czy bez GNU assemblera.
</para>

<para>
Na Solarisie x86, potrzebujesz GNU assemblera i kompilatora GNU C/C++,
skonfigurowanego do u¿ywania GNU assemblera! Kod MPlayera, na platformie x86, 
w znacz±cy sposób korzysta z instrukcji MMX, SSE i 3DNOW!, 
które nie mog± byæ skompilowane przy pomocy assemblera Sun <filename>/usr/ccs/bin/as</filename>.
</para>

<para>Skrypt <filename>configure</filename> stara siê okre¶liæ, jaki assembler
wywo³ywany jest przez komendê &quot;gcc&quot; (je¿eli próba zakoñczy siê fiaskiem,
u¿yj opcji <option>--as=/gdziekolwiek/zainstalowa³e¶/gnu-as</option>, ¿eby okre¶liæ
gdzie skrypt <filename>configure</filename> mo¿e znale¼æ GNU "as" w Twoim
systemie).
</para>

<para>
B³±d jaki wy¶wietli <filename>configure</filename> na Solarisie x86, u¿ywaj±cym GCC 
bez GNU assemblera:
<screen>
   % configure
   ...
   Checking assembler (/usr/ccs/bin/as) ... , failed
   Please upgrade(downgrade) binutils to 2.10.1...
</screen>
(Rozwi±zanie: Zainstaluj i u¿ywaj gcc skonfigurowanego z opcj± <option>--with-as=gas</option>)
</para>

<para>
Typowy b³±d, jaki otrzymasz przy próbie budowy kompilatorem GNU C, który nie u¿ywa GNU as:
<screen>
   % gmake
   ...
   gcc -c -Iloader -Ilibvo -O4 -march=i686 -mcpu=i686 -pipe -ffast-math
        -fomit-frame-pointer  -I/usr/local/include   -o mplayer.o mplayer.c
   Assembler: mplayer.c
   "(stdin)", line 3567 : Illegal mnemonic
   "(stdin)", line 3567 : Syntax error
   ... more "Illegal mnemonic" and "Syntax error" errors ...
</screen>
</para>

<para>
Ze wzglêdu na b³êdy wystêpuj±ce w Solarisie 8, mo¿esz nie byæ w stanie odtwarzaæ p³yt DVD 
o pojemno¶ci wiêkszej ni¿ 4 GB:
</para>

<itemizedlist>
<listitem><para>
Sterownik sd(7D) dla Solarisa 8 x86 ma b³±d ujawniaj±cy siê przy próbie dostêpu do 
bloku dyskowego >4GB urz±dzenia korzystaj±cego z logicznego rozmiaru bloku !=DEV_BSIZE
(np. no¶nik CD-ROM i DVD). Ze wzglêdu na przepe³nienie 32bitowych liczb ca³kowitych,
odczytywany jest adres dysku modulo 4GB
(<ulink url="http://groups.yahoo.com/group/solarisonintel/message/22516"/>).
Ten problem nie wystêpuje na Solarisie 8 przeznaczonym dla procesorów SPARC.
</para></listitem>

<listitem><para>
Podobny b³±d wystêpuje w kodzie systemu plików hsfs(7FS) (znanym jako ISO9660),
hsfs mo¿e nie obs³ugiwaæ partycji/dysków wiêkszych ni¿ 4GB, wszystkie dane s±
odczytywane z bloku modulo 4GB
(<ulink url="http://groups.yahoo.com/group/solarisonintel/message/22592"/>).
Problem mo¿e byæ rozwi±zany przy pomocy ³atki 109764-04 (sparc) / 109765-04 (x86).
</para></listitem>
</itemizedlist>

<para>
Na Solarisie UltraSPARC, mo¿esz otrzymaæ dodatkow± moc obliczeniow±,
u¿ywaj±c instrukcji VIS dla pewnych, czasoch³onnych operacji. Akceleracja VIS 
mo¿e byæ u¿yta w MPlayerze, odwo³uj±c siê do funkcji zawartych w bibliotece Suna
<ulink url="http://www.sun.com/sparc/vis/mediaLib.html">mediaLib</ulink>.
</para>

<para>
Przyspieszone, przy pomocy VIS, operacje z biblioteki mediaLib 
s± wykorzystywane przy dekodowaniu video w formacie mpeg2 i konwersji 
przestrzeni kolorów w sterownikach wyj¶ciowych video.
</para>
</sect1>

<sect1 id="irix">
<title>Silicon Graphics Irix</title>
<para>
Mo¿esz albo spróbowaæ zainstalowaæ program GNU install i (je¿eli nie
umie¶ci³e¶ go w globalnej ¶cie¿ce) wskazaæ go przez:
<screen>./configure --with-install=/¶cie¿ka/i/nazwa/programu/instalacyjnego</screen>
</para>

<para>
Albo u¿yæ domy¶lnego programu instalacyjnego dostarczonego z IRIX 6.5, w tym 
wypadku nale¿y rêcznie zmodyfikowaæ plik <filename>Makefile</filename> w 
kilku miejscach. Zmieñ poni¿sze dwie linijki:
<programlisting>
  $(INSTALL) -c -m 644 DOCS/mplayer.1 $(MANDIR)/man1/mplayer.1

  $(INSTALL) -c -m 644 etc/codecs.conf $(CONFDIR)/codecs.conf
</programlisting>
na:
<programlisting>
  $(INSTALL) -m 644 mplayer.1 $(MANDIR)/man1/

  $(INSTALL) -m 644 codecs.conf $(CONFDIR)/
</programlisting>
A potem wykonaj (w katalogu ¼ród³owym MPlayera):
<screen>cp DOCS/mplayer.1 . ; cp etc/codecs.conf .</screen>
i dalej skompiluj i zainstaluj.
</para>
</sect1>

<sect1 id="qnx">
<title>QNX</title>
<para>
Dzia³a. Bêdziesz musia³ ¶ci±gn±æ bibliotekê SDL dla QNX i zainstalowaæ j±. Wtedy
uruchom <application>MPlayera</application> a opcj± <option>-vo sdl:photon</option>
i <option>-ao sdl:nto</option>, powinno dzia³aæ szybko.
</para>

<para>
Wyj¶cie <option>-vo x11</option> bêdzie nawet wolniejsze ni¿ na Linuksie,
poniewa¿ QNX ma tylko <emphasis>emulacjê</emphasis> Xów, która jest bardzo 
wolna. U¿ywaj SDL.
</para>
</sect1>

<sect1 id="windows">
<title>Windows</title>

<para>Tak, MPlayer dzia³a na Windowsie pod
  <ulink url="http://www.cygwin.com/">Cygwinem</ulink> i
  <ulink url="http://www.mingw.org/">MinGW</ulink>.
  Nie ma jeszcze interfejsu GUI, ale wersja dla wiersza poleceñ jest ju¿ prawie w pe³ni 
  funkcjonalna. <ulink url="../../tech/patches.txt">£atki</ulink> s± zawsze mile widziane.
  Powiniene¶ sprawdziæ listê 
  <ulink url="http://mplayerhq.hu/mailman/listinfo/mplayer-cygwin/">mplayer-cygwin</ulink>,
  aby uzyskaæ pomoc albo otrzymaæ najnowsze informacje.</para>

<para>Najlepsze wyniki s± osi±gane ze sterownikami wyj¶ciowymi video DirectX 
  (<option>-vo directx</option>) i rdzennym wyj¶ciem d¼wiêkowym wave Windows
  (<option>-ao win32</option>), jako ¿e OpenGL nie dzia³a, a SDL mo¿e zak³ócaæ
  d¼wiêk i obraz albo wywo³aæ b³±d i zamkn±æ siê na niektórych systemach. 
  Mo¿esz ustawiæ tak okno z filmem, aby pozostawa³o na wierzchu przez opcjê
  <option>-vo directx:ontop</option>. Je¿eli wystêpuj± zak³ócenia obrazu, spróbuj
  wy³±czyæ sprzêtow± akceleracjê przez opcjê <option>-vo directx:noaccel</option>. ¦ci±gnij
  <ulink url="http://www.videolan.org/vlc/dx7headers.tgz">pliki nag³ówkowe DirectX 7</ulink>,
  ¿eby skompilowaæ sterownik do wyj¶cia video DirectX.</para>

<para>Mo¿esz wykorzystaæ kodeki Win32 i Real dla Win32 (nie kodeki Real dla Linuksa),
  je¿eli chcesz. Umie¶æ je gdzie¶ w swojej 
  ¶cie¿ce (zmienna PATH - przyp. t³umacza) albo u¿yj opcji
  <option>--with-codecsdir=c:/¶cie¿ka/do/twoich/kodeków</option> (lub
  <option>--with-codecsdir=/¶cie¿ka/do/twoich/kodeków</option> tylko na Cygwin) dla
  <filename>configure</filename>. Mieli¶my doniesienia, ¿e biblioteki Real musz± byæ
  zapisywalne dla u¿ytkownika, który korzysta z MPlayera, ale tylko na niektórych
  systemach. Spróbuj nadaæ im atrybut zapisywalno¶ci, je¿eli napotkasz jakie¶ problemy.
  Biblioteki DLL QuickTime równie¿ dzia³aj±, ale bêdzisz musia³ je umie¶ciæ
  w katalogu systemowym Windows
  (<filename class="directory">C:\Windows\system\</filename> lub podobnym).</para>

<para>Konsola Cygwin/MinGW jest raczej wolna. Przekierowywanie wyj¶cia albo u¿ywanie 
  opcji <option>-quiet</option> zg³oszono jako poprawiaj±ce wydajno¶æ na
  niektórych systemach. Bezpo¶rednie renderowanie (<option>-dr</option>) równie¿
  mo¿e pomóc. Mo¿esz zapobiec migotaniu OSD, w³±czaj±c podwójne buforowanie
  opcj± <option>-double</option>. Je¿eli odtwarzanie jest nierówne, spróbuj u¿yæ
  <option>-autosync 100</option>. Je¿eli którakolwiek z tych opcji Ci pomog³a,
  mo¿e bêdziesz chcia³ umie¶ciæ j± w swoim pliku konfiguracyjnym.</para>

<para>Dostêpne s± skompilowane wersje binarne, przygotowane przez Saschê Sommera,
  do ¶ci±gniêcia z
  <ulink url="http://www.mplayerhq.hu/MPlayer/releases/win32-beta/">naszej strony domowej</ulink>.
  Joey Parrish tworzy 
  <ulink url="http://joey.nicewarrior.org/cygmp/">nieoficjalne paczki dla Windowsa</ulink>
  ³±cznie z programem instalacyjnym.</para>

<sect2 id="cygwin">
<title>Cygwin</title>

<para>Cygwin w wersji wcze¶niejszej ni¿ 1.5.0 nie zawiera <filename>inttypes.h</filename>.
  Umie¶æ plik
  <ulink url="http://www.mplayerhq.hu/MPlayer/releases/win32-beta/contrib/inttypes.h">inttypes.h</ulink>
  w katalogu <filename class="directory">/usr/include/</filename>, ¿eby umo¿liwiæ kompilacjê
  <application>MPlayera</application>.</para>

<para>Pliki nag³ówkowe DirectX musz± byæ rozpakowane do <filename class="directory">/usr/include/</filename> lub
  <filename class="directory">/usr/local/include/</filename>.</para>

<para>Instrukcje i pliki potrzebne do kompilacji SDLa dla Cygwin s± dostêpne na 
  <ulink url="http://www.libsdl.org/extras/win32/cygwin/">stronie libsdl</ulink>.</para>

<para>Mo¿esz odtwarzaæ VCD, odtwarzaj±c pliki <filename>.DAT</filename> lub <filename>.MPG</filename>,
  które Windows pokazuje na VCD. To dzia³a mniej wiêcej tak (dopasuj literê dysku do Twojego
  CD-ROMu):</para>

<screen>mplayer d:/mpegav/avseq01.dat</screen>

<screen>mplayer /cygdrive/d/MPEG2/AVSEQ01.MPG</screen>

<para>DVD równie¿ dzia³a, podaj literê Twojego DVD-ROMu przez 
  opcjê <option>-dvd-device</option>:</para>

<screen>mplayer dvd://&lt;tytu³&gt; -dvd-device '\\.\d:'</screen>

</sect2>

<sect2 id="mingw">
<title>MinGW</title>

<para>Zainstalowanie MinGW, który umo¿liwi³by kompilacjê MPlayera by³o zawi³e,
  ale teraz sk³ada siê tylko z trzech prostych kroków i nied³ugo powinno 
  dzia³aæ "prosto z pude³ka".</para>

<itemizedlist>
  <listitem><para>Zainstaluj MinGW 3.0.0 lub nowszy.</para></listitem>
  <listitem><para>Zainstaluj MSYS 1.0.9 lub nowszy i wska¿ systemowi poinstalacyjnemu 
    MSYSa, ¿e MinGW jest zainstalowane.</para></listitem>
  <listitem><para>Zast±p <filename>/mingw/include/sys/types.h</filename> tym
    <ulink url="http://www.mplayerhq.hu/MPlayer/releases/win32-beta/contrib/types.h"><filename>types.h</filename></ulink>.</para></listitem>
</itemizedlist>

<para>Rozpakuj pliki nag³ówkowe DirectX do <filename class="directory">/mingw/include/</filename>.</para>

<para>VCD i DVD dzia³aj± prawie tak, jak w Cygwinie (dopasuj literê dysku do Twojego  
   CD-ROMu/DVD-ROMu):</para>

<screen>mplayer d:/mpegav/avseq01.dat</screen>

<screen>mplayer /d/MPEG2/AVSEQ01.MPG</screen>

<screen>mplayer dvd://&lt;tytu³&gt; -dvd-device /d/</screen>

</sect2>

</sect1>
<sect1 id="macos">
<title>Mac OS</title>
<para>
"Surowe" ¼ród³a <application>MPlayera</application> obs³uguj±
tylko Mac OS X w wersjach 10.2 i wy¿szych. Mo¿esz spróbowaæ umo¿liwiæ
obs³ugê starszych wersji Mac OS oraz przys³aæ nam ³aty!
</para>

<para>
Zmodyfikowane GCC 3.X Apple jest zalecane do kompilacji 
<application>MPlayera</application>, szczególnie z libavcodec, poniewa¿ 
ich zmodyfikowane GCC 2.95.x nie obs³uguje poprawnie sk³adni C99.
</para>

<para>
Mo¿esz pobraæ Aqua GUI dla <application>MPlayera</application> razem z
jego skompilowanymi binariami dla Mac OS X ze strony projektu
<ulink url="http://mplayerosx.sf.net/">MPlayerOSX</ulink>.
</para>
</sect1>

</chapter>
