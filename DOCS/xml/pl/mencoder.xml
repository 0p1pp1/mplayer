<?xml version="1.0" encoding="iso-8859-2"?>
<!-- Synced with 1.36 -->
<chapter id="mencoder">
<title>Kodowanie z <application>MEncoderem</application></title>

<para>
Pe³na lista dostêpnych opcji <application>MEncodera</application> oraz
przyk³ady znajduj± siê na stronie man. W pliku <ulink url="../../tech/encoding-tips.txt">encoding-tips</ulink>
znajduje siê du¿o przyk³adów i przewodników skompletowanych z wielu w±tków listy dyskusyjnej mplayer-users. W
<ulink url="http://mplayerhq.hu/pipermail/mplayer-users/">archiwum</ulink>
znajdziesz mnóstwo dyskusji o aspektach i problemach zwi±zanych z kodowaniem
przy pomocy <application>MEncodera</application>.
</para>

<sect1 id="menc-feat-mpeg4">
<title>Kodowanie dwu-przebiegowe MPEG-4 ("DivX")</title>

<para>
Nazwa zwi±zana jest z faktem, i¿ przy u¿yciu tej metody plik kodowany jest <emphasis>dwa razy</emphasis>.
Pierwsze kodowanie (dubbed pass) tworzy pliki tymczasowe
(<filename>*.log</filename>) o rozmiarze kilku megabajtów, nie kasuj ich od razu
(mo¿esz natomiast skasowaæ plik AVI). W drugim przebiegu
przy pomocy danych o bitrate'cie z plików tymczasowych tworzony jest plik wyj¶ciowy
drugiego przebiegu. Plik koñcowy bêdzie mia³ o wiele lepsz± jako¶æ w porównaniu ze standardowym 1-przebiegowym kodowaniem.
Je¿eli pierwszy raz o tym s³yszysz, powiniene¶ zajrzeæ do którego¶ z wielu
przewodników dostêpnych w sieci.
</para>

<example>
<title>kopiowanie ¶cie¿ki d¼wiêkowej</title>
<para>
Dwu-przebiegowe kodowanie DVD do MPEG-4 ("DivX") AVI z kopiowaniem ¶cie¿ki d¼wiêkowej.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o <replaceable>film.avi</replaceable>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=2 -oac copy -o <replaceable>film.avi</replaceable>
</screen>
</para>
</example>

<example>
<title>kodowanie ¶cie¿ki dzwiêkowej</title>
<para>
Dwu-przebiegowe kodowanie DVD do MPEG-4 ("DivX") AVI z kodowaniem ¶cie¿ki d¼wiêkowej do MP3.
<screen>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac mp3lame -lameopts vbr=3 -o <replaceable>film.avi</replaceable>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=2 -oac mp3lame -lameopts vbr=3 -o <replaceable>film.avi</replaceable>
</screen>
</para>
</example>
</sect1>

<sect1 id="menc-feat-mpeg">
<title>Kodowanie do formatu MPEG</title>
<para>
<application>MEncoder</application> mo¿e tworzyæ pliki formatu MPEG (MPEG-PS).
Jest to prawdopodobnie u¿yteczne tylko z kodekiem <emphasis>mpeg1video</emphasis>
pochodz±cym z <link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link>, poniewa¿ odtwarzacze - za wyj±tkiem
<application>MPlayera</application> - oczekuj± obrazu zakodowanego w MPEG-1 i
strumienia d¼wiêkowego w MPEG-1 warstwa (layer) 2 (MP2) w pliku MPEG.
</para>

<para>
Mo¿liwo¶æ ta nie jest zbytnio przydatna w tej chwili, poza tym
zawiera prawdopodobnie wiele b³êdów, ale najwa¿niejsze jest to,
¿e <application>MEncoder</application> w tej chwili nie mo¿e kodowaæ
2 warstwy MPEG-1 (MP2) audio której oczekuj± wszystkie odtwarzacze w plikach MPEG.
</para>

<para>
Aby zmieniæ wyj¶ciowy format plików <application>MEncodera</application>, u¿yj opcji <option>-of mpeg</option>.
</para>

<para>
Przyk³ad:
<screen>
mencoder -of mpeg -ovc lavc -lavcopts vcodec=mpeg1video -oac copy <replaceable>inne opcje</replaceable> <replaceable>media.avi </replaceable> -o <replaceable>wyjscie.mpg</replaceable>
</screen>
</para>
</sect1>


<sect1 id="menc-feat-rescale">
<title>Przeskalowywanie filmów</title>

<para>
Czêsto zachodzi potrzeba zmiany wielko¶ci obrazu. Powodów tego mo¿e byæ wiele:
zmniejszenie rozmiaru pliku, przepustowo¶æ sieci, itd. Wiêkszo¶æ ludzi stosuje 
ponowne skalowanie przy konwertowaniu p³yt DVD, SVCD do DivX AVI. Je¿eli
chcesz przeskalowywaæ, przeczytaj sekcjê o <link linkend="aspect">zachowywaniu proporcji obrazu</link>.

</para>

<para>
Proces skalowania obs³ugiwany jest przez filtr video <literal>scale</literal>
<option>-vf scale=<replaceable>szeroko¶æ</replaceable>:<replaceable>wysoko¶æ</replaceable></option>.
Jego jako¶æ mo¿e byæ ustawiona parametrem <option>-sws</option>.
Je¶li nie jest on podany <application>MEncoder</application> u¿yje warto¶ci 2: bicubic.
</para>

<para>
Przyk³ad:
<screen>
mencoder <replaceable>wejscie.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4
-vf scale=640:480 -o <replaceable>wyjscie.avi</replaceable>
</screen>
</para>
</sect1>


<sect1 id="menc-feat-streamcopy">
<title>Kopiowanie strumienia</title>

<para>
<application>MEncoder</application> obs³uguje strumienie wej¶ciowe na dwa sposoby:
<emphasis role="bold">koduje</emphasis> lub <emphasis role="bold">kopiuje</emphasis>
je. Ta sekcja jest o <emphasis role="bold">kopiowaniu</emphasis>.
</para>

<itemizedlist>
<listitem><para>
  <emphasis role="bold">Strumieñ video</emphasis> (opcja <option>-ovc copy</option>):
  mo¿na ³adne rzeczy wyczyniaæ:) Jak wstawianie (nie konwertowanie) FLI, VIDO lub MPEG-1 video w plik AVI!
  Oczywi¶cie tylko <application>MPlayer</application> potrafi odtwarzaæ takie pliki :) I prawdopodobnie nie ma
  dla tego ¿adnego sensownego zastosowania. Powa¿niej: kopiowanie strumieni video mo¿e byæ przydatne
  wtedy, gdy np. tylko strumieñ  audio ma byæ zakodowany (np. PCM do MP3).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Strumieñ audio</emphasis> (opcja <option>-oac copy</option>):
  prosto i przystêpnie. Mo¿liwe jest wmiksowanie zewnêtrznego ¼ród³a (MP3, WAV) do strumienia wyj¶ciowego.
  U¿yj opcji <option>-audiofile <replaceable>nazwa_pliku</replaceable></option> do tego celu.
  </para></listitem>
</itemizedlist>
</sect1>


<sect1 id="menc-feat-fix-avi">
<title>Naprawianie plików AVI ze zniszczonym indeksem lub przeplotem</title>

<para>
Najprostsza sprawa. Po prostu kopiujemy strumieñ audio i video, a
<application>MEncoder</application> generuje indeks. Oczywi¶cie nie
naprawi to mo¿liwych b³êdów w strumieniu video i/lub audio, ale za to, naprawi pliki z zepsutym przeplotem,
tak wiêc opcja <option>-ni</option> nie bêdzie tu ju¿ potrzebna.
</para>

<para>
Komenda:
<screen>
mencoder -idx <replaceable>wejscie.avi</replaceable> -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable><!--
--></screen>
</para>


<sect2 id="menc-feat-appending">
<title>£±cznie wielu plików AVI</title>

<para>
Efektem ubocznym funkcji naprawiania zepsutych plików AVI jest mo¿liwo¶ci ³±czenia
2 (lub wiêcej) plików AVI:
</para>

<para>
Komenda:
<screen>cat 1.avi 2.avi | mencoder -noidx -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable> -</screen>
</para>

<note><para>
Komenda ta oczekuje tego, ¿eby <filename>1.avi</filename> i <filename>2.avi</filename> u¿ywa³y tego
samego kodeka, rozdzielczo¶ci, szybko¶ci strumienia (stream rate), i przynajmniej
<filename>1.avi</filename> nie mo¿e byæ zepsute. Mo¿liwe, ¿e bêdziesz musia³ naprawiæ pliki wej¶ciowe,
jak by³o opisane
<link linkend="menc-feat-fix-avi">powy¿ej</link>.
</para></note>
</sect2>
</sect1>

<sect1 id="menc-feat-enc-libavcodec">
<title>Kodowanie przy pomocy rodziny kodeków <systemitem class="library">libavcodec</systemitem></title>

<para>
<link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link> umo¿liwia proste kodowanie do wielu
interesuj±cych formatów video i audio.
Mo¿esz kodowaæ do nastêpuj±cych kodeków (mniej lub bardziej aktualne)

<informaltable frame="all">
<tgroup cols="2">
<thead>
<row><entry>Nazwa kodeka</entry><entry>Opis</entry></row>
</thead>
<tbody>
<row><entry>mjpeg</entry><entry>
   Ruchomy JPEG
  </entry></row>
<row><entry>ljpeg</entry><entry>
   Bezstratny JPEG
  </entry></row>
<row><entry>h263</entry><entry>
  H.263
  </entry></row>
<row><entry>h263p</entry><entry>
  H263+
  </entry></row>
<row><entry>mpeg4</entry><entry>
  Standard ISO MPEG-4 (DivX 5, XVID kompatybilne)
  </entry></row>
<row><entry>msmpeg4</entry><entry>
  pierwotny wariant MPEG-4 od MS, v3 (DivX3)
  </entry></row>
<row><entry>msmpeg4v2</entry><entry>
  pierwotny wariant MPEG-4 od MS, v2 (u¿ywany w starych plikach asf)
  </entry></row>
<row><entry>wmv1</entry><entry>
  Windows Media Video, wersja 1 (WMV7)
  </entry></row>
<row><entry>wmv2</entry><entry>
  Windows Media Video, wersja 2 (WMV8)
  </entry></row>
<row><entry>rv10</entry><entry>
  Stary kodek RealVideo
  </entry></row>
<row><entry>mpeg1video</entry><entry>
  MPEG-1 video
  </entry></row>
<row><entry>mpeg2video</entry><entry>
  MPEG-2 video
  </entry></row>
<row><entry>huffyuv</entry><entry>
  bezstratna kompresja
  </entry></row>
<row><entry>asv1</entry><entry>
  ASUS Video v1
  </entry></row>
<row><entry>asv2</entry><entry>
  ASUS Video v2
  </entry></row>
<row><entry>ffv1</entry><entry>
  bezstratny kodek video FFmpeg
  </entry></row>
</tbody>
</tgroup>
</informaltable>

Pierwsza kolumna zawiera nazwê kodeka, która powinna byæ podana za opcj±
<literal>vcodec</literal>, np: <option>-lavcopts vcodec=msmpeg4</option>
</para>

<informalexample>
<para>
Przyk³ad z kompresj± MJPEG:
<screen>mencoder dvd://2 -o <replaceable>title2.avi</replaceable> -ovc lavc -lavcopts vcodec=mjpeg -oac copy</screen>
</para>
</informalexample>
</sect1>


<sect1 id="menc-feat-enc-images">
<title>Kodowanie z wielu wej¶ciowych plików obrazkowych (JPEG,PNG lub TGA)</title>

<para>
<application>MEncoder</application> jest w stanie stworzyæ film z jednego
lub wielu plików JPEG, PNG lub TGA. Poprzez proste kopiowanie ramek mo¿e stworzyæ pliki MJPEG
(Motion (ruchomy - przypis t³umacza) JPEG), MPNG (Motion PNG) lub MTGA (Motion TGA).
</para>

<orderedlist>
<title>Jak to dzia³a:</title>
<listitem><para>
  <application>MEncoder</application> <emphasis>dekoduje</emphasis> wej¶ciowy obrazek/obrazki z pomoc± biblioteki
  <systemitem class="library">libjpeg</systemitem> (w przypadku dekodowania PNG, skorzysta z
  <systemitem class="library">libpng</systemitem>).
  </para></listitem>
<listitem><para>
  Potem <application>MEncoder</application> kompresuje zdekodowane pliki podanym kompresorem
  (DivX4, XviD, FFmpeg msmpeg4, itd.).
  </para></listitem>
</orderedlist>

<formalpara>
<title>Przyk³ady</title>
<para>
Opis i sposób dzia³ania funkcji <option>-mf</option> znajduj± siê na stronie man.

<informalexample>
<para>
Tworzenie pliku MPEG-4 ze wszystkich plików JPEG w aktualnym katalogu:
<screen>
mencoder mf://*.jpg -mf w=800:h=600:fps=25:type=jpg -ovc lavc -lavcopts vcodec=mpeg4 -oac copy -o <replaceable>wyjscie.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie pliku MPEG-4 z wybranych plików JPEG w aktualnym katalogu:
<screen>
mencoder mf://*.jpg -mf type=jpg:w=800:h=600:fps=25 -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable>
</screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie pliku Motion JPEG (MJPEG) ze wszystkich plików JPEG w aktualnym katalogu:
<screen>
mencoder -mf on:w=800:h=600:fps=25 -ovc copy -o <replaceable>wyjscie.avi</replaceable> \*.jpg<!--
--></screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie nieskompresowanego pliku ze wszystkich plików PNG w aktualnym katalogu:
<screen>
mencoder -mf on:w=800:h=600:fps=25:type=png -ovc raw -o <replaceable>wyjscie.avi</replaceable> \*.png<!--
--></screen>
</para>
</informalexample>

<note><para>
Szeroko¶ci musi byæ liczb± podzieln± przez 4, takie s± ograniczenia formatu RAW RGB AVI.
</para></note>

<informalexample>
<para>
Tworzenie pliku Motion PNG (MPNG) ze wszystkich plików PNG w aktualnym katalogu:
<screen>mencoder mf://*.png -mf w=800:h=600:fps=25:type=png -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable> <!--
 --></screen>
</para>
</informalexample>

<informalexample>
<para>
Tworzenie pliku Motion TGA (MTGA) ze wszystkich plików TGA w aktualnym katalogu:
<screen>
mencoder mf://*.tga -mf w=800:h=600:fps=25:type=tga -ovc copy -oac copy -o <replaceable>wyjscie.avi</replaceable><!--
 --></screen>
</para>
</informalexample>

</para>
</formalpara>
</sect1>


<sect1 id="menc-feat-extractsub">
<title>Ekstraktowanie napisów z DVD do pliku VOBsub</title>

<para>
<application>MEncoder</application> jest w stanie wyci±gn±æ napisy z DVD do pliku
w formacie VOBsub. Tworzy je para plików z rozszerzeniem
<filename>.idx</filename> i <filename>.sub</filename>, które s± zazwyczaj spakowane do
pojedyñczego archiwum <filename>.rar</filename>.
<application>MPlayer</application> mo¿e je odtwarzaæ z opcjami
<option>-vobsub</option> i <option>-vobsubid</option>.
</para>

<para>
Podajesz nazwê bazow± (tzn. bez rozszerzenia <filename>.idx</filename> lub
<filename>.sub</filename>) pliku wyj¶ciowego z
<option>-vobsubout</option> oraz indeks dla tego pliku przez <option>-vobsuboutindex</option>.
</para>

<para>
Je¿eli ¼ród³em nie jest DVD powiniene¶ u¿yæ opcji <option>-ifo</option>, aby
wskazaæ plik <filename>.ifo</filename> potrzebny do stworzenia pliku wynikowego
<filename>.idx</filename>.
</para>

<para>
Je¿eli ¼ród³em nie jest DVD i nie masz pliku <filename>.ifo</filename>, bêdziesz musia³ u¿yæ opcji
<option>-vobsubid</option>, aby podaæ id jêzyka, które bêdzie umieszczone w pliku
<filename>.idx</filename>.
</para>

<para>
Ka¿de uruchomienie do³±czy do istniej±cych napisów, je¿eli pliki <filename>.idx</filename>
i <filename>.sub</filename> istniej±. Wiêc powiniene¶ je usun±æ przed uruchomieniem.
</para>

<example>
<title>Kopiowanie dwóch napisów z DVD podczas dwu-przebiegowego kodowania</title>
<screen>
rm subtitles.idx subtitles.sub
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -vobsubout subtitles -vobsuboutindex 0 -sid 2
mencoder dvd://1 -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=2 -vobsubout subtitles -vobsuboutindex 1 -sid 5<!--
 --></screen>
</example>

<example>
<title>Kopiowanie francuskich napisów z pliku MPEG</title>
<screen>
rm napisy.idx napisy.sub
mencoder <replaceable>film.mpg</replaceable> -ifo <replaceable>film.ifo</replaceable> -vobsubout napisy -vobsuboutindex 0 -vobsuboutid fr -sid 1<!--
--></screen>
</example>

</sect1>

<sect1 id="aspect">
<title>Utrzymywanie proporcji obrazu (aspect ratio)</title>
<para>
Pliki DVD i SVCD (tzn. MPEG-1/2) zawieraj± warto¶æ proporcji obrazu, która
opisuje, jak odtwarzacz ma skalowaæ strumieñ video, wiêc ludzie nie bêd± siê mêczyæ (np.: 480x480 + 4:3 = 640x480).
Jednak przy kodowaniu plików AVI (DivX) musisz byæ ¶wiadom, ¿e nag³ówek AVI nie przechowuje
tej warto¶ci. Przeskalowywanie jest obrzydliwe i czasoch³onne, musi byæ jaki¶ lepszy sposób!
</para>

<para>Jest</para>

<para>
MPEG-4 posiada unikaln± cechê: strumieñ video mo¿e posiadaæ swoj± warto¶æ proporcji obrazu.
Tak, dok³adnie jak pliki MPEG-1/2 (DVD, SVCD) i H.263. Niestety, nie ma
<emphasis role="bold">¿adnych</emphasis> odtwarzaczy video które by to wykorzystywa³y, oprócz <application>MPlayera</application>.
</para>

<para>
Mo¿liwo¶æ ta mo¿e byæ jedynie u¿ywana z kodekiem <systemitem>mpeg4</systemitem>
z biblioteki <link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link>.
Pamiêtaj: chocia¿ <application>MPlayer</application>
poprawnie odtworzy stworzone pliki, inne odtwarzacze
u¿yj± z³ych proporcji obrazu (aspect ratio).
</para>

<para>
Z pewno¶ci± powiniene¶ wyci±æ czarne pasy nad i pod obrazem.
Zobacz jak u¿ywaæ filtrów <systemitem>cropdetect</systemitem> i <systemitem>crop</systemitem> na stronie man.
</para>

<para>
Sposób u¿ycia:
<screen>
mencoder <replaceable>przyk³ad-svcd.mpg</replaceable> -ovc lavc -lavcopts vcodec=mpeg4:autoaspect -vf crop=714:548:0:14 -oac copy -o <replaceable>wyjscie.avi</replaceable>
</screen>
</para>
</sect1>

<sect1 id="custommatrices"><title>Dowolne inter/intra matryce</title>

<para>
Ta cecha <link linkend="ffmpeg"><systemitem class="library">libavcodec</systemitem></link> pozwala ustawiæ dowolne
inter (I-ramki/ramki kluczowe) i intra (P-ramki/predicted
frames) matryce. Funkcja ta jest obs³ugiwana przez wiele kodeków:
<systemitem>mpeg1video</systemitem> i <systemitem>mpeg2video</systemitem>
zg³aszane s± jako dzia³aj±ce.
</para>

<para>
Typowy sposób u¿ycia tej opcji to ustawienie matrycy na specyfikacje preferowane przez
<ulink url="http://www.kvcd.net/">KVCD</ulink>.
</para>

<para>
<emphasis role="bold">Matryca Kwantyzacji KVCD "Notch":</emphasis>
</para>

<para>
Intra:
<screen>
 8  9 12 22 26 27 29 34
 9 10 14 26 27 29 34 37
12 14 18 27 29 34 37 38
22 26 27 31 36 37 38 40
26 27 29 36 39 38 40 48
27 29 34 37 38 40 48 58
29 34 37 38 40 48 58 69
34 37 38 40 48 58 69 79
</screen>

Inter:
<screen>
16 18 20 22 24 26 28 30
18 20 22 24 26 28 30 32
20 22 24 26 28 30 32 34
22 24 26 30 32 32 34 36
24 26 28 32 34 34 36 38
26 28 30 32 34 36 38 40
28 30 32 34 36 38 42 42
30 32 34 36 38 40 42 44
</screen>
</para>

<para>
Sposób u¿ycia:
<screen>
$ mencoder <replaceable>wejscie.avi</replaceable> -o <replaceable>wyjscie.avi</replaceable> -oac copy -ovc lavc -lavcopts inter_matrix=...:intra_matrix=...
</screen>
</para>

<para>
<screen>
$ mencoder <replaceable>wejscie.avi</replaceable> -ovc lavc -lavcopts
vcodec=mpeg2video:intra_matrix=8,9,12,22,26,27,29,34,9,10,14,26,27,29,34,37,
12,14,18,27,29,34,37,38,22,26,27,31,36,37,38,40,26,27,29,36,39,38,40,48,27,
29,34,37,38,40,48,58,29,34,37,38,40,48,58,69,34,37,38,40,48,58,69,79
:inter_matrix=16,18,20,22,24,26,28,30,18,20,22,24,26,28,30,32,20,22,24,26,
28,30,32,34,22,24,26,30,32,32,34,36,24,26,28,32,34,34,36,38,26,28,30,32,34,
36,38,40,28,30,32,34,36,38,42,42,30,32,34,36,38,40,42,44 -oac copy -o svcd.mpg
</screen>
</para>
</sect1>

<sect1 id="menc-feat-dvd-mpeg4">
<title>Rippowanie DVD do wysokiej jako¶ci pliku MPEG-4 ("DivX")</title>

<para>
  Jednym z najczêsciej zadawanych pytañ jest "Jak zripowaæ DVD do najwy¿szej osi±galnej
  jako¶ci? Nie interesuje mnie rozmiar pliku, chcê tylko najwy¿sz± jako¶æ".
</para>

<para>
    To jest co najmniej ¼le sformu³owane. W koñcu je¿eli nie obchodzi Ciê rozmiar
    pliku, to czemu nie skopiowaæ po prostu ca³ego strumienia video MPEG-2 z DVD?
    Pewnie, plik bêdzie mia³ 5GB, jak chcesz to nie pakuj siê w to, ale je¿eli chcesz
    najwy¿szej jako¶ci i nie martwi Ciê rozmiar pliku, to jest na pewno najlepsze 
    rozwi±zanie.
</para>

<para>
  Tak na prawdê, powodem dla którego chcesz przekodowaæ DVD do pliku MPEG-4
  jest w³a¶nie to, ¿e <emphasis role="bold">zale¿y</emphasis> Ci na rozmiarze pliku.
</para>

<para>
    Trudno jest podaæ przepis krok-po-kroku jak stworzyæ wysokiej jako¶ci 
    ripa DVD. Trzeba uwzglêdniæ kilka czynników, musisz je zrozumieæ ¿eby
    byæ zadowolonym z rezultatów jakie osi±gniesz. Poni¿ej zbadamy kilka
    z tych czynników i spojrzymy na przyk³ady. Zak³adamy, ¿e korzystasz z 
    <systemitem class="library">libavcodec</systemitem> do kodowania
    video, teorii jednak mo¿na u¿ywaæ przy innych kodekach.
</para>

<para>
    G³ównym za³o¿eniem tego przewodnika jest to, i¿ nie masz  konkretnego
    docelowego rozmiaru pliku i nie masz problemu w oddaniu kilku bitów 
    w zamian za poprawê jako¶ci. Wiele informacji tutaj zawartych jest przydatnych
    w ka¿dej sytuacji, ale niektóre mog± dzia³aæ na Twoj± niekorzy¶æ je¿eli
    masz obrany cel w postaci wielko¶ci pliku wynikowego, na przyk³ad zmieszczeniu
    video na CD.
</para>

<sect2 id="menc-feat-dvd-mpeg4-2pass">
<title>Sta³y Kwantyzator vs. dwu-przebiegowe</title>

<para>
  Istniej± trzy podej¶cia do kodowania video: sta³y bitrate (CBR), 
  sta³y kwantyzator i kodowanie dwu-przebiegowe (ABR, u¶redniony bitrate).
</para>

<para>
    W ka¿dym z tych trybów, <systemitem class="library">libavcodec</systemitem>
    rozbija ramke na makroblok 16x16 pikseli i aplikuje kwantyzator do ka¿dego makrobloku
    Im ni¿szy kwantyzator, tym lepsza jako¶æ i wy¿szy bitrate.
    Metoda jak± u¿ywa <systemitem class="library">libavcodec</systemitem>
    do zdeterminowania jaki kwantyzator u¿yæ do danego makrobloku zale¿y od wielu
    czynników i jest ³atwo zmienialna. (Jest to bardzo ogólny opis prawdziwego procesu,
    ale warto rozumieæ podstawowy koncept.)
</para>

<para>
    Kiedy ustawisz sta³y bitrate, <systemitem class="library">libavcodec</systemitem> 
    zakoduje video, niszcz±c najmniejsz± ilo¶æ detali jaka jest potrzebna ¿eby pozostaæ
    poni¿ej wyznaczonej warto¶ci bitrate. Je¿eli naprawdê  nie zale¿y Ci na rozmiarze pliku
    móg³by¶ u¿yæ CBR i ustawiæ bitrate na nieskoñczono¶æ. (W praktyce oznacza to liczbê
    tak wysok± aby nie stawia³a ¿adnego limitu, np. 10000Kbit.). Bez prawdziwych ograniczeñ
    <systemitem class="library">libavcodec</systemitem> u¿yje dla ka¿dego makrobloku 
    mo¿liwie najni¿szego kwantyzatora (zapisanego w zmiennej <option>vqmin</option>,
    która domy¶lnie jest ustawiona na 2). Gdy tylko ustawisz ni¿szy bitrate 
    <systemitem class="library">libavcodec</systemitem> bêdzie zmuszony do u¿ycia
    wy¿szego kwantyzatora, a wiêc i pogorszenia jako¶ci video. Ogólnie, je¿eli zale¿y Ci na jako¶ci
    wogóle nie powiniene¶ u¿ywaæ CBR.
</para>

<para>
   Ze sta³ym kwantyzatorem, <systemitem class="library">libavcodec</systemitem>
   u¿ywa kwantyzatora ustawionego przez opcjê <option>vqscale</option> 
   na ka¿dym makrobloku. Je¿eli chcesz najwy¿szej mo¿liwej jako¶ci, igonruj±c
   bitrate, mo¿esz u¿yæ <option>vqscale=2</option>. Bêdzie to mia³o taki sam efekt
   jak ustawienie <option>vbitrate</option>=nieskoñczono¶æ i domy¶lnie 
   <option>vqmin</option> na 2 przy CBR.
</para>

<para>
     Problemem przy sta³ym kwantyzowaniu jest to, i¿ u¿ywa on danego
     kwantyzatora czy makroblok potrzebuje go czy nie. To znaczy
     ¿e mo¿na by³oby u¿yæ wy¿szego kwantyzatora bez starty jako¶ci obrazu.
     Po co traciæ miejsce na niepotrzebnie niski kwantyzator? Twój procesor
     ma tyle cykli ile jest czasu, ale na twardym dysku jest ograniczona ilosæ miejsca.
</para>

<para>
  W dwu-przebiegowym kodowaniu, pierwszy przebieg zripuje film ze sta³ym
  bitratem (CBR), ale stworzy plik loguj±cy w³a¶ciwo¶ci ka¿dej ramki. Te
  informacje s± u¿ywane podczas drugiego przebiegu i na ich podstawie
  dobierany jest odpowiedni kwantyzator. Podczas szybkiej akcji lub 
  scen z ma³± ilo¶ci± detali, bêdzie u¿yty wysoki kwantyzator, a podczas
  wolnego ruchu lub scen z wieloma detalami ni¿szy.
</para>

<para>
  Je¿eli u¿ywasz <option>vqscale=2</option>, to tracisz miejsce. Je¿eli
  u¿ywasz <option>vqscale=3</option>, to nie dostaniesz najwy¿szej jako¶ci.
  Przypu¶æmy, ¿e ripujesz DVD z opcj± <option>vqscale=3</option>, a rezultatem
  jest 1800Kbit. Je¿eli zastosujesz dwu-przebiegowe kodowanie z 
  <option>vbitrate=1800</option>, wyj¶ciowe video bêdzie mia³o 
  <emphasis role="bold">wy¿sz± jako¶æ</emphasis> dla 
  <emphasis role="bold">tej samej warto¶ci bitrate</emphasis>.
</para>

<para>
     Poniewa¿ jeste¶ ju¿ przekonany, ¿e dwu-przbiegowe kodowanie jest
     najlepszym rozwi±zaniem, prawdziwym pytaniem jest jakiej u¿yæ
     warto¶ci bitrate? Nie ma jednoznacznej odpowiedzi. Idealna warto¶æ
     jest najlepszym balansem miêdzy jako¶ci± a rozmiarem pliku. 
     Zmienia siê ona zale¿nie od ¼ród³owego video.
</para>

<para>
     Dobrym punktem startowym dla wysokiej jako¶ci ripów jest 2000Kbit
     plus minus 200Kbit. Przy szybkiej akcji, wielu detalach lub poprostu
     gdy masz wysokie wymagania, mo¿esz zdecydowaæ siê na 2400
     lub 2600. Przy niektórych DVD, mo¿esz nie zauwa¿yæ ró¿nicy przy
     1400KBit. Najlepiej jest troszkê poeksperymentowaæ przy ró¿nych
     warto¶ciach bitrate.
</para>

</sect2>



<sect2 id="menc-feat-dvd-mpeg4-crop">
<title>Kadrowanie i Skalowanie</title>

<para>
    Normalne DVD ma rozdzielczo¶æ 720x480 dla NTSC i 720x576 dla PAL,
    ale jest jeszcze flaga mówi±ca czy jest to obraz pe³no ekranowy (4:3), czy
    panoramiczny (16:9). Wiele (je¿eli nie wszystkie) panoramiczne DVD nie s±
    dok³adnie 16:9, tylko 1.85:1 lub 2.35:1 (kineskop). Oznacza to i¿ pojawi±
    siê czarne pasy którê bêd± musia³y byæ wykadrowane.
</para>

<para>
     W tym miejscu pojawia siê <application>MPlayer</application> posiadaj±cy
     opcjê ustalaj±c± prostok±t kadrowania (<option>-vf cropdetect</option>).
     Poniewa¿ MPEG-4 u¿ywa makrobloków 16x16, bêdziesz chcia³ aby ka¿dy wymiar
     obrazu by³ wielokrotno¶ci± 16, w innym wypadku pogorszy siê jako¶æ szczególnie
     przy niskich warto¶ciach bitrate. Mo¿esz osi±gn±æ to zaokr±glaj±c prostok±t kadrowania
     do najbli¿szej wielokrotno¶ci 16. Przy kadrowaniu bêdziesz chcia³ zwiêkszyæ przesuniêcie
     w osi y o po³owê ró¿nicy miêdzy star± a now± warto¶ci± tak aby obraz brany by³
     z ¶rodka ramki. Z powodu sposobu w jaki obraz jest próbkowany na DVD  musi to byæ
     przysta liczba. (Tak naprawdê nigdy nie u¿ywaj nieparzystych warto¶ci przy kadrowaniu 
     ani skalowaniu.) Je¿eli nie chcesz wyrzucaæ kilku pikseli, mo¿e wolisz zeskalowaæ
     obraz. Przyjrzyjmy sie skalowaniu w naszym nastêpnym przyk³adzie.
</para>

<para>
     Uwa¿aj te¿ na "miêkkie" czarne piksele na brzegach. Wykadruj je
     te¿, bo inaczej bêdziesz traci³ bity którê zostan± wykorzystane lepiej 
     gdzie indziej.
</para>

<para>
  Po wszytskim, dostaniesz najprawdopodobniej video którego piksele
  nie s± raczej ani 1.85:1 czy  2.35:1, tylko co¶ w pobli¿u. Móg³by¶ policzyæ
  nowe proporcje obrazu rêcznie, ale <application>MEncoder</application>
  oferuje opcjê biblioteki <systemitem class="library">libavcodec</systemitem>
  o nazwie <option>autoaspect</option> która zrobi to za Ciebie. W ¿adnym 
  wypadku nie skaluj pikseli w celu zrobienia z nich kwadratów, chyba ¿e lubisz
  traciæ miejsce na twardym dysku. Skalowanie powinno odbywaæ siê przy 
  odtwarzaniu, a odtwarzacz u¿yje proporcji zapisanych w nag³ówku AVI, aby
  zdeterminowaæ prawid³ow± rozdzielczo¶æ.
</para>

</sect2>

<sect2 id="menc-feat-dvd-mpeg4-quality">
<title>Audio</title>
<para>
     D¼wiêk jest o wiele prostszym problemem do rozwi±zania.: zostaw go
     poprostu takim jakim jest. Nawet strumienie AC3 5.1 s± najwy¿ej  
     448Kbit/s i s± one warte ka¿dego bitu. Kusz±ce mo¿e wydawaæ siê
     zakodowanie d¼wiêku do wysokiej jako¶ci Ogg Vorbis, ale to ¿e nie
     posiadasz dzisiaj odbiornika A/V do AC3 nie oznacza ¿e nie bêdziesz go mia³
     jutro. Zabezpiecz swoje ripy DVD zostawiaj±c im strumieñ AC3.
</para>

</sect2>

<sect2 id="menc-feat-dvd-mpeg4-interlacing">
<title>Przeplot i Telecine</title>

<para>
  Prawie wszytskie filmy krêcone s± z prêdko¶ci± 24 fps. Poniewa¿ NTSC jest
  29.97 fps, obraz 24 fps trzeba poddaæ dzia³aniu kilku procesów aby móg³
  byæ on odtwarzany na szybko¶ci NTSC. Proces ten nazywa siê 3:2 pulldown,
  czêsto wi±zany z telecine (poniewa¿ pulldown jest czêsto stosowany podczas
  procesu telecine), i naiwnie opisywany jako i¿ dzia³a on przez zwalnianie filmu do
  23.976 fps, i powtarzaniu co czwartej ramki.
</para>

<para>
   Video w formacie PAL z DVD, o prêdko¶æ 25 fps nie jest poddawane 
   ¿adnym specjalnym procesom. (Praktcznie, PAL mo¿e zostaæ poddany
   procesowi telcine, nazywanemu 2:2 pulldown, ale w praktyce to nie jest
   problemem.) Film 24 fps jest poprostu odtwarzany z prêdko¶ci± 25 fps. 
   W efekcie film leci trochê szybciej ale je¿eli nie jeste¶ kosmit± pewnie nie 
   zauwa¿ysz ró¿nicy. Wiêkszo¶æ DVD w PALu posiada poprawiony d¼wiêk,
   wiêc nawet przy odtwarzaniu z prêdko¶ci± 25 fps bêdzie on brzmia³ poprawnie,
   pomimo tego, i¿ ¶cie¿ka d¼wiêkowa (a wiec i ca³y film) jest odtwarzana
   4% czasu krócej ni¿ NTSC DVD.
</para>

<para>
     Poniewa¿ video w PAL DVD nie zosta³o zmienione, nie musisz martwiæ
     siê o tempo odtwarzania. ¬ród³o jest 25 fps i Twoj rip bêdzie 25 fps.
     Jednak¿e, je¿eli ripujesz NTSC DVD, mo¿liwe ¿e bêdziesz musia³ zastosowaæ
     odwrócone telecine.
</para>

<para>
     W filmach nakrêconych w prêdko¶ci 24 fps, video na NTSC DVD jest albo
     ztelecinowane do 29.97 fps lub progresywne 24 fps i przeznaczone to
     telecine które ma zostaæ wykonane w locie przez odtwarzacz DVD. Z drugiej
     strony, seriale telewizyjne s± zazwyczaj tylko przeplecione, nie ztelecionowane.
     Jednak¿e nie jest to regu³±: niektóre seriale TV s± przeplecione (jak Buffy 
     Postrach Wampirów), a niektóre s± mikstur± progresywnego i przeplecionego
     video (jak Angel, lub 24 godziny).
</para>

<para>
     Szczególnie polecamy do przeczytania sekcje o tym
     <link linkend="menc-feat-telecine">Jak sobie radziæ z telecine
     i przeplotem w DVD w formacie NTSC</link>.
</para>

<para>
     Je¿eli, ripujesz tylko filmy, najprawdopodobniej musisz radziæ sobie tylko
     z obrazem 24 fps progresywnym lub telecine. W takiej sytuacji mo¿esz
     u¿yæ fitru <option>pullup</option> (<option>-vf pullup,softskip</option>).
</para>

</sect2>


<sect2 id="menc-feat-dvd-mpeg4-filtering">
<title>Filtrowanie</title>
<para>
    Ogólnie, chcesz filtrowaæ jak najmniej aby pozostaæ najbli¿ej jak siê da
    do ¼ród³owego DVD. Kadrowanie jest zazwyczaj niezbêdne (opisane powy¿ej),
    ale nie skaluj obrazu. Skalowanie w dó³ jest czasami preferowane zamiast
    wysokich kwantyzatorów, chcemy unikn±æ obu tych rzeczy: pamiêtaj co
    ustalili¶my na pocz±tkum, ¿e chcemy wymienaæ bity na jako¶æ.
</para>

<para>
    Równie¿ nie zmieniaj warto¶æi gamma, kontrastu, jasno¶ci, itd. To co wygl±da
    dobrze na Twoim monitorze, mo¿e nie wygl±daæ dobrze na innych. Te ustawienia
    powinny byæ realizowane tylko przy odtwarzaniu.
</para>

<para>
    Jedn± rzecz± któr± móg³by¶ chcieæ zrobiæ jest przepuszczenie obrazu
    przez lekki odszumiaj±cy filtr, tak jak np. <option>-vf hqdn3d=2:1:2</option>.
    Znów, jest to sprawa lepszego spo¿ytkowania miejsca: po co traciæ je 
    na kodowanie szumów je¿eli mo¿esz dodaæ je podczas odtwarzania? 
    Zwiêkszenie parametrów <option>hqdn3d</option> zwiêkszy 
    mo¿liwo¶ci kompresji, ale je¿eli zwiêkszysz parametry za bardzo 
    ryzykujesz utratê klarowno¶ci obrazu. Sugerowane powy¿ej warto¶ci  
    (<option>2:1:2</option>) s± do¶æ zachowawcze; 
    spróbuj poeksperymentowaæ z wy¿szmi warto¶ciami i samemu porównaæ efekty.
</para>

</sect2>


<sect2 id="menc-feat-dvd-mpeg4-example">
<title>Przyk³ad</title>

<para>
     Kupi³e¶ wieæ nowiutk± kopiê Harrego Pottera i Komnaty Tajemnic (oczywi¶cie wersjê
     panoramiczn±) i chcesz zripowaæ to DVD aby dodaæ j± do swojego komputerowego
     kina domowego. Jest to DVD z regionu 1, a wiêc NTSC. Poni¿szy przyk³ad bêdzie
     dzia³a³ z fomratem PAL je¿eli pomiesz opcjê <option>-ofps 23.976</option>
     (poniewa¿ wej¶ciowa szybko¶æ jest taka sama jak wyj¶ciowa), oczywi¶cie
     paramtery kadrowania bêd± inne.
</para>

<para>
     Po uruchomieniu <option>mplayer dvd://1</option>, pod±¿amy opisem
     zawartym w sekcji <link linkend="menc-feat-telecine">Jak sobie radziæ z telecine
     i przeplotem w DVD w formacie NTSC</link> i odkrywamy, ¿e jest to progresywne
     video 24 fps, co oznacza ¿e nie musimy u¿ywaæ filtrów odwróconego telecine,
     jak <option>pullup</option> czy <option>filmdint</option>.
</para>

<para>
     Nastêpnie, chcemy zdeterminowaæ odpowiedni prostok±t kadrowania,
     u¿ywamy fitru cropdetect:
     
     <screen>mplayer dvd://1 -vf cropdetect</screen>
     
     Przewniñ do w pe³ni wype³nionej ramki (jasna scena), i zobaczysz
     wyj¶cie <application>MPlayer</application>a na konsoli:
     
     <screen>crop area: X: 0..719  Y: 57..419  (-vf crop=720:362:0:58)</screen>
     
     Teraz odtwarzamy film z tym fitrem aby sprawdziæ jego poprawno¶æ:
     
     <screen>mplayer dvd://1 -vf crop=720:362:0:58</screen>
     
     I widzimy ¿e wygl±da ¶wietnie. Teraz, upewniamy sie ¿e wymiary ¶a wielokrotno¶ci±
     16 . Szeroko¶æ jest w porz±dku, niestety wysoko¶æ nie. Poniewa¿ nie
     oblali¶my matematyki w liceum, wiemy ¿e najbli¿sz± wielokrotno¶cia
     16 mniejsz± ni¿ 362 jest 352.
     
</para>

<para>
    Mogliby¶my poprostu u¿yæ <option>crop=720:352:0:58</option>, ale
    ³adniej by³oby wzi±æ trochê z góry i z do³u aby utrzymaæ siê na ¶rodku. 
    Zmneijszylismy wysoko¶æ o 10 pikseli, ale nie chcemy zwiêkszyæ
    przesuniêcia y o 5 pikseli poniewa¿ jest to liczba nieparzysta i
    pogorszy³aby jako¶æ. Zwiêkszymy zatem przesuniêcie na osi y o 4 piksele:

   <screen>mplayer dvd://1 -vf crop=720:352:0:62</screen>

    Innym powodem dla którego powinni¶my obcinaæ piksele równomiernie z góry 
    i do³u s± "po³owy czarnych pikseli" które bezwzglêdnie powinni¶my obci±æ je¿eli istniej±.
    Pamiêtaj, je¿eli Twoje video jest ztelecinowane, upewnij siê ¿e filtr <option>pullup</option>
    (lub inny filtr odwróconego telecine który zdecydujesz siê u¿yæ) pojawia siê
    w ³añcuchu fitrów przed fitrem kadrowania. Je¿eli video posiada przeplot, 
    usuñ go przed kadrowaniem. (Je¿eli zdecydujesz siê pozostawiæ przeplot, upewnij
    siê ¿e wertykalne przesuniêcie kadrowania jest wielokrotno¶ci± 4.)
</para>

<para>
    Je¿eli naprawdê jeste¶ przejêty utrat± tych 10 pikseli, mo¿e wolisz
    przeskalowaæ wymiary obrazu do najbli¿szej wielkortono¶ci 16.
    £añcuch fitrów powinen wygl±daæ tak:

  <screen>-vf crop=720:362:0:58,scale=720:352</screen>

   Skalowanie video w dó³ oznacza utratê ma³ej ilo¶ci detali, która bêdzie
   najprawdopodobnie niezauwa¿alna. Skalowanie w góre oznacza utratê
   jako¶ci (chyba ¿e zwiêkszysz bitrate). Kadrowanie wyrzuca te piksele. Jest
   to wymiana jak± trzeba rozwa¿yæ w ka¿dym wypadku. Na przyk³±d,
   je¿eli DVD by³o zrobione dla telewizji, mo¿esz chcieæ unikn±æ wertykalnego
   skalowania, poniewa¿ zestawienie linii odpowiada temu jak obraz by³ 
   oryginalnie nagrywany.
</para>

<para>
     Przy insepkcji widzimy ¿e  nasz film ma du¿o akcji i szczegó³ów, wybieramy
     wiêc 2400Kbit na nasze bitrate.
</para>

<para>
     Jeste¶my gotowi do dwu-przebiegowego kodowania. Przebieg 1:
     
  <screen>mencoder dvd://1 -ofps 23.976 -oac copy -vf crop=720:352:0:62,hqdn3d=2:1:2 -ovc lavc \
-o Harry_Potter_2.avi</screen>

     Drugi przebieg jest taki sam, podajemy tylko opcjê <option>vpass=2</option>:

  <screen>mencoder dvd://1 -ofps 23.976 -oac copy -vf crop=720:352:0:62,hqdn3d=2:1:2 -ovc lavc \
-o Harry_Potter_2.avi</screen>
</para>

<para>
     Opcje <option>v4mv:mbd=2:trell</option> ogromnie poprawi± jako¶æ
     za cenê czasu kodowania. Opcje <option>cmp=3:subcmp=3:mbcmp=3</option>
     wybieraj± funkcje porównywania które wybieraj± lepsza jako¶æ ni¿ te domy¶³ne.
     Mo¿esz poeksperymentowaæ z tymi warto¶ciami (skonsultuj stronê man co do 
     prawid³owych warto¶ci) poniewa¿ ró¿ne funkcjê mog± mieæ du¿y wp³yw na jako¶æ
     zale¿nie od matria³u ¼ród³owego. Na przyk³ad, je¿eli <systemitem class="library">libavcodec</systemitem>
     produkuje za du¿o artefaktów mo¿esz spróbowaæ wybraæ eksperymentaln± funkcjê NSSE
     jako funkcjê porównuj±c± przez <option>*cmp=10</option>.
</para>

<para>
     Dla tego filmu, koñcowe AVI bêdzie mia³o 138 minut i prawie 3GB.
     A poniewa¿ powiedzia³e¶ ¿e rozmiar nie ma znaczenia, to jest
     akceptowalna wielko¶æ. Jednak¿e, je¿elli chcia³by¶ mniejszy plik, móg³by¶
     spróbowaæ ni¿szy bitrate. Zwiêkszanie warto¶ci bitrate daje malej±ce rezultaty,
     wiêc je¿eli widaæ wyra¼n± ró¼nicê miêdzy 1800Kbit, a 2000Kbit, to nie znaczy
     ¿e bêdzie lepiej powy¿ej 2000Kbit. Ekperymentuj a¿ bêdziesz zadowolony.
</para>

<para>
    Poniewa¿ przepu¶cili¶my ¼ród³owy obraz przez filtr odszumiaj±cy, mo¿esz chcieæ
    dodaæ go trochê podczas odtwarzania. To razem z fitrem postprocessingu 
    <option>spp</option>, drastycznie poprawia odbiór obrazu i pomaga wyeliminowaæ
    artefakty. W <application>MPlayer</application>ze dostêpna jest opcja 
    <option>autoq</option>. W tym momencie mo¿esz równie¿ poprawiæ
    gammê lub/i korekcjê kolorów. Na przyk³ad:

  <screen>mplayer Harry_Potter_2.avi -vf spp,noise=9ah:5ah,eq2=1.2 -autoq 3</screen>

</para>
</sect2>

</sect1>

<sect1 id="menc-feat-telecine">
<title>Jak radziæ sobie telecine i przeplotem w NTSC DVD</title>

<formalpara>
<title>Wprowadzenie</title>
<para>
  Radzê aby¶ odwiedzi³ poni¿sz± stronê je¿eli nie za bardzo rozumiesz co 
  jest napisane w tym dokumencie:
  <ulink url="http://www.divx.com/support/guides/guide.php?gid=10">http://www.divx.com/support/guides/guide.php?gid=10</ulink>
  Ten URL prowadzi do zrozumia³ego i rozs±dnej wielko¶ci przewodnika traktuj±cego o tym 
  czym jest telecine.
</para></formalpara>

<para>
  Z przyczyn technicznych odnosz±cych siê do wczesnych 
  urz±dzeñ telwizyjnych, ka¿de video które mia³o byæ odtwarzane 
  na telewizorze NTSC musia³o byæ ustawione na 59,94 pola na sekundê.
  Filmy i programy nagrane dla telewizji s± najczê¶ciej ograniczone
  bezpo¶rednio do 59,94 pól na sekundê, ale wiêkszo¶æ filmów kinowych
  jest nagrywanych w 24 lub 23,976 klatkach na sekundê. Kiedy DVD z kinowym
  filmem jest odtwarzane, video jest konwertowane dla telewizji przy pomocy procesu
  nazywanego telecine.
</para>

<para>
  Obraz na DVD, tak naprawdê nigdy nie jest przechowywany jako
  59,94 pól na sekundê. Dla obrazu który oryginalnie by³ 59,94, ka¿da 
  para pól jest ³±czona w ramkê, co daje rezultat 29,97 ramek na sekundê.
  Sprzêtowe odtwarzacze DVD odczytuj± flagê osadzon± w strumieniu video
  aby okre¶liæ czy parzyste czy nieparzyste linie powinny formowaæ pierwsze pole.
</para>

<para>
  Zazwyczaj, informacja o 23,976 ramkach na sekundê mówi
  odtwarzaczowi DVD, ¿e musi przeprowadziæ telecine w locie.
  Czasami, jednak, proces telecine na obrazie przeprowadzony jest 
  <emphasis>przed</emphasis> umieszczeniem go na DVD; Nawet
  je¿eli by³ on nagrany jako  23,976 ramek na sekundê, staje siê on 59,94 
  pola na sekundê i jest przechowywany na dysku jako 29,97 ramek na sekundê.
</para>

<para>
  Patrz±c na indywidualne ramki uformowane z ztelecinowanego 
  obrazu 59,94 pól na sekundê, przeplot jest wyra¼nie widoczny przy ruchu, 
  poniewa¿ jedno pole (powiedzmy parzyste linie) reprezentuj± moment
  w czasie o 1/59,94 sekundy pó¼niej ni¿ pozosta³e. Odtwarzanie video z przeplotem
  na komputerze wygl±da ohydnie, z dwóch przyczyn, poniewa¿ monitor jest wiêkszej
  rozdzielczo¶ci i obraz jest wy¶wietlany ramka-po-ramce zamiast pole-po-polu.
</para>

<para>
Notki:
</para>
<itemizedlist>
<listitem><para>
  Ta sekcja odnosi siê tylko do NTSC DVD, nie do PAL.
  </para></listitem>
<listitem><para>
  Przyk³adowe komendy <application>MEncodera</application> w tym dokumencie
  <emphasis role="bold">nie</emphasis> s± przeznaczone do prawdziwego u¿ycia.
  S± one po prostu minimum do kodowania danej kategorii video. Jak zrobiæ dobre ripy DVD
  lub precyzyjnie-ustawiæ <systemitem class="library">libavcodec</systemitem> dla
  najlepszej jako¶ci nie s± zagadnieniami dla tego tego dokumentu.
  </para></listitem>
<listitem><para>
   Jest kilka przypisów do tego dokumentu, zaznaczonych tak: 
  <link linkend="menc-feat-telecine-footnotes">[1]</link>
  </para></listitem>
</itemizedlist>

<sect2 id="menc-feat-telecine-ident">
<title>Jak ustaliæ jaki typ video masz</title>

<sect3 id="menc-feat-telecine-ident-progressive">
<title>Progresywny</title>
<para>
  Progresywne video by³o oryginalnie filmowane przy 23.976 fps (ramek na sekundê - przyp. t³um.), i
  przechowywane na DVD bez zmian.
</para>

<para>
  Kiedy odtwarzasz progresywne DVD w <application>MPlayerze</application>,
  <application>MPlayer</application> wy¶wietli nastepuj±cy wiersz zaraz gdy film zacznie byæ odtwarzany:

  <screen> demux_mpg: 24fps progressive NTSC content detected, switching framerate.</screen>
  
  Od tego momentu, demux_mpg niepowinien nigdy powiedzieæ i¿ znalaz³
  "30fps NTSC content."
</para>

<para>
  Kiedy ogl±dasz progresywne video, nie powiniene¶ zauwa¿yæ ¿adnego
  przeplotu. B±d¼ jednak czujny poniewa¿ jest tam czasami wmiksowany ma³y
  kawa³ek telecine, tam gdzie siê go nie spodziewasz. Napotka³em DVD z programami
  telewizyjnymi w których przy ka¿dej zmianie sceny i  w losowych miejscach by³a jedna 
  sekunda telecine. Raz ogl±da³em DVD który mia³ jedn± po³owê
  progresywn±, a drug± ztelecinowan±. Je¿eli chcesz byæ <emphasis>naprawdê</emphasis>
  pewny, mo¿esz przeskanowaæ ca³y film:

  <screen>mplayer dvd://1 -nosound -vo null -benchmark</screen>

  U¿ycie opcji <option>-benchmark</option> przekazuje
  <application>MPlayerowi</application> aby odtwarza³ film 
  tak szybko jak tylko mo¿e; ci±gle jednak, jako ¿e jest zale¿ny od Twojego sprzêtu
  mo¿e to zaj±c trochê czasu. Za ka¿dym razem demux_mpg zg³asza zmianê liczby 
  ramek na sekundê, pierwsza linia nad poka¿e czas w którym nast±pi³a ta zmiana.
</para>

<para>
 Progresywne video jest czasami nazywane "miêkkie-telecine"
 poniewa¿ jest ono stworzone aby odtwarzac DVD wykona³ na nim proces telecine.
</para>
</sect3>

<sect3 id="menc-feat-telecine-ident-telecined">
<title>Ztelecinowany</title>
<para>
  Obraz "ztelecinowany" by³ oryginalnie sfilmowany jako 23,976, ale
  zosta³ poddany procesowi telecine <emphasis>przed</emphasis>
  zapisaniem go na p³ycie DVD.
</para>

<para>
  
  <application>MPlayer</application> (nigdy) nie zwraca
  ¿adnych zmian ilo¶ci ramek na sekundê kiedy 
  odtwarza ztelecinowane video.
</para>

<para>
  Podczas ogl±dania video poddanego procesowi telecine, zobaczysz
  artefakty przeplotu które wydaj± siê "migaæ": szybko 
  pojawiaj± siê i znikaj±. Mo¿esz siê im bli¿ej przyjrzeæ wpisuj±c
  <orderedlist>
  <listitem>
    <screen>mplayer dvd://1 -speed 0.1</screen>
    </listitem>
  <listitem><para>
    Przewiñ na dynamiczne sceny.
    </para></listitem>
  <listitem><para>
  
    Popatrz na wzór przeploto-wygl±daj±cych i progresywnie-wygl±daj±cych
    ramek. Je¿eli wzór który widzisz wyg±da jak PPPII,PPPII,PPPII,... wtedy video
    ztelecinowane. Je¿eli widzisz inny wzór, wtedy mo¿liwe jest ¿e video zosta³o
    niestandartowo poddane procesowi telecine i <application>MEncoder</application>
    nie mo¿e bezstratnie przekonwertowaæ go do progresywnego video. Je¿eli
    nie widzisz ¿adnego wzoru, wtedy najprawdopodobniej video zawiera tylko przeplot.
    </para></listitem>
  </orderedlist>
</para>

<para>
  Czasami video poddane procesowi telecine nazywane jest "twarde-telecine".
</para>
</sect3>

<sect3 id="menc-feat-telecine-ident-interlaced">
<title>Przepleciony</title>
<para>
  Przeplecione video by³o oryginalnie sfilmowane jako 59,94 pól na sekundê
  i przechowywane na DVD jako 29,97 fps. Przeplot to rezultat po³±czenia 
  par pól w ramkê, poniewa¿ w ka¿dej ramce, ka¿de pole jest oddzielone o 
  1/59,94 sekundy.
</para>

<para>
   Tak jak przy ztelecinowanym video, podczas odtwarzania filmu z przeplotem
  <application>MPlayer</application> nigdy nie
  powinien powiadamiaæ o zmianie ilo¶ci ramek na sekundê.
 
</para>

<para>
  Kiedy z bliska ogl±dasz przeplecione video z <option>-speed 0.1</option>
  zobaczysz, i¿ ka¿da pojedyñcza klatka jest przepleciona.
</para>
</sect3>

<sect3 id="menc-feat-telecine-ident-mixedpt">
<title>Mieszane progresywne i telecine</title>

<para>
  Wszystkie "wymieszane progresywne i telecine" video
  by³y oryginalnie nagrane jako 23.976 ramek na sekundê, ale 
  niektóre czê¶ci skoñczy³y jako ztelecinowane.
</para>

<para>
  Kiedy <application>MPlayer</application> odtwarza tê kategoriê, bêdzie on
  (zazwyczaj bardzo szybko) prze³±cza³ siê tam i z powrotem miêdzy "30fps
  NTSC" i "24fps progresywne NTSC". Przyjrzyj siê wyj¶ciu 
  <application>MPlayera</application> (na konsoli - przyp. tlum.) aby zobaczyæ
  te wiadomo¶ci.
</para>

<para>
 Powiniene¶ przyjrzeæ siê sekcji "30fps NTSC" aby upewniæ siê
 czy s± one na pewno telecine a nie tylko przeplecione.
</para>
</sect3>

<sect3 id="menc-feat-telecine-ident-mixedpi">
<title>Mieszane progresywne i telecine</title>
<para>
  W "mieszanej progresywnej i przeplecionej" zawarto¶ci, 
  progresywne i przeplecione video zosta³o po³±czone razem.
</para>

<para>
  Ta kategoria wygl±da zupe³nie jak "mieszane progresywne i telecine",
  do momentu kiedy przyjrzysz siê fragmentom 30fps i zobaczysz i¿ nie maja one wzoru telecine.
</para>
</sect3>

</sect2>

<sect2 id="menc-feat-telecine-encode">
<title>Jak zakodowaæ ka¿d± kategoriê</title>
<para>
 Jak ju¿ wspomnia³em na pocz±tku, przyk³adowe polecenia <application>MEncodera</application>
 poni¿ej <emphasis role="bold">nie</emphasis> s± przewidziane do rzeczywistego
 u¿ycia; demonstruj± one tylko minimalne parametry potrzebne do prawid³owego zakodowanie danej kategorii.
</para>

<sect3 id="menc-feat-telecine-encode-progressive">
<title>Progresywne</title>
<para>
  Progresywne video nie wymaga ¿adnego specjalnego filtrowania do kodowania.
  Jedynym koniecznym paramterem jaki musisz u¿yæ jest   <option>-ofps 23.976</option>.
  Inaczej, <application>MEncoder</application> bêdzie próbowa³ kodowaæ przy prêdko¶ci 29,97
  i duplikowaæ ramki.
</para>

<para>
  <screen>mencoder dvd://1 -nosound -ovc lavc -ofps 23.976</screen>
</para>
</sect3>

<sect3 id="menc-feat-telecine-encode-telecined">
<title>Ztelecinowane</title>
<para>
 Proces telecine mo¿e zostaæ odwrócony, aby odzyskaæ oryginaln± zawarto¶æ
 23,976, przy u¿yciu metody o nazwie odwrócone-telecine.
 <application>MPlayer</application> zawiera dwa filtry które s± w stanie dokonaæ tego:
 <option>detc</option> i <option>ivtc</option>. Mo¿esz przeczytaæ stronê man
 aby dowiedzieæ siê co je ró¿ni, ale je¿eli chodzi o DVD to nigdy nie mia³em
 problemu z <option>ivtc</option>. Pamiêtaj, ¿e
 przed przeskalowywaniem powiniene¶ <emphasis role="bold">zawsze</emphasis>
 odwróciæ telecine; odwróæ telecine tak¿e przed
cropowaniem, chyba ¿e naprawdê wiesz co robisz <link linkend="menc-feat-telecine-footnotes">[1]</link>. 
 </para>

<para>
  <screen>mencoder dvd://1 -nosound -vf ivtc=1 -ovc lavc -ofps 23.976</screen>
</para>
</sect3>

<sect3 id="menc-feat-telecine-encode-interlaced">
<title>Przeplecione</title>
<para>
  Dla wiêkszo¶ci praktycznych przypadków nie jest mo¿liwe ca³kowite
  odzyskanie progresywnego video z przeplecionej zawarto¶ci. 
  Jedynym sposobem bez gubienia po³owy pionowej rozdzielczo¶ci
  jest podwojenie ilo¶ci ramek na sekundê i "zgadniêcie" co powinno
  zast±piæ odpowiadaj±ce linie ka¿dego pola (ma to pewne wady - zobacz trzeci± metodê).
</para>

<orderedlist>
<listitem><para>
 Kodowanie video z przeplotem. Normalnie, przeplot niszczy szanse enkodera
 na dobre zakodowanie, lecz <systemitem class="library">libavcodec</systemitem>
 posiada dwie opcje pozwalaj±ce przechowywaæ video z przeplotem ciut lepiej:
 <option> ildct</option> i <option>ilme</option>.
 U¿ycie <option>mbd=2</option> jest tak¿e zalecane <link linkend="menc-feat-telecine-footnotes">[2] </link>
 poniewa¿ zakoduje on makrobloki bez przeplotu w miejscach gdzie nie ma ruchu
 Zauwa¿ i¿ opcja <option>-ofps</option> NIE jest tu potrzebna.

  <screen>mencoder dvd://1 -nosound -ovc lavc -lavcopts ildct:ilme:mbd=2</screen>
  </para></listitem>
<listitem><para>  
  U¿ycie filtru likwiduj±cego przeplot przed kodowaniem. Jest kilka takich 
  filtrów, ka¿dy ma swoje wady i zalety. Skonsultuj <option>mplayer -pphelp</option>
  aby zobaczyæ co jest dostêpne (grepuj "deint") i przeszukaj
  <ulink url="http://www.mplayerhq.hu/homepage/design6/info.html#mailing_lists">
  listy dyskusyjne MPlayera</ulink> aby znale¼æ wiele dyskusji na temat ró¿nych filtrów.
  Ilo¶æ ramek na sekundê znów siê nie zmienia, wiêc nie u¿ywamy <option>-ofps</option>.
  Likwidowanie przeplotu powinno zostaæ zrobione po kadrowaniu 
  <link linkend="menc-feat-telecine-footnotes">[1]</link> i przed skalowaniem.

  <screen>mencoder dvd://1 -nosound -vf pp=lb -ovc lavc</screen>
  </para></listitem>
<listitem><para>
  Niestety ta opcja zawiera b³êdy w <application>MEncoderze</application>; 
  Bêdzie dzia³aæ w <application>MEncoder G2</application>, którego jeszcze nie ma.
  Na razie mo¿esz do¶wiadczyæ nieoczekiwanych wywaleñ.
  <!-- Qba: myslalem ze ktos zaproponuje bardziej formalna wersje :) -->
  
  Celem opcji <option>-vf tfields</option> jest stworzenie pe³nej klatki z ka¿dego pola,
  co w efekcie daje framerate 59,94. Zalet± tego podej¶cia jest zerowa utrata danych;
  jednak ze wzglêdu na to, i¿ ka¿da ramka pochodzi od jednego pola pozosta³e linie musz±
  byæ jako¶ zinterpolowane. S± niezbyt dobre metody generowania brakuj±cych
  danych, a rezultaty bêd± podobne do tych jakie otrzymamy przy filtrach 
  likwiduj±cych przeplot. Generowanie brakuj±cych linii tworzy kolejne problemy, 
  po prostu ilo¶æ danych siê podwaja. Wiêc, aby zachowaæ jako¶æ potrzebny jest 
  wiêkszy koduj±cy bitrate i wiêksza cze¶æ mocy procesora jest u¿ywana do kodowania jak
  i dekodowania. tfields posiada kilka ró¿nych opcji do generowania brakuj±cych linii. Je¿eli
  u¿ywasz tej metody, odwo³aj siê do manuala <!-- podrêcznika ?--> i wybierz opcjê która
  najbardziej odpowiada Twojemu materia³owi. Zauwa¿, ¿e gdy u¿ywasz <option>tfields</option>
   <emphasis role="bold">musisz</emphasis> podaæ i <option>-fps</option>
   i <option>-ofps</option> aby podwoiæ ilo¶æ ramek na sekundê Twojego ¼ród³a.
  
  <screen>mencoder dvd://1 -nosound -vf tfields=2 -ovc lavc -fps 59.94 -ofps 59.94</screen>
  </para></listitem>
<listitem><para>   
  Je¿eli planujesz drastyczne zmniejszenie rozdzielczo¶ci mo¿esz odci±æ i zakodowaæ
  tylko jedno z dwóch pól. Oczywi¶cie stracisz po³owê pionowej rozdzielczo¶ci,
   ale je¶li chcesz zeskalowaæ do mniej ni¿ po³owy pionowej rozdzielczo¶ci, strata  
   nie bêdzie mia³a du¿ego znaczenia. Rezultatem bêdzie progresywny plik o prêdko¶ci
   29,97 ramek na sekundê. Procedura wymaga u¿ycia <option>-vf field</option>,
   potem wykadrowania <link linkend="menc-feat-telecine-footnotes">[1]</link>
   i wyskalowania. Pamiêtaj, i¿ bêdziesz musia³ skompensowaæ po³owê pionowej
   rozdzielczo¶ci odpowiedni± skal±.
   <screen>mencoder dvd://1 -nosound -vf field=0 -ovc lavc</screen>
  </para></listitem>
</orderedlist>
</sect3>

<sect3 id="menc-feat-telecine-encode-mixedpt">
<title>Mieszane progresywne i telecine</title>
<para>
  W celu zmienienia zmieszanego video w ca³kowicie progresywne, czê¶ci
  ztelecinowane bêd± musia³y byæ poddane procesowi odwróconego telecine.
  S± dwa filtry które tego dokonaj± natywnie, ale najlepszym sposobem 
  jest u¿ycie ich obu po³±czonych (czytaj dalej aby dowiedzieæ siê wiêcej).
</para>

<itemizedlist>
<listitem><para>
  Obecnie najbardziej niezawodn± metod± na poradzenie sobie z tym 
  typem video, jest nie odwracanie telecine ztelecinowanych czê¶ci, ale 
  ztelecinowaæ nie-ztelecinowane czê¶ci i odwróciæ telecine ca³ego video.
  Brzmi skomplikowanie? softpulldown jest filtrem który zamienia ca³e video
  na telecine. Je¿eli po softpulldown nast±pi <option>detc</option> lub
  <option>ivtc</option>, koñcowym rezultatem bêdzie w ca³o¶ci progresywne video.
  Kadrowanie i skalowanie powinno byæ zrobione po operacjach odwracaj±cych telecine
  z opcj± <option> -ofps 23.976</option>.

  <screen>mencoder dvd://1 -nosound -vf softpulldown,ivtc=1 -ovc lavc -ofps 23.976</screen>
  </para>
  </listitem>
<listitem><para>
  <option>-vf pullup</option> jest zaprojektowane aby odwracaæ telecine 
  ztelecinowanego materia³u, a progresywne dane zostawiaæ w spokoju.
  Pullup nie dzia³a za dobrze
  z obecnym <application>MEncoderem</application>, ale bêdzie dzia³a³ z 
  <application>MEncoder G2</application> (kiedy ten bêdzie tylko gotowy).
  Dzia³a dobrze bez opcji <option>-ofps</option>, ale <option>-ofps</option>
  jest potrzebne aby zapobiec poszatkowanemu wyj¶ciu <!-- hmmmmm-->. Z  
  <option>-ofps</option> pullup czasami zawodzi. Problem wywodzi siê z zachowania
  <application>MEncodera</application> który zrzuca ramki aby zachowaæ
  synchronizacjê miêdzy d¼wiêkiem i obrazem: zrzuca ramki raczej przed wys³aniem ich przez
  ³añcuch filtrów, ni¿ po. W rezultacie <option>pullup</option> jest czasami pozbawiony danych
  których potrzebuje.
  </para>

  <para>
  Je¿eli <application>MEncoder</application> zrzuca za du¿o ramek pod rz±d, 
  zag³adza bufor <option>pullupa</option> i powoduje jego nieoczekiwane zamkniêcie.
  </para>

  <para>
  Je¿eli nawet <application>MEncoder</application> zrzuca jedn± ramkê,
   <option>pullup</option> wci±¿ nie widzi jej i operuje na z³ej sekwencji ramek.
  Nawet je¶li to nie powoduje nieoczekiwanego zakoñczenia,
  <option>pullup</option> nie bêdzie w stanie podj±æ w³a¶ciwych decyzji jak
  po³±czyæ progresywne ramki i albo bêdzie niew³a¶ciwie dopasowywa³ do siebie
   pola albo zrzuca³ parê pól aby skompensowaæ.
  </para>
  </listitem>

<listitem><para>
  Nie u¿ywa³em <option>-vf filmdint</option> osobi¶cie, ale zobacz co
  ma do powiedzenia na ten temat D Richard Felker III:

  <blockquote><para>To jest w porz±dku, ale IMO (MZ - Moim zdaniem - przyp. t³um.)
  to raczej próbuje usun±æ przeplot ni¿ odwróciæ telecine (podobnie
  jak odtwarzacze DVD settop <!-- co ? co to jestr settop-->&amp; progresywne TV)
  czego skutkiem jest ohydne miganie i inne artefakty. 
  Je¿eli zamierzasz u¿ywaæ tego, musisz chocia¿ spêdzi trochê czasu
  na dopasowaniu opcji i ogl±daniu rezultatów aby upewniæ siê, ¿e siê nie 
  kaszani.</para></blockquote>
  </para></listitem>
</itemizedlist>
</sect3>

<sect3 id="menc-feat-telecine-encode-mixedpi">
<title>Mieszane progresywne i z przeplotem</title>
<para>
  S± dwie metody na poradzenie sobie z t± kategori±, ka¿da jest pewnym 
  kompromisem. Powiniene¶ zdecydowaæ na podstawie czasu trwania/miejsca ka¿dego
  typu.
  </para>

<itemizedlist>
<listitem><para>
  Traktuj video jak progresywne. Czê¶ci z przeplotem bêd± wygl±da³y jak 
  z przeplotem i niektóre przeplecione pola bêd± musia³y byæ zrzucone, czego
  rezultatem bêdzie niemiarowe skakanie. Je¶li chcesz mo¿esz u¿yæ filtrów
  postprocessingu, ale mo¿e to nieznacznie zdegradowaæ progresywne czê¶ci.
  </para>

  <para>
  Ta opcja na pewno nie powinna byæ u¿ywana je¶li docelowo masz zamiar
  wy¶wietlaæ video na urz±dzeniu wykorzystuj±cym przeplot (np. z kart± TV)
  Je¿eli masz ramki z przeplotem 23,937 fps, bêd± one ztelecinowane razem 
  z progresywnymi ramkami. Po³owa "ramek" z przeplotem bêdzie wy¶wietlona
  w czasie wy¶wietlania trzech pól (3/59.94 sekund), co w rezultacie da migaj±cy
  "skok wstecz w czasie" efekt który kiepsko wygl±da. Je¿eli próbowa³e¶
  tego <emphasis role="bold">musisz</emphasis> u¿yæ filtru
  likwiduj±cego przeplot jak <option>lb</option> lub <option>l5</option>.
  </para>

  <para>
  To mo¿e byæ równie¿ z³y pomys³ dla progresywnego obrazu. 
  Zrzuci to pary nieprzerwanych przeplecionych pól, daj±c w rezultacie nieci±g³o¶æ
  która mo¿e byæ bardziej widoczna ni¿ w drugim przypadku który pokazuje
  niektóre ramki dwa razy. Video z przeplotem 29,97 fps jest ju¿ trochê
  poszatkowane poniewa¿ powinno byæ wy¶wietlanie z prêdko¶ci±
  59,94 pól na sekundê, wiêc zduplikowane pola nie s± a¿ tak widoczne.
  </para>
  
  <para>
  W ka¿dym przypadku najlepiej jest rozpatrywaæ materia³ i to gdzie masz zamiar 
  go wy¶wietlaæ. Je¶li video jest w 90% progresywne i nie masz zamiaru nigdy go wy¶wietlaæ
  na TV, powiniene¶ faworyzowaæ progresywne podej¶cie. Je¿eli jest tylko w po³owie
  progresywne, bêdziesz pewnie chcia³ je kodowaæ tak jakby by³o
  w ca³o¶ci z przeplotem.
  </para>
  </listitem>
  
<listitem><para>
  Traktuj video jakby by³o z przeplotem. Niektóre klatki z progresywnych
  czê¶ci bêd± musia³y byæ zduplikowane, daj±c w rezultacie niemiarowe skoki.
  Znów filtry  likwiduj±ce przeplot mog± nieznacznie zdegradowaæ progresywne czê¶ci.
  </para></listitem>

</itemizedlist>
</sect3>

</sect2>

<sect2 id="menc-feat-telecine-footnotes">
<title>Notatki</title>
<orderedlist>
<listitem><formalpara>
  <title>O kadrowaniu:</title>
  <para>
  Video na DVD jest przechowywane w formacie nazywanym YUV 4:2:0.
  W video YUV luma ("jasno¶æ") i chroma ("kolor")
  s± przechowywane osobno. Poniewa¿ ludzkie oczy s± mniej wra¿liwe na
  kolor ni¿ na jasno¶æ, w obrazie YUV 4:2:0 na cztery piksele luma przypada jeden
  piksel chroma. W progresywnym obrazie, ka¿dy kwadrat czterech pikseli luma 
  (dwa na ka¿dym boku) ma jeden wspólny piksel chroma. Musisz wykadrowaæ progresywne 
  video YUV 4:2:0 do parzystych rozdzielczo¶ci, i u¿ywaæ parzystych przesuniêæ. Na przyk³ad 
  <option>crop=716:380:2:26</option> jest OK ale
  <option>crop=716:380:3:26 </option> nie jest.
  </para>
  </formalpara>

  <para>
  Kiedy masz do czynienia z YUV 4:2:0 z przeplotem, sytuacja jest
  trochê bardziej skomplikowana. Zamiast ka¿dych czterech pikseli
  luma w <emphasis>ramce</emphasis> dziel±cych jeden piksel
  chroma, ka¿de cztery piksele w <emphasis>polu</emphasis>
  dziel± jeden piksel chroma. Kiedy pola s± przeplatane aby stworzyæ
  ramkê, ka¿da linia skanuj±ca jest wysoko¶ci jednego piksela.
  Teraz, zamiast czterech pikseli luma w kwadracie, s± dwa bok-przy-boku
  i dwa nastêpne bok-przy-boku dwie linie skanuj±ce ni¿ej. Ca³e to zamieszanie
   powoduje, ¿e pionowe rozmiary kadru i przesuniêcia musz± byæ
  wielokrotno¶ciami czterech. Wymiary poziome mog± pozostaæ parzyste.
  </para>

  <para>
  Dla telecinowanego video, zalecam kadrowaæ po procesie odwracania
  telecine. Kiedy video jest ju¿ progresywne wymagane jest tylko kadrowanie do
  parzystych wymiarów. Je¶li naprawdê potrzebujesz lekkiego przyspieszenia
  jakie da kadrowanie najpierw musisz kadrowaæ pionowo do wielokrotno¶ci
  czterech, inaczej filtr odwracaj±cy telecine nie bêdzie otrzymywa³ prawid³owych danych.
  </para>

  <para>
  Przy video z przeplotem (nie telecine), musisz zawsze kadrowaæ
   pionowo do wielokrotno¶ci czwórki, chyba ¿e u¿ywasz opcji 
  <option>-vf field</option> przed kadrowaniem.
  </para>
  </listitem>

<listitem><formalpara>
  <title>O parametrach i jako¶ci kodowania:</title>
  <para>
  Tylko to, ¿e poleci³em <option>mbd=2</option> tutaj nie znaczy ¿e
  nie mo¿e byæ on u¿ywany gdzie indziej. Razem z <option>trell</option>, 
  <option>mbd=2</option> jest jedn± z dwóch najbardziej podnosz±cych jako¶æ opcji
  biblioteki <systemitem class="library">libavcodec</systemitem>, których zawsze
  powiniene¶ u¿ywaæ, chyba ¿e spadek szybko¶ci kodowania jest niedopuszczalny
  (np. kodowanie w czasie rzeczywistym). Biblioteka <systemitem class="library">libavcodec</systemitem>
  ma wiele opcji umo¿liwiaj±cych zwiêkszenie jako¶ci wyj¶ciowej kodowania (i zmniejszyenie
  prêdko¶ci) ale ten temat jest poza zakresem tego dokumentu.
  </para>
  </formalpara>
  </listitem>

</orderedlist>

</sect2>

</sect1>

</chapter>
