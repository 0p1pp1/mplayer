<?xml version="1.0" encoding="iso-8859-2"?>
<!-- Synced with r19820 -->
<chapter id="ports" xreflabel="Ports">
<title>Porty</title>

<sect1 id="linux">
<title>Linux</title>
<para>
Hlavní vývojovou platformou je Linux na x86, aèkoli
<application>MPlayer</application> pracuje na mnoha jiných portech Linuxu.
Binární balíèky <application>MPlayer</application>u jsou dostupné z nìkolika
zdrojù. Nicménì <emphasis role="bold">není ¾ádný z tìchto balíèkù podporován</emphasis>.
Hlaste tedy problémy jejich autorùm, nikoli nám.
</para>

<sect2 id="debian">
<title>Vytvoøení balíèku pro Debian</title>
<para>
Pro vytvoøení balíèku pro Debian spus»te následující pøíkaz v adresáøi se
zdrojovým kódem <application>MPlayer</application>u:

<screen>fakeroot debian/rules binary</screen>

Pokud chcete pøedat nìjaké volby pro configure, mù¾ete nastavit promìnnou
prostøedí <envar>DEB_BUILD_OPTIONS</envar>. Napøíklad, pokud chcete GUI a
podporu OSD menu, mìli byste pou¾ít:

<screen>DEB_BUILD_OPTIONS="--enable-gui --enable-menu" fakeroot debian/rules binary</screen>

Rovnì¾ mù¾ete pøedat nìkteré promìnné do Makefile. Napøíklad, pokud chcete
kompilovat pomocí gcc 3.4 i v pøípadì, ¾e to není výchozí kompilátor:

<screen>CC=gcc-3.4 DEB_BUILD_OPTIONS="--enable-gui" fakeroot debian/rules binary</screen>

K vyèistìní zdrojového stromu spus»te následující pøíkaz:

<screen>fakeroot debian/rules clean</screen>

Jako root mù¾ete nainstalovat <filename>.deb</filename> balíèek obvyklým
zpùsobem:

<screen>dpkg -i ../mplayer_<replaceable>version</replaceable>.deb</screen>
</para>

<para>
Christian Marillat vytváøel jistou dobu neoficiální Debianí balíèky
<application>MPlayer</application>u, <application>MEncoder</application>u a
na¹ich binárních balíkù s kodeky, mù¾ete si je stáhnout (apt-get) z
<ulink url="http://www.debian-multimedia.org/">jeho domácí stránky</ulink>.
</para>
</sect2>

<sect2 id="rpm">
<title>Balení RPM</title>
<para>
Dominik Mierzejewski vytvoøil a udr¾uje oficiální RPM balíèky
<application>MPlayer</application>u pro Red Hat a Fedora Core. Ty jsou dostupné
z jeho
<ulink url="http://rpm.greysector.net/mplayer/">repozitáøe</ulink>.
</para>

<para>
RPM balíèky pro Mandrake/Mandriva jsou dostupné z
<ulink url="http://plf.zarb.org/">P.L.F.</ulink>.
SuSE zaøadilo do své distribuce zmrzaèenou verzi
<application>MPlayer</application>u. V posledních verzích ji odstranili. Funkèní
RPM naleznete na
<ulink url="http://packman.links2linux.de/?action=128">links2linux.de</ulink>.
</para>
</sect2>

<sect2 id="arm">
<title>ARM</title>
<para>
<application>MPlayer</application> pracuje na Linuxových PDA s ARM CPU napø.
Sharp Zaurus, Compaq Ipaq. Nejjednodu¹¹í zpùsob jak si opatøit
<application>MPlayer</application> je, stáhnout si jej z nìkterého
<ulink url="http://www.openzaurus.org">OpenZaurus</ulink> balíèkového kanálu.
Pokud si jej chcete skompilovat sami, mìli byste nahlédnout do adresáøe
<ulink url="http://openzaurus.bkbits.net:8080/buildroot/src/packages/mplayer?nav=index.html|src/.|src/packages">mplayer</ulink>
a
<ulink url="http://openzaurus.bkbits.net:8080/buildroot/src/packages/libavcodec?nav=index.html|src/.|src/packages">libavcodec</ulink>
v buildroot OpenZaurus distribuce. Zde mají v¾dy poslední Makefile a patche pou¾ívané
pro sestavení CVS verze <application>MPlayer</application>u s
<systemitem class="library">libavcodec</systemitem>em.
Pokud potøebujete GUI rozhraní, mù¾ete pou¾ít xmms-embedded.
</para>
</sect2>
</sect1>

<sect1 id="bsd">
<title>*BSD</title>
<para>
<application>MPlayer</application> bì¾í na v¹ech známých BSD verzích.
Existují portované/pkgsrc/fink/atd verze
<application>MPlayer</application>u, které lze pravdìpodobnì snadnìji pou¾ít,
ne¾ na¹e surové zdrojové kódy.
</para>

<para>
K sestavení <application>MPlayer</application>u budete potøebovat GNU make
(gmake - nativní BSD make nebude pracovat) a souèasnou verzi binutils.
</para>

<para>
Pokud si <application>MPlayer</application> stì¾uje, ¾e nemù¾e najít
<filename>/dev/cdrom</filename> nebo <filename>/dev/dvd</filename>,
vytvoøte pøíslu¹ný symbolický link:
<screen>ln -s /dev/<replaceable>va¹e_cdrom_zaøízení</replaceable> /dev/cdrom</screen>
</para>

<para>
Chcete-li pou¾ívat Win32 DLL v <application>MPlayer</application>u, budete muset
rekompilovat jádro s volbou &quot;<envar>USER_LDT</envar>&quot;
(pokud nepou¾íváte FreeBSD-CURRENT, kde je to výchozí).
</para>


<sect2 id="freebsd">
<title>FreeBSD</title>
<para>
Pokud vá¹ procesor má SSE, rekompilujte jádro s volbami
&quot;<envar>CPU_ENABLE_SSE</envar>&quot; (vy¾aduje FreeBSD-STABLE nebo patche
do jádra).
</para>
</sect2>

<sect2 id="openbsd">
<title>OpenBSD</title>
<para>
Vzhledem k omezením v rùzných verzích gas (GNU assembleru &ndash; pozn. pøekl.)
(relokace vs MMX), budete muset kompilovat ve dvou krocích:
Nejprve se ujistìte ¾e je nenativní as jako první ve va¹í <envar>$PATH</envar>
a proveïte <command>gmake -k</command>, pak zajistìte, aby se pou¾ila nativní
verze a proveïte <command>gmake</command>.
</para>
<para>
Od OpenBSD 3.4 není ji¾ vý¹e uvedená metoda potøeba.
</para>
</sect2>

<sect2 id="darwin">
<title>Darwin</title>
<para>
Viz sekce <link linkend="macos">Mac OS</link>.
</para>
</sect2>
</sect1>

<sect1 id="unix">
<title>Komerèní Unix</title>

<para>
<application>MPlayer</application> byl portován na mnoho komerèních variant
Unixu. Jeliko¾ vývojová prostøedí na tìchto systémech bývají odli¹ná od tìch
na svobodných Unixech, budete muset provést ruèní úpravy, aby se kompilace
povedla.
</para>

<sect2 id="solaris">
<title>Solaris</title>
<para>
<application>MPlayer</application> by mìl bì¾et na Solarisu 2.6 nebo novìj¹ím.
Pou¾ijte SUN audio rozhraní pomocí volby <option>-ao sun</option> pro pøehrávání
zvuku.
</para>

<para>
Na <emphasis role="bold">UltraSPARC</emphasis>ích, <application>MPlayer</application>
vyu¾ívá jejich roz¹íøení <emphasis role="bold">VIS</emphasis>
(ekvivalentní MMX), zatím jen v
<systemitem class="library">libmpeg2</systemitem>,
<systemitem class="library">libvo</systemitem>
a <systemitem class="library">libavcodec</systemitem>, ale nikoli v
<systemitem class="library">mp3lib</systemitem>. Mù¾ete pøehrávat VOB soubor
na 400MHz CPU. Budete k tomu potøebovat nainstalovanou
<ulink url="http://www.sun.com/sparc/vis/mediaLib.html"><systemitem class="library">mLib</systemitem></ulink>.
</para>

<para><emphasis role="bold">Caveat:</emphasis></para>
<itemizedlist>
<listitem><para>Podpora <emphasis role="bold">mediaLib</emphasis> je
<emphasis role="bold">v souèasnosti vypnutá</emphasis> ve výchozím nastavení
<application>MPlayer</application>u kvùli chybovosti. U¾ivatelé SPARCu
pøekládající MPlayer s podporou mediaLib hlásili tlustý zelený pruh
v enkódovaném videu dekódovaném libavcodecem. Pokud chcete, mù¾ete si ji
zapnout:
<screen>
$ ./configure --enable-mlib
</screen>
Dìláte to na vlastní nebezpeèí. U¾ivatelé x86 by
<emphasis role="bold">nikdy</emphasis> nemìli pou¾ívat mediaLib, jeliko¾
vede k velmi slabému výkonu MPlayeru.
</para></listitem>
</itemizedlist>

<para>
Pro kompilaci balíku budete potøebovat GNU <application>make</application>
(<filename>gmake</filename>, <filename>/opt/sfw/gmake</filename>), jeliko¾
nativní make Solarisu nebude pracovat. Typickou chybou kompilace s make
Solarisu namísto GNU make je:
<screen>
   % /usr/ccs/bin/make
   make: Fatal error in reader: Makefile, line 25: Unexpected end of line seen
</screen>
</para>

<para>
Na Solarisu SPARC, potøebujete GNU C/C++ Compiler; nezále¾í na tom, zda je
GNU C/C++ compiler konfigurován s nebo bez GNU assembleru.
</para>

<para>
Na Solarisu x86, potøebujete GNU assembler a GNU C/C++ compiler,
konfigurovaný pro pou¾ití GNU assembleru! Kód <application>MPlayer</application>u
na platformì x86 intenzivnì pou¾ívá MMX, SSE a 3DNOW! instrukce,
které nemù¾e být kompilovány Sun assemblerem <filename>/usr/ccs/bin/as</filename>.
</para>

<para>
Skript <filename>configure</filename> zkou¹í zjistit, který assembler je pou¾itý
va¹ím pøíkazem &quot;gcc&quot; (v pøípadì ¾e autodetekce sel¾e, pou¾ijte volbu
<option>--as=<replaceable>/kdekoli/máte/nainstalován/gnu-as</replaceable></option>
pro nastavení <filename>configure</filename> skriptu tak, aby na¹el GNU
"as" na va¹em systému).
</para>

<para>Øe¹ení bì¾ných potí¾í:</para>
<itemizedlist>
<listitem><para>
Chybová zpráva z <filename>configure</filename> na systému Solaris x86
s pou¾itím GCC bez GNU assembleru:
<screen>
   % configure
   ...
   Checking assembler (/usr/ccs/bin/as) ... , failed
   Please upgrade(downgrade) binutils to 2.10.1...
</screen>
(Øe¹ení: Nainstalujte a pou¾ijte gcc konfigurovaný s <option>--with-as=gas</option>)
</para>

<para>
Typická chyba, kterou dostanete pøi kompilaci pomocí GNU C kompilátoru, který
nepou¾ívá GNU as:
<screen>
   % gmake
   ...
   gcc -c -Iloader -Ilibvo -O4 -march=i686 -mcpu=i686 -pipe -ffast-math
        -fomit-frame-pointer  -I/usr/local/include   -o mplayer.o mplayer.c
   Assembler: mplayer.c
   "(stdin)", line 3567 : Illegal mnemonic
   "(stdin)", line 3567 : Syntax error
   ... more "Illegal mnemonic" and "Syntax error" errors ...
</screen>
</para>
</listitem>

<listitem><para><application>MPlayer</application> mù¾e zhavarovat (segfault),
pokud dekódujete nebo enkódujete video pou¾ívající win32 kodeky:
<screen>
...
Trying to force audio codec driver family acm...
Opening audio decoder: [acm] Win32/ACM decoders
sysi86(SI86DSCR): Invalid argument
Couldn't install fs segment, expect segfault


MPlayer interrupted by signal 11 in module: init_audio_codec
...
</screen>
To díky zmìnì na sysi86() ve verzích Solaris 10 a pøed-Solaris
Nevada b31. V Solaris Nevada b32 to bylo opraveno;
Sun v¹ak je¹tì musí portovat opravu do Solaris 10. MPlayer
Project upozornil Sun na tento problém a záplata pro Solaris 10
je v souèasnosti rozpracována. Více informací o této chybì naleznete
na:
<ulink
url="http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6308413"/>.
</para>
</listitem>

<listitem><para>
Díky chybám v Solarisu 8, nemù¾ete pøehrávat DVD disky vìt¹í ne¾ 4 GB:
</para>

<itemizedlist>
<listitem><para>
Ovladaè sd(7D) na Solarisu 8 x86 má chybu v pøístupu k diskovému bloku >4GB
na zaøízeních, které mají logical blocksize != DEV_BSIZE (èili CD-ROM a DVD média).
Díky 32Bit int overflow, dostanete pøístupovou diskovou adresu modulo 4GB
(<ulink url="http://groups.yahoo.com/group/solarisonintel/message/22516"/>).
Tento problém neexistuje ve SPARC verzi Solarisu 8.
</para></listitem>

<listitem><para>
Podobná chyba je i v kódu systému souborù hsfs(7FS) (AKA ISO9660),
hsfs nemusí podporovat oddíly/disky vìt¹í ne¾ 4GB, ke v¹em datùm je pøistupováno
modulo 4GB
(<ulink url="http://groups.yahoo.com/group/solarisonintel/message/22592"/>).
Problém hsfs mù¾e být odstranìn nainstalováním patche 109764-04 (sparc) / 109765-04 (x86).
</para></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</sect2>

<sect2 id="irix">
<title>IRIX</title>
<para>
Mù¾ete buï zkusit nainstalovat program GNU install a (pokud jste si ho
nedali do globální cesty) odkázat na jeho umístìní pomocí:
<screen>./configure --with-install=<replaceable>/cesta/a/název/programu/install</replaceable></screen>
</para>

<para>
nebo mù¾ete pou¾ít výchozí install dodávaný s IRIXem 6.5. V tom pøípadì
budete muset ruènì upravit <filename>Makefile</filename>.
Zmìòte následující dva øádky:
<programlisting>
  $(INSTALL) -c -m 644 DOCS/mplayer.1 $(MANDIR)/man1/mplayer.1

  $(INSTALL) -c -m 644 etc/codecs.conf $(CONFDIR)/codecs.conf
</programlisting>
na:
<programlisting>
  $(INSTALL) -m 644 mplayer.1 $(MANDIR)/man1/

  $(INSTALL) -m 644 codecs.conf $(CONFDIR)/
</programlisting>
Pak spus»te (z adresáøe se zdrojovými kódy <application>MPlayer</application>u):
<screen>cp DOCS/mplayer.1 . ; cp etc/codecs.conf .</screen>
a pokraèujte kompilací a instalací.
</para>
</sect2>


<sect2 id="hp-ux">
<title>HP-UX</title>
<para>
Joe Page hostuje podrobné HP-UX <application>MPlayer</application>
<ulink url="http://users.rcn.com/joepage/mplayer_on_hpux11.htm">HOWTO</ulink>
od Martina Ganssera na jeho domácí stránce. Podle tìchto instrukcí by kompilace
mìla probìhnout bez potí¾í. Následující informace jsou vyta¾eny ze zmínìného
HOWTO.
</para>

<para>
Potøebujete GCC 3.4.0 nebo pozdìj¹í, GNU make 3.80 nebo pozdìj¹í a SDL 1.2.7 nebo pozdìj¹í.
HP cc nevytvoøí funkèní program, pøedchozí verze GCC jsou chybové.
Pro funkci OpenGL musíte nainstalovat Mesa a video rozhraní gl a gl2 by mìly
pracovat. Jejich rychlost v¹ak mù¾e být velmi malá, podle rychlosti CPU.
Dobrou náhradou za spí¹e slabý nativní HP-UX systém je GNU esound.
</para>

<para>
Vytvoøte DVD zaøízení prùzkumem SCSI pomocí:
</para>

<screen>
# ioscan -fn

Class          I            H/W   Path          Driver    S/W State    H/W Type        Description
...
ext_bus 1    8/16/5      c720  CLAIMED INTERFACE  Built-in SCSI
target  3    8/16/5.2    tgt   CLAIMED DEVICE
disk    4    8/16/5.<emphasis role="bold">2</emphasis>.<emphasis role="bold">0</emphasis>  sdisk CLAIMED DEVICE     <emphasis role="bold">PIONEER DVD-ROM DVD-305</emphasis>
                         /dev/dsk/c1t2d0 <emphasis role="bold">/dev/rdsk/c1t2d0</emphasis>
target  4    8/16/5.7    tgt   CLAIMED DEVICE
ctl     <emphasis role="bold">1</emphasis>    8/16/5.7.0  sctl  CLAIMED DEVICE     Initiator
                         /dev/rscsi/c1t7d0 /dev/rscsi/c1t7l0 /dev/scsi/c1t7l0
...
</screen>

<para>
Výstup na obrazovce ukazuje Pioneer DVD-ROM na SCSI adrese 2.
Instance karty pro hardwarovou cestu 8/16 je 1.
</para>

<para>
Vytvoøte link ze surového zaøízení na DVD zaøízení.
</para>

<screen>
# ln -s /dev/rdsk/c<replaceable>&lt;SCSI bus instance&gt;</replaceable>t<replaceable>&lt;SCSI target ID&gt;</replaceable>d<replaceable>&lt;LUN&gt;</replaceable> /dev/<replaceable>&lt;device&gt;</replaceable>
</screen>

<para>
Pøíklad:
</para>

<screen>
# ln -s /dev/rdsk/c1t2d0 /dev/dvd
</screen>

<para>
Ní¾e uvádíme øe¹ení nìkterých bì¾ných problémù:
</para>

<itemizedlist>
<listitem>
<para>
Spadne pøi startu s hlá¹ením:
<screen>
/usr/lib/dld.sl: Unresolved symbol: finite (code) from /usr/local/lib/gcc-lib/hppa2.0n-hp-hpux11.00/3.2/../../../libGL.sl
</screen>
</para>

<para>
To znamená, ¾e funkce <systemitem>.finite().</systemitem> není
dostupná ve standardní HP-UX matematické knihovnì.
Místo ní je zde <systemitem>.isfinite().</systemitem>.
Øe¹ení: Pou¾ijte poslední Mesa depot soubor.
</para>
</listitem>

<listitem>
<para>
Spadne pøi pøehrávání s hlá¹ením:
<screen>
/usr/lib/dld.sl: Unresolved symbol: sem_init (code) from /usr/local/lib/libSDL-1.2.sl.0
</screen>
</para>

<para>
Øe¹ení: Pou¾ijte volbu extralibdir v configure
<option>--with-extralibdir="/usr/lib -lrt"</option>
</para>
</listitem>

<listitem>
<para>
MPlayer havaruje (segfault) s hlá¹ením:
<screen>
Pid 10166 received a SIGSEGV for stack growth failure.
Possible causes: insufficient memory or swap space, or stack size exceeded maxssiz.
Segmentation fault
</screen>
</para>

<para>
Øe¹ení:
HP-UX kernel má výchozí velikost zásobníku 8MB(?) na proces.(11.0 a
novìj¹í 10.20 patche vám umo¾ní zvý¹it <systemitem>maxssiz</systemitem> a¾ na
350MB pro 32-bit programy). Musíte zvìt¹it <systemitem>maxssiz</systemitem>
a rekompilovat kernel (a restartovat). Pro tento úèel mù¾ete pou¾ít SAM. (Kdy¾
u¾ to budete dìlat, ovìøte parametr <systemitem>maxdsiz</systemitem> pro
maximální mno¾ství pamìti, které mù¾e program pou¾ít. Závisí na va¹ich
aplikacích, jestli je výchozích 64MB dost nebo ne.)
</para>
</listitem>
</itemizedlist>

</sect2>

<sect2 id="aix">
<title>AIX</title>
<para>
<application>MPlayer</application> lze úspì¹nì pøelo¾it na AIX 5.1,
5.2 a 5.3, pomocí GCC 3.3 nebo vy¹¹í. Kompilace
<application>MPlayer</application>u na AIX 4.3.3 a ní¾sích nebyla
testována. Velmi doporuèujeme kompilovat
<application>MPlayer</application> pomocí GCC 3.4 nebo va¹¹í,
nebo pokud kompilujete na
POWER5, vy¾aduje se GCC 4.0.
</para>

<para>
Ujistìte se, ¾e pou¾íváte GNU make
(<filename>/opt/freeware/bin/gmake</filename>) pro sestavení
<application>MPlayer</application>u, jeliko¾ pøi pou¾ití
<filename>/usr/ccs/bin/make</filename> budete mít problémy.
</para>

<para>
Detekce procesoru je stále nedokonèena.
Testovány byly následující architektury:
</para>

<itemizedlist>
<listitem><para>604e</para></listitem>
<listitem><para>POWER3</para></listitem>
<listitem><para>POWER4</para></listitem>
</itemizedlist>

<para>
Následující architektury nebyly testovány, ale mìly by pracovat:
</para>
<itemizedlist>
<listitem><para>POWER</para></listitem>
<listitem><para>POWER2</para></listitem>
<listitem><para>POWER5</para></listitem>
</itemizedlist>

<para>
Zvuk pøes Ultimedia Services není podporován, jeliko¾ Ultimedia byla
opu¹tìna v AIX 5.1; tudí¹ je jedinou mo¾ností pou¾ití ovladaèù AIX Open
Sound System (OSS) od 4Front Technologies z <ulink
url="http://www.opensound.com/aix.html">http://www.opensound.com/aix.html
</ulink>.
4Front Technologies volnì poskytuje OSS ovladaèe pro AIX 5.1 pro
nekomerèní pou¾ití; zatím v¹ak neexistují zvukové ovladaèe
pro AIX 5.2 nebo 5.3. To znamená, ¾e <emphasis role="bold">AIX 5.2
a 5.3 nejsou nyní schopny provozovat MPlayer se zvukem.</emphasis>
</para>

<para>Øe¹ení bì¾ných potí¾í:</para>

<itemizedlist>
<listitem>
<para>
Pokud dostanete tuto chybovou hlá¹ku z <filename>configure</filename>:
<screen>
$ ./configure
...
Checking for iconv program ... no
No working iconv program found, use
--charset=US-ASCII to continue anyway.
Messages in the GTK-2 interface will be broken then.
</screen>
To proto, ¾e AIX pou¾ívá nestandardní názvy znakových sad; proto
konverze výstupu MPlayeru do jiné znakové sady není zatím podporováno.
Øe¹ením je:
<screen>
$ ./configure --charset=noconv
</screen>
</para>
</listitem>
</itemizedlist>

</sect2>
</sect1>

<sect1 id="windows">
<title>Windows</title>

<para>Ano, <application>MPlayer</application> bì¾í na Windows pod
  <ulink url="http://www.cygwin.com/"><application>Cygwin</application></ulink> a
  <ulink url="http://www.mingw.org/"><application>MinGW</application></ulink>.
  Nemá zatím oficiální GUI, ale verze pro pøíkazový øádek je plnì funkèní.
  Mìli byste nav¹tívit konferenci
  <ulink url="http://lists.mplayerhq.hu/mailman/listinfo/mplayer-cygwin/">MPlayer-cygwin</ulink>
  pro pomoc a poslední informace.
  Oficiální Windows binárky naleznete na
  <ulink url="http://www.mplayerhq.hu/design7/dload.html">download stránce</ulink>.
  Instalátor a jednoduché GUI frontendy jsou dostupné z externích zdrojù.
  Odkazy na nì jsme umístili v sekci Windows na na¹í
  <ulink url="http://www.mplayerhq.hu/design7/projects.html#windows">stránce s
  projekty</ulink>.
</para>

<para>Pokud se chcete vyhnout pou¾ití pøíkazové øádky, mù¾ete pou¾ít malý trik
  s umístìním zástupce na pracovní plochu, který bude obsahovat v sekci
  spu¹tìní nìco takového:
  <screen><replaceable>c:\cesta\k\</replaceable>mplayer.exe %1</screen>
  To nechá <application>MPlayer</application> pøehrát jakýkoli film, který je
  pøeta¾en na zástupce. Pøidejte <option>-fs</option> pro celoobrazovkový
  re¾im.
</para>

<para>Nejlep¹ích výsledkù dosáhnete pou¾itím nativního DirectX video rozhraní
  (<option>-vo directx</option>). Alternativami jsou OpenGL a SDL, ale výkon
  OpenGL se velmi rùzní na jednotlivých systémech a o SDL je známo, ¾e na
  nìkterých systémech drobí video nebo padá. Pokud je obraz rozsypán, zkuste
  vypnout hardwarovou akceleraci pomocí
  <option>-vo directx:noaccel</option>. Stáhnìte si
  <ulink
  url="http://www.mplayerhq.hu/MPlayer/releases/win32/contrib/dx7headers.tgz">hlavièkové
  soubory DirectX 7</ulink>
  pro kompilaci výstupního rozhraní DirectX. Navíc budete muset mít
  nainstalovány DirectX 7 nebo vy¹¹í, aby rozhraní pracovalo.
  </para>

<para><link linkend="vidix">VIDIX</link> nyní pracuje pod Windows jako
  <option>-vo winvidix</option>, aèkoli je stále experimentální
  a vy¾aduje trochu manuálního nastavování. Stáhnìte si
  <ulink
  url="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/dhahelper.sys">dhahelper.sys</ulink> nebo
  <ulink
  url="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelperwin/withmtrr/dhahelper.sys">dhahelper.sys (s podporou MTRR)</ulink>
  a zkopírujte jej do adresáøe
  <filename class="directory">libdha/dhahelperwin</filename> ve svém stromì se
  zdrojovými kódy <application>MPlayer</application>u.
  Otevøete konzoli a pøesuòte se do tohoto adresáøe. Pak zadejte

  <screen>gcc -o dhasetup.exe dhasetup.c</screen>

  a spus»te

  <screen>dhasetup.exe install</screen>

  jako Administrator. Pak budete muset restartovat. Jakmile budete hotovi,
  zkopírujte <systemitem class="library">.so</systemitem> soubory z
  <filename class="directory">vidix/drivers</filename> do adresáøe
  <filename class="directory">mplayer/vidix</filename>
  relativního k va¹emu <filename>mplayer.exe</filename>.</para>

<para>Pro nejlep¹í výsledky by mìl <application>MPlayer</application> pou¾ívat
  barevný prostor, který podporuje va¹e video karta v hardware. Nane¹tìstí
  nìkteré Windows ovladaèe grafických karet ¹patnì hlásí nìkteré barevné
  prostory jako podporované v hardware. Chcete-li zjistit které, zkuste

  <screen>mplayer -benchmark -nosound -frames 100 -vf format=<replaceable>barevny_prostor</replaceable> <replaceable>film</replaceable></screen>

  kde <replaceable>barevny_prostor</replaceable> mù¾e být barevný prostor
  vypsaný volbou <option>-vf format=fmt=help</option>. Pokud najdete
  barevný prostor, který va¹e karta zvládá zjevnì ¹patnì,
  <option>-vf noformat=<replaceable>barevny_prostor</replaceable></option>
  zaká¾e jeho pou¾ití. Pøidejte si to do va¹eho konfig souboru, aby zùstal
  zakázán natrvalo.</para>

<para>Pro Windows máme k dispozici speciální balíèky kodekù na na¹í
  <ulink url="http://www.mplayerhq.hu/design7/dload.html">download stránce</ulink>,
  abyste mohli pøehrávat formáty, pro které zatím není nativní podpora.
  Umístìte kodeky nìkde do cesty (path), nebo pøidejte
  <option>--with-codecsdir=<replaceable>c:/cesta/ke/kodekùm</replaceable></option>
  (pøípadnì
  <option>--with-codecsdir=<replaceable>/cesta/ke/kodekùm</replaceable></option>
  pou¾ívate-li <application>Cygwin</application>) do <filename>configure</filename>.
  Máme nìkolik zpráv, ¾e Real DLL musí mít práva zápisu pro u¾ivatele, který
  pou¹tí <application>MPlayer</application>, ale pouze na nìkterých systémech (NT4).
  Máte-li potí¾e, zkuste jim pøidat právo zápisu.</para>

<para>Mù¾ete pøehrávat VCD pøehráváním <filename>.DAT</filename> nebo <filename>.MPG</filename>
  souborù, které Windows ukazuje na VCD. Pracuje to takto
  (upravte písmeno disku va¹í CD-ROM):</para>

<screen>mplayer <replaceable>d:/mpegav/avseq01.dat</replaceable></screen>

<para>DVD pracují také, upravte <option>-dvd-device</option> na písmeno
  DVD-ROM mechaniky:</para>

<screen>mplayer dvd://<replaceable>&lt;titul&gt;</replaceable> -dvd-device <replaceable>d</replaceable>:</screen>

<para><application>Cygwin</application>/<application>MinGW</application>
  terminál je spí¹e pomalý. Pøesmìrování výstupu nebo pou¾ití volby
  <option>-quiet</option> podle hlá¹ení zvý¹í výkon na nìkterých systémech.
  Direct rendering (<option>-dr</option>) mù¾e rovnì¾ pomoci.
  Pokud je pøehrávání trhané, zkuste
  <option>-autosync 100</option>. Pokud vám nìkteré z tìchto voleb pomohly,
  mìli byste si je zapsat do konfiguraèního souboru.</para>

<note>

<para>Runtime CPU detekce na Windows vypíná podporu SSE kvùli opakovaným a
  tì¾ko vystopovatelným se SSE souvisejícím pádùm. Pokud chcete mít podporu
  SSE pod Windows, budete muset kompilovat bez runtime CPU detekce.
</para>

<para>Máte-li Pentium 4 a dojde k pádu pøi pou¾ití
  RealPlayer kodekù, mo¾ná budete muset vypnout podporu hyperthreading.
</para>

</note>


<sect2 id="cygwin">
<title><application>Cygwin</application></title>

<para>Musíte pou¾ívat <application>Cygwin</application> 1.5.0 nebo vy¹¹í,
  abyste mohli kompilovat <application>MPlayer</application>.</para>

<para>Hlavièkové soubory DirectX musí být rozbaleny do <filename class="directory">/usr/include/</filename> nebo
  <filename class="directory">/usr/local/include/</filename>.</para>

<para>Instrukce a soubory nutné pro bìh SDL pod
  <application>Cygwin</application> lze nalézt na
  <ulink url="http://www.libsdl.org/extras/win32/cygwin/">libsdl stránkách</ulink>.</para>

</sect2>


<sect2 id="mingw">
<title><application>MinGW</application></title>

<para>Instalace takové verze <application>MinGW</application>, aby bylo lze
  kompilovat <application>MPlayer</application> byla obtí¾ná, ale nyní
  pracuje bez dal¹ích úprav. Jen nainstalujte <application>MinGW</application>
  3.1.0 nebo vy¹¹í a MSYS 1.0.9 nebo vy¹¹í a zvolte v MSYS postinstall, ¾e je
  <application>MinGW</application> nainstalováno.</para>

<para>Rozbalte DirectX hlavièkové soubory do <filename class="directory">/mingw/include/</filename>.</para>

<para>Podpora MOV compressed header vy¾aduje
  <ulink url="http://www.gzip.org/zlib/">zlib</ulink>, kterou
  <application>MinGW</application> neobsahuje.
  Konfigurujte ji s <option>--prefix=/mingw</option> a nainstalujte
  ji pøed kompilací <application>MPlayer</application>u.</para>

<para>Kompletní instrukce pro pøeklad <application>MPlayer</application>u
  a potøebné knihovny naleznete v
  <ulink url="http://mplayerhq.hu/MPlayer/releases/win32/contrib/MPlayer-MinGW-Howto.txt">MPlayer MinGW HOWTO</ulink>.</para>

</sect2>


</sect1>

<sect1 id="macos">
<title>Mac OS</title>

<para>
<application>MPlayer</application> nepracuje na Mac OS verzích pod
10, ale mìl by být bez úprav kompilovatelný na Mac OS X 10.2 a vy¹¹ích.
Preferovaná verze kompileru je Apple verze
GCC 3.x a vy¹¹ích.
Základní prostøedí pro kompilaci mù¾ete získat instalací
<ulink url="http://developer.apple.com/tools/download/">Xcode</ulink>
od Apple. Máte-li Mac OS X 10.3.9 nebo pozdìj¹í a QuickTime 7
mù¾ete pou¾ít výstupní video rozhraní <option>macosx</option>.
</para>

<para>
Nane¹tìstí toto základní prostøedí neumo¾òuje vyu¾ít v¹echny
pìkné vlastnosti <application>MPlayer</application>u.
Napøíklad, budete-li chtít mít zakompilovánu podporu OSD, budete
muset mít na svém stroji nainstalovány knihovny
<systemitem class="library">fontconfig</systemitem>
a <systemitem class="library">freetype</systemitem>.
 Narozdíl od jiných Unixù, jako je vìt¹ina variant Linuxu a BSD, OS X
 nemá balíèkovací systém distribuovaný se systémem.
</para>

<para>
Mù¾ete vybírat minimálnì ze dvou:
<ulink url="http://fink.sourceforge.net/">Fink</ulink>u a
<ulink url="http://www.macports.org/">DarwinPorts</ulink>.
Oba poskytují zhruba stejné slu¾by (napø. mnoho dostupných balíèkù,
øe¹ení závislostí, schopnost jednodu¹e pøidávat/aktualizovat/odebírat
balíèky, atp...).
Fink nabízí jak pøedkompilované binární balíèky, tak mo¾nost kompilovat
v¹echno ze zdrojového kódu, zatímco DarwinPorts nabízí pouze mo¾nost
kompilace ze zdrojového kódu.
Autor této pøíruèky zvolil DarwinPorts z jednoduchého dùvodu, ¾e jeho
základní nastavení je mnohem lehèí.
Pozdìj¹í pøíklady budou zalo¾eny na DarwinPorts.
</para>

<para>
Napøíklad pro kompilaci <application>MPlayer</application> s podporou OSD:
<screen>sudo port install pkgconfig</screen>
Takto nainstalujete <application>pkg-config</application>, co¾ je systém pro správu
knihovních pøíznakù compile/link.
<application>MPlayer</application>ùv skript <systemitem>configure</systemitem> jej
pou¾ívá pro správnou detekci knihoven.
Pak mù¾ete nainstalovat <application>fontconfig</application>
podobným zpùsobem:
<screen>sudo port install fontconfig</screen>
Následnì mù¾ete pokraèovat spu¹tìním <application>MPlayer</application>ova
<systemitem>configure</systemitem> skriptu (ovìøte promìnné prostøedí
<systemitem>PKG_CONFIG_PATH</systemitem> a <systemitem>PATH</systemitem>,
aby <systemitem>configure</systemitem> na¹el knihovny instalované pomocí
DarwinPorts):
<screen>PKG_CONFIG_PATH=/opt/local/lib/pkgconfig/ PATH=$PATH:/opt/local/bin/ ./configure</screen>
</para>

<sect2 id="osx_gui">
<title>MPlayer OS X GUI</title>

<para>
Mù¾ete si stáhnout nativní GUI pro <application>MPlayer</application> spolu
s pøedkompilovanými binárkami <application>MPlayer</application>u pro Mac OS X
z <ulink url="http://mplayerosx.sf.net/">MPlayerOSX</ulink> projektu, ale upozoròujeme:
tento projekt ji¾ není aktivní.
</para>

<para>
Na¹tìstí byl <application>MPlayerOSX</application> pøevzat èlenem
<application>MPlayer</application> týmu.
Pøedvádìcí verze lze stáhnout z na¹í
<ulink url="http://mplayerhq.hu/dload.html">download stránky</ulink>
a oficiální verze by mìla pøijít ji¾ brzy.
</para>

<para>
Abyste mohli skompilovat <application>MPlayerOSX</application> ze zdrojového
kódu sami, budete potøebovat <systemitem>mplayerosx</systemitem>,
<systemitem>main</systemitem> a kopii
<systemitem>main</systemitem> CVS modulu jménem
<systemitem>main_noaltivec</systemitem>.
<systemitem>mplayerosx</systemitem> je GUI nadstavba,
<systemitem>main</systemitem> je MPlayer a
<systemitem>main_noaltivec</systemitem> je MPlayer pøelo¾ený bez podpory AltiVec.
</para>

<para>
Pro sta¾ení SVN modulù pou¾ijte:

<screen>
svn checkout svn://svn.mplayerhq.hu/mplayerosx/trunk/ mplayerosx
svn checkout svn://svn.mplayerhq.hu/mplayer/trunk/ main
</screen>
</para>

<para>
Abyste skompilovali <application>MPlayerOSX</application> budete muset setavit
asi toto:

<screen>
Adresáø_se_zdrojáky_MPlayeru
   |
   |--->main           (Zdrojový kód MPlayeru ze Subversion)
   |
   |--->main_noaltivec (Zdrojový kód MPlayeru ze Subversion konfigurován s --disable-altivec)
   |
   |--->mplayerosx     (Zdrojový kód MPlayer OS X ze Subversion)
</screen>

Nejdøív musíte skompilovat main a main_noaltivec.
</para>

<para>
Pak nastavte globální promìnnou:

<screen>export MACOSX_DEPLOYMENT_TARGET=10.3</screen>
</para>

<para>
Pak konfigurujte:
</para>

<para>
Pokud konfigurujete pro G4 nebo pozdìj¹í CPU s podporou AltiVec, proveïte následující:
<screen>
./configure --with-termcaplib=ncurses.5 --disable-gl --disable-x11
</screen>
Pokud konfigurujete pro stroj s G3 bez AltiVec, pou¾ijte:
<screen>
./configure --with-termcaplib=ncurses.5 --disable-gl --disable-x11
--disable-altivec
</screen>
Mo¾ná budete muset editovat <filename>config.mak</filename> a zmìnit
<systemitem>-mcpu</systemitem> a <systemitem>-mtune</systemitem>
z <systemitem>74XX</systemitem> na <systemitem>G3</systemitem>.
</para>

<para>
Pokraèujte s
<screen>
make
</screen>
pak jdìte do adresáøe mplayerosx a napi¹te

<screen>
make dist
</screen>
To vytvoøí komprimovaný <systemitem>.dmg</systemitem> archiv
s binárkou pøipravenou k pou¾ití.
</para>

<para>
Také lze pou¾ít projekt <application>Xcode</application> 2.1;
starý projekt pro <application>Xcode</application> 1.x
ji¾ nepracuje.
</para>
</sect2>
</sect1>

<sect1 id="exotic_platforms">
<title>Exotické platformy</title>

<para>
<application>MPlayer</application> bì¾í na mnoha exotických platformách,
ale vìt¹ina platformnì závislých zmìn z tìchto systémù nebyla pøidána zpìt
do hlavního zdrojového stromu.
Pokyny k sestavení byste mìli najít v dokumentaci pro daný systém.
</para>

<sect2 id="qnx">
<title>QNX</title>
<para>
Musíte si stáhnout a nainstalovat SDL pro QNX. Pak spus»te
<application>MPlayer</application> s volbami <option>-vo sdl:driver=photon</option>
a <option>-ao sdl:nto</option>, mìlo by to být rychlé.
</para>

<para>
Výstup <option>-vo x11</option> bude je¹tì pomalej¹í ne¾ na Linuxu,
jeliko¾ QNX má pouze X <emphasis>emulaci</emphasis>, která je velmi pomalá.
</para>
</sect2>

<sect2 id="amiga">
<title>Amiga/MorphOS (GeekGadgets)</title>
<para>
Lidé z okruhu <ulink url="www.amigasoft.net">www.amigasoft.net</ulink>
tvoøí souèasné balíèky <application>MPlayer</application> a
<application>MEncoder</application>.
</para>

<para>
Nicholas Det at Genesi vytvoøil velký a výkonný port <application>MPlayer
</application>u pro MorphOS. Nane¹tìstí je zalo¾en na verzi 0.90.
</para>

<para>
Stáhnìte si ji z <ulink url="http://www.morphzone.org/">MorphZone</ulink>:
<itemizedlist>
<listitem><para>
<ulink url="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=90">
<application>MPlayer</application> 0.91 binary</ulink>
</para></listitem>
<listitem><para>
<ulink url="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=91">
<application>MPlayer</application> 0.91 source</ulink>
</para></listitem>
<listitem><para>
<ulink url="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=92">
<application>MEncoder</application> 1.0pre3 binary</ulink>
</para></listitem>
</itemizedlist>
</para>
</sect2>
</sect1>

</chapter>
