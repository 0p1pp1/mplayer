<?xml version="1.0" encoding="utf-8"?>
<!-- Synced with r20551 -->
<chapter id="install">
<title>Instalace</title>

<para>
Jednoduchý návod na instalaci naleznete v souboru <filename>README</filename>.
Přečtěte si nejprve tento soubor a poté se vraťte zde pro další podrobnosti.
</para>

<para>
V této části vás provedeme procesem kompilace a konfigurace programu
<application>MPlayer</application>. Není to snadné, ale nemusí to být nutně těžké.
Pokud zaznamenáte rozdílné chování, než zde popisuji, prostudujte si prosím
tuto dokumentaci a naleznete své odpovědi. Pokud narazíte na odkazy, následujte je
a pečlivě si prostudujte jejich obsah. Bude vás to stát trochu času,  ale STOJÍ to
za to.
</para>

<para>
Budete potřebovat poměrně zánovní systém. Na Linuxu doporučujeme jádro řady 2.4.x.
</para>

<sect1 id="softreq">
<title>Softwarové požadavky</title>

<itemizedlist>
<listitem><para>
  <emphasis role="bold">binutils</emphasis> &ndash; Doporučená verze je <emphasis role="bold">2.11.x</emphasis>.
  Tento program zajišťuje generování MMX/ 3DNow!/atd. instrukcí, které jsou velmi
  důležité.
</para></listitem>
<listitem><para>
  <emphasis role="bold">gcc</emphasis> &ndash; Doporučené verze jsou 2.95
  a 3.3+. 2.96 a 3.0.x jsou známy generováním vadného kódu, 3.1 a
  3.2 měly rovněž problémy. Na PowerPC použijte 4.x+.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">XFree86</emphasis> &ndash; Doporučená verze je
  <emphasis role="bold">vždy ta nejnovější</emphasis> (4.3).
  Normálně by to měl chtít každý, jelikož od verze
  XFree86 4.0.2 obsahuje rozšíření <link linkend="xv">XVideo</link>
  (místy zmiňované jako <emphasis role="bold">Xv</emphasis>)
  které je nutné k zapnutí hardwarové YUV akcelerace (rychlé vykreslování
  obrázku) na kartách, které to podporují.
  Ujistěte se že máte nainstalován i <emphasis role="bold">vývojový (dev)
  balíček</emphasis>, jinak to nebude pracovat.
  Pro některé video karty nepotřebujete XFree86. Viz seznam níže.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">make</emphasis> &ndash; Doporučená verze je
  <emphasis role="bold">vždy ta nejnovější</emphasis> (aspoň 3.79.x). Obvykle to
  není důležité.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">FreeType</emphasis> 2.0.9 nebo pozdější je vyžadována,
  abyste měli font pro OSD a titulky.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">SDL</emphasis> &ndash; není vyžadována, ale může pomoci
  v některých
  případech (špatný zvuk, video karty které se podivně opožďují s xv rozhraním).
  Vždy použijte nejnovější (počínaje 1.2.x).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libjpeg</emphasis> &ndash; volitelný JPEG dekodér, používaný
  volbou <option>-mf</option> a některými QT MOV soubory. Použitelný pro
  <application>MPlayer</application>
  i <application>MEncoder</application> pokud chcete pracovat se soubory JPEG.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libpng</emphasis> &ndash; doporučený a výchozí (M)PNG dekodér.
  Vyžadován pro GUI.
  Použitelný pro <application>MPlayer</application> i <application>MEncoder</application>.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">lame</emphasis> &ndash; doporučený, nutný pro enkódování MP3
  zvuku v <application>MEncoder</application>u, doporučená verze je
  <emphasis>vždy ta nejnovější</emphasis> (aspoň 3.90).
  </para></listitem>
<listitem><para>
  <emphasis role="bold">zlib</emphasis> &ndash; doporučená, nutná pro komprimovanou
  MOV hlavičku a podporu PNG.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libogg</emphasis> &ndash; volitelná, nutná pro přehrávání
  souborového formátu OGG.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libvorbis</emphasis> &ndash; volitelná, nutná pro přehrávání
  OGG Vorbis zvuku.
  </para></listitem>
<listitem><para>
  <emphasis role="bold"><ulink url="http://www.live555.com/mplayer/">LIVE555 Streaming Media</ulink></emphasis>
  - volitelná, nutná pro přehrávání RTSP/RTP datových proudů.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">directfb</emphasis> &ndash; volitelný, z
  <ulink url="http://www.directfb.org"/>. Vyžadujeme aspoň 0.9.13.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">cdparanoia</emphasis> &ndash; volitelná, pro podporu CDDA
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libxmms</emphasis> &ndash; volitelná, pro podporu XMMS
  vstupního pluginu.
  Vyžadujeme aspoň 1.2.7.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">libsmb</emphasis> &ndash; volitelná, pro podporu Samby.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">ALSA</emphasis> &ndash; volitelná, pro podporu ALSA
  zvukového výstupu. Vyžadujeme aspoň 0.9.0rc4.
  </para></listitem>
</itemizedlist>
</sect1>


<sect1 id="video-cards">
<title>Video karty</title>

<para>
Obecně máme dva druhy video karet. Jedny (ty novější) mají podporu pro
<emphasis role="bold">hardwarové škálování a YUV akceleraci</emphasis>,
druhé ji nemají.
</para>


<sect2 id="yuv-cards">
<title>YUV karty</title>

<para>
Mohou zobrazit a škálovat (zvětšit/zmenšit) obraz na jakoukoli velikost,
která se jim vejde do paměti, při <emphasis role="bold">nízkém zatížení CPU</emphasis>
(dokonce i při zoomu), takže je zobrazení na celou obrazovku hezké a velmi rychlé.

<itemizedlist>
<listitem><para>
  <emphasis role="bold">Karty Matrox G200/G400/G450/G550</emphasis>: ačkoli je
  pro ně
  <link linkend="vidix">Vidix ovladač</link>, doporučuje se místo něj raději
  použít modul mga_vid, jelikož pracuje mnohem lépe.
  Podívejte se do části <link linkend="mga_vid">mga_vid</link> na informace o
  jeho použití
  a instalaci. Je důležité provést všechny tyto kroky
  <emphasis>před</emphasis> kompilací <application>MPlayer</application>u,
  jinak nebude zabudována podpora pro mga_vid. Rovněž nahlédněte do části
  <link linkend="tvout-mga-g400">Matrox TV-out</link>.
  <emphasis role="bold"> Pokud nepoužíváte Linux</emphasis>, je vaší jedinou
  volbou
  VIDIX ovladač: přečtěte si sekci <link linkend="vidix">VIDIX</link>.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty 3Dfx Voodoo3/Banshee</emphasis>: prostudujte si
  sekci <link linkend="tdfxfb">tdfxfb</link> pokud chcete velké zrychlení.
  Je důležité provést všechny tyto kroky <emphasis role="bold">před</emphasis>
  kompilací <application>MPlayer</application>u, jinak  nebude zabudována
  podpora pro 3Dfx.
  Pokud používáte X, použijte alespoň <emphasis role="bold">4.2.0</emphasis>,
  protože 3dfx Xv ovladač je vadný v 4.1.0 a předchozích.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty ATI</emphasis>: <link linkend="vidix">VIDIX</link>
  ovladač je k dispozici pro následující karty:
  <emphasis role="bold">Radeon, Rage128, Mach64</emphasis>
 (Rage XL/Mobility, Xpert98).
  Rovněž nahlédněte do sekce <link linkend="tvout-ati">ATI karet</link>
  s dokumentací pro TV-out, kde se dozvíte zda je pod
  Linuxem/<application>MPlayer</application>em podporován
  TV-out vaší karty.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty S3</emphasis>: Savage a Virge/DX čipy mají
  hardwarovou akceleraci. Použijte tak novou verzi XFree86 jak je jen možné,
  starší ovladače
  jsou plné chyb. Čipy Savage mají problémy se zobrazováním YV12, viz sekci
  <link linkend="s3">S3 Xv</link> 
  pro více detailů. Starší Trio karty nemají žádnou, nebo jen pomalou
  hardwarovou podporu.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Karty nVidia</emphasis>: mohou, ale nemusí být dobrou
  volbou pro přehrávání videa pod Linuxem.
  Pokud nemáte kartu GeForce2 (nebo novější), nejspíše nebude pracovat bezchybně.
  <emphasis role="bold">Vestavěný nVidia ovladač v XFree86 nepodporuje
  hardwarovou YUV akceleraci na všech nVidia kartách.</emphasis> Budete muset
  stáhnout closed-source ovladače od nVidie
  z <ulink url="http://nvidia.com">nVidia.com</ulink>.
  Viz sekci <link linkend="nvidia">nVidia Xv ovladač</link> pro více detailů.
  Rovněž navštivte sekci <link linkend="tvout-nvidia">nVidia TV-out</link>
  pokud chcete používat TV.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">3DLabs GLINT R3 a Permedia3</emphasis>: k dispozici máte
  VIDIX ovladač (pm3_vid). Rovněž nahlédněte do části <link linkend="vidix">VIDIX</link>
  pro více informací.
  </para></listitem>
<listitem><para>
  <emphasis role="bold">Ostatní karty</emphasis>: žádná z výše uvedených?
  <itemizedlist>
  <listitem><simpara>
    Zkuste zda XFree86 ovladač (a vaše karta) podporuje hardwarovou
    akceleraci. Pro více informací viz sekci <link linkend="xv">Xv</link>.
    </simpara></listitem>
  <listitem><simpara>
    Pokud ne, pak nejsou video vlastnosti vaší karty podporovány vaším operačním
    systémem:( Jestliže hardwarové škálování pracuje ve Windows, ještě to
    neznamená, že bude funkční v Linuxu nebo jiném operačním systému.
    To závisí na ovladačích. Většina výrobců nedodává ovladače pro Linux ani
    nezveřejnila specifikace svých
    čipů -- pokud používáte jejich karty pak máte smůlu.
    Viz <xref linkend="non-yuv-cards"/>.
    </simpara></listitem>
  </itemizedlist>
  </para></listitem>
</itemizedlist>
</para>
</sect2>


<sect2 id="non-yuv-cards" xreflabel="Ne-YUV karty">
<title>Ne-YUV karty</title>

<para>
Přehrávání na celé obrazovce může být dosaženo buď zapnutím <emphasis role="bold">
softwarového škálování</emphasis> (použitím volby <option>-zoom</option> nebo
<option>-vf</option>, ale varuji vás: je to pomalé), anebo přepnutím do menšího
videorežimu, například
352x288. Pokud nemáte YUV akceleraci, doporučujeme druhou možnost.
Přepínání videorežimu lze zapnout použitím volby <option>-vm</option>,
což pracuje s těmito ovladači:
<itemizedlist>
<listitem><simpara>
  <emphasis role="bold">používáte</emphasis> XFree86: viz detaily v části
  <link linkend="dga">DGA ovladač</link> a
  <link linkend="x11">X11 ovladač</link>. Doporučujeme DGA! Vyzkoušejte také DGA
  přes SDL, někdy je lepší.
  </simpara></listitem>
<listitem><simpara>
  <emphasis role="bold">nepoužíváte</emphasis> XFree86: zkoušejte ovladače
  v následujícím pořadí:
  <link linkend="vesa">vesa</link>,
  <link linkend="fbdev">fbdev</link>,
  <link linkend="svgalib">svgalib</link>,
  <link linkend="aalib">aalib</link>.
  </simpara></listitem>
</itemizedlist>
</para>
</sect2>

<!-- FIXME: find a more logical organization for this section -->
<sect2 id="cirrus-logic-cards" xreflabel="Karty Cirrus-Logic">
<title>Karty Cirrus-Logic</title>
<itemizedlist>
<listitem><para>
  GD 7548: byla integrovaná na základní desce a testována v noteboocích řady
  Compaq Armada 41xx.
  <itemizedlist>
  <listitem><simpara>
    XFree86 3: pracuje v režimech 8/16bpp. Ovladač je ovšem velmi pomalý a
    nestabilní při
    800x600@16bpp. <emphasis role="bold">Doporučujeme: 640x480@16bpp</emphasis>
   </simpara></listitem>
  <listitem><simpara>
    XFree86 4: Xserver zamrznul brzy po startu pokud nebyla vypnuta akcelerace,
    ale pak se vše zpomalilo víc než v XFree86 3. Není XVideo.
   </simpara></listitem>
  <listitem><simpara>
    FBdev: framebuffer lze zapnout pomocí modulu jádra <systemitem>clgenfb</systemitem>.
    Pracoval ovšem pouze v 8bpp barevné hloubce, což je k ničemu.
    Zdrojový kód clgenfb musí být rozšířen o ID 7548 před kompilací.
   </simpara></listitem>
  <listitem><simpara>
    VESA: karta podporuje pouze VBE 1.2, takže výstup VESA nelze použít.
    Nelze to obejít pomocí UniVBE.
  </simpara></listitem>
  <listitem><simpara>
    SVGAlib: detekuje starší Cirrus čip. Použitelné, ale pomalé při
    <option>-bpp 8</option>.
  </simpara></listitem>
</itemizedlist>
</para></listitem>
</itemizedlist>
</sect2>
</sect1>


<sect1 id="sound-cards">
<title>Zvukové karty</title>

<itemizedlist>
<listitem><simpara>
  <emphasis role="bold">Soundblaster Live!</emphasis>: s touto kartou můžete
  použít 4 nebo 6 (<emphasis role="bold">5.1</emphasis>) kanálové AC3 dekódování
  místo 2 kanálového.
  Přečtěte si sekci 
  <link linkend="swac3">Softwarové dekódování AC3</link>. Pro hardwarové AC3
  tunelování <emphasis role="bold">musíte</emphasis> použít ALSA 0.9 s OSS
  emulací!
  </simpara></listitem>
<listitem><simpara>
  <emphasis role="bold">C-Media s S/PDIF výstupem</emphasis>: hardwarové AC3
  tunelování je s těmito kartami možné, viz sekci
  <link linkend="hwac3">Hardwarové AC3 dekódování</link>.
  </simpara></listitem>
<listitem><simpara>
  Vlastnosti <emphasis role="bold">ostatních karet</emphasis> nejsou
  <application>MPlayer</application>em podporovány.
  <emphasis role="bold">Velmi doporučujeme k přečtení sekci
  <link linkend="audio">zvukové karty</link>!</emphasis>
  </simpara></listitem>
</itemizedlist>
</sect1>


<sect1 id="features">
<title>Vlastnosti</title>

<itemizedlist>
<listitem><para>
  Rozhodněte se zda potřebujete GUI. Pokud ano, přečtěte si před kompilací
  sekci <link linkend="gui">GUI</link>.
  </para></listitem>
<listitem><para>
  Pokud chcete nainstalovat <application>MEncoder</application> (náš skvělý
  všestranný enkodér), přečtěte si sekci
  <link linkend="mencoder"><application>MEncoder</application></link>.
  </para></listitem>
<listitem><para>
  Pokud máte V4L kompatibilní <emphasis role="bold">TV tuner</emphasis> kartu,
  a přejete si sledovat/grabovat filmy <application>MPlayer</application>em,
  přečtěte si sekci <link linkend="tv-input">TV vstup</link>.
  </para></listitem>
<listitem><para>
  Pokud máte V4L kompatibilní <emphasis role="bold">radio tuner</emphasis> kartu
  a přejete si poslouchat nebo zachytávat zvuk <application>MPlayer</application>em,
  přečtěte si sekci <link linkend="radio">radio</link>.
  </para></listitem>
<listitem><para>
  Připravena k použití je podpora pěkného <emphasis role="bold">OSD Menu</emphasis>.
  Přečtěte si sekci <link linkend="subosd">OSD menu</link>.
  </para></listitem>
</itemizedlist>

<para>
  Pak přeložte <application>MPlayer</application>:
<screen>
  ./configure
  make
  make install</screen>
</para>

<para>
  V tuto chvíli máte <application>MPlayer</application> připraven k použití.
  Adresář <filename class="directory">$PREFIX/share/mplayer</filename>
  obsahuje soubor <filename>codecs.conf</filename>. Ten se používá pro oznámení
  všech kodeků a jejich schopností. Tento soubor je potřeba pouze pokud chcete
  tyto předvolby změnit, protože
  jeho kopie je součástí vlastního programu.
  Zjistěte jestli máte v domácím adresáři soubor
  <filename>codecs.conf</filename> 
  (<filename>~/.mplayer/codecs.conf</filename>) ze starých verzí
  <application>MPlayer</application>u a odstraňte ho.
</para>

<para>
  Poznamenejme že pokud umístíte <filename>codecs.conf</filename> do
  <filename>~/.mplayer/</filename>, vestavěný a systémový
  <filename>codecs.conf</filename> budou zcela ignorovány.
  Nedělejte to pokud nechcete ošidit přednastavení
  <application>MPlayer</application>u, což může způsobit mnoho problémů.
  Pokud jen chcete změnit pořadí vyhledávání kodeků,
  použijte volby <option>-vc</option>, <option>-ac</option>,
  <option>-vfm</option> nebo <option>-afm</option> v příkazovém řádku,
  nebo konfiguračním souboru (viz manuálová stránka).
</para>


<para>
  Uživatelé Debianu si mohou vyrobit .deb balíček, je to velmi jednoduché.
  Jen spusťte binárku
  <screen>fakeroot debian/rules</screen>
  v <application>MPlayer</application>ově kořenovém adresáři. Podrobnosti viz
  <link linkend="debian">Balíčkování Debianu</link>.
</para>

<para>
  <emphasis role="bold">Vždy si prostudujte výstup skriptu</emphasis>
  <filename>./configure</filename>, a soubor <filename>configure.log</filename>,
  které obsahují informace o tom co bude zakompilováno a co ne. Také můžete
  chtít vidět soubory <filename>config.h</filename> a
  <filename>config.mak</filename>.
  Pokud máte některé knihovny nainstalovány, ale nebyly detekovány skriptem
  <filename>./configure</filename>, pak ověřte, zda máte příslušné hlavičkové
  soubory
  (obvykle -dev balíčky) a jejich verze jsou shodné. Soubor
  <filename>configure.log</filename> vám obvykle prozradí co vám chybí.
</para>

<para>
  Ačkoli to není podmínkou, měli byste mít nainstalovány fonty pro funkci OSD a
  zobrazování titulků. Doporučujeme nainstalovat soubor fontu TTF a nařídit
  <application>MPlayer</application>u jej používat.
  Detaily viz sekce <link linkend="subosd">Titulky a OSD</link>.
</para>

</sect1>

<!-- ********** -->

<sect1 id="gui">
<title>Chtěli byste GUI?</title>

<para>
  GUI potřebuje GTK 1.2.x nebo GTK 2.0 (není plně GTK, ale panely jsou).
  Skiny jsou uloženy v PNG formátu,
  takže GTK, <systemitem class="library">libpng</systemitem>
  (a jejich příslušenství, obvykle nazývané <systemitem class="library">gtk-dev</systemitem>
  a <systemitem class="library">libpng-dev</systemitem>) musí být nainstalovány.
  Můžete jej zakompilovat předáním volby <option>--enable-gui</option> skriptu
  <filename>./configure</filename>. Aktivaci GUI režimu pak provedete spuštěním
  binárky <command>gmplayer</command>.
</para>

<para>
  V současnosti lze také předat volbu <option>-gui</option> na příkazovém řádku,
  z technických důvodů.
</para>

<para>
  Protože <application>MPlayer</application> nemá přibalen žádný skin, budete si
  muset nějaký stáhnout abyste mohli používat GUI. Viz naši <ulink
  url="http://www.mplayerhq.hu/dload.html">download stránku</ulink>.
  Skiny by měly být rozbaleny do obvyklého systémového adresáře
  (<filename class="directory">$PREFIX/share/mplayer/skins</filename>),
  nebo do <filename class="directory">$HOME/.mplayer/skins</filename>.
  <application>MPlayer</application> ve výchozím stavu hledá v těchto adresářích
  podadresář jménem <filename class="directory">default</filename>, ale
  můžete použít volbu <option>-skin <replaceable>nový_skin</replaceable></option>
  nebo direktivu <literal>skin=nový_skin</literal> konfiguračního souboru pro
  použití skinu v adresáři <filename class="directory">*/skins/nový_skin</filename>.
</para>
</sect1>

<!-- ********** -->

<sect1 id="fonts-osd">
<title>Fonty a OSD</title>

<para>
Abyste si mohli užívat OSD a titulků, musíte
<application>MPlayer</application>u sdělit, který font má použít.
Může to být jakýkoli TrueType font, nebo speciální bitmapový font.
TrueType však doporučujeme, jelikož vypadají lépe, mohou být vhodně
škálovány na rozměr filmu a lépe si poradí s různými znakovými sadami.
</para>

<sect2 id="truetype-fonts">
<title>TrueType fonty</title>

<para>
Existují dva způsoby, jak zprovoznit TrueType fonty. První je použít volbu
<option>-font</option> pro volbu TrueType fontu z příkazového řádku.
Tato volba bude dobrým kandidátem pro umístění do konfiguračního
souboru (detaily viz manuál).
Druhá je vytvoření symlinku s názvem <filename>subfont.ttf</filename>
na soubor s vámi vybraným fontem. Buď
<screen>ln -s <replaceable>/cesta/k/sample_font.ttf</replaceable> ~/.mplayer/subfont.ttf</screen>
pro každého uživatele zvlášť, nebo systémový:
<screen>ln -s <replaceable>/cesta/k/sample_font.ttf</replaceable> $PREFIX/share/mplayer/subfont.ttf</screen>
</para>

<para>
Pokud byl <application>MPlayer</application> kompilován s podporou
<systemitem class="library">fontconfig</systemitem>, výše uvedené nebude
fungovat, místo toho <option>-font</option> očekává
<systemitem class="library">fontconfig</systemitem> název fontu
a jako výchozí bere bezpatkový font. Příklad:

<screen>mplayer -font <replaceable>'Bitstream Vera Sans'</replaceable> <replaceable>anime.mkv</replaceable></screen>
</para>

<para>
Seznam fontů známých
<systemitem class="library">fontconfig</systemitem>u,
získáte pomocí <command>fc-list</command>.
</para>
</sect2>


<sect2 id="bitmap-fonts">
<title>bitmapové fonty</title>

<para>
Pokud se z nějakého důvodu rozhodnete nebo potřebujete použít bitmapové fonty,
stáhněte si sadu z našich stránek. Můžete si vybrat mezi různými
<ulink url="http://www.mplayerhq.hu/MPlayer/releases/fonts/">ISO fonty</ulink>
a několika sadami fontů
<ulink url="http://www.mplayerhq.hu/MPlayer/contrib/fonts/">zaslaných uživateli</ulink>
v různých znakových sadách.
</para>

<para>
Rozbalte stažený archiv do
<filename class="directory">~/.mplayer</filename> nebo
<filename class="directory">$PREFIX/share/mplayer</filename>.
Pak přejmenujte nebo slinkujte jeden z rozbalených adresářů na
<filename class="directory">font</filename>, například:
<screen>ln -s <replaceable>~/.mplayer/arial-24</replaceable> ~/.mplayer/font</screen>
<screen>ln -s <replaceable>$PREFIX/share/mplayer/arial-24</replaceable> $PREFIX/share/mplayer/font</screen>
</para>

<para>
Fonty by měly mít vhodný <filename>font.desc</filename> soubor,
který mapuje unicode pozice ve fontu na aktuální znakovou sadu
textu titulků. Dalším řešením je mít titulky kódované v UTF-8 a použít
volbu <option>-utf8</option>, nebo pojmenujte soubor s titulky
stejně jako film a dejte mu příponu <filename>.utf</filename>
a umístěte jej do adresáře s filmem.
</para>

</sect2>


<sect2 id="osdmenu">
<title>OSD menu</title>

<para>
<application>MPlayer</application> má plně uživatelsky definovatelné rozhraní OSD
Menu (nabídka na obrazovce).
</para>

<note><simpara>
Menu Preferences NENÍ v současnosti IMPLEMENTOVÁNO!
</simpara></note>

<orderedlist>
<title>Instalace</title>
<listitem><simpara>
  zkompilujte <application>MPlayer</application> s volbou
  <option>--enable-menu</option>
  předanou do <filename>./configure</filename>
  </simpara></listitem>
<listitem><simpara>
  ujistěte se že máte nainstalován OSD font
  </simpara></listitem>
<listitem><simpara>
  zkopírujte <filename>etc/menu.conf</filename> do svého
  <filename class="directory">.mplayer</filename> adresáře
  </simpara></listitem>
<listitem><simpara>
  zkopírujte <filename>etc/menu.conf</filename> do svého
  <filename class="directory">.mplayer</filename> adresáře, nebo do systémového
  <application>MPlayer</application> konfiguračního adresáře (výchozí:
  <filename class="directory">/usr/local/etc/mplayer</filename>)
  </simpara></listitem>
<listitem><simpara>
  zkontrolujte a upravte <filename>input.conf</filename>, abyste zapnuli klávesy
  pro pohyb v menu (to je popsáno zde).
  </simpara></listitem>
<listitem><para>
  spusťte <application>MPlayer</application> podle následujícího příkladu:
  <screen>$ mplayer -menu <replaceable>file.avi</replaceable></screen>
  </para></listitem>
<listitem><simpara>
  stiskněte některou z kláves, kterou jste definovali
  </simpara></listitem>
</orderedlist>

</sect2>
</sect1>

<!-- ********** -->

<sect1 id="rtc">
<title>RTC</title>
<para>
V <application>MPlayer</application> jsou zabudovány tři metody časování.

<itemizedlist>
<listitem><simpara>
<emphasis role="bold">Abyste použili starou metodu</emphasis>, nemusíte dělat
  vůbec nic. Ta používá <systemitem>usleep()</systemitem> pro hlídání
  A/V synchronizace s přesností +/- 10ms. Ačkoli někdy může být synchronizace
  hlídána ještě jemněji.
  </simpara></listitem>
<listitem><para>
Kód <emphasis role="bold">nového časovače</emphasis> používá pro tento účel RTC
  (hodiny reálného času), protože mají přesné 1ms časovače.
  Volba <option>-rtc</option> to zapíná, je však nutné vhodně nastavené jádro.
  Pokud používáte jádro 2.4.19pre8 nebo pozdější, můžete nastavit maximální RTC
  kmitočet pro normální uživatele pomocí systému souborů
  <systemitem class="systemname">/proc
  </systemitem>. Použijte jeden z těchto dvou příkazů pro zapnutí RTC
  pro obyčejné uživatele:
  <screen>echo 1024 &gt; /proc/sys/dev/rtc/max-user-freq</screen>
  <screen>sysctl dev/rtc/max-user-freq=1024</screen>
  Můžete tuto volbu učinit trvalou přidáním druhého příkazu do
  <filename>/etc/sysctl.conf</filename>.
  </para>
  <para>
   Efektivitu nového časovače uvidíte na stavovém řádku.
   Funkce power managementu některých notebookových BIOSů s speedstep procesory
   špatně komunikují s RTC. Audio a video se mohou rozejít. Zdá se že pomáhá
   připojení vnějšího napájení před zapnutím notebooku.
   V některých hardwarových kombinacích (zjištěno během používání ne-DMA DVD
   mechaniky na ALi1541 boardu) způsobuje použití RTC časování trhavé přehrávání.
   Pak doporučujeme
   použít třetí metodu.
  </para></listitem>
<listitem><simpara>
  <emphasis role="bold">Třetí kód časovače</emphasis> se zapíná volbou
  <option>-softsleep</option>. Je stejně efektní jako RTC, ale nepoužívá RTC.
  Na druhou stranu více zatěžuje CPU.
  </simpara></listitem>
</itemizedlist>
</para>
</sect1>

</chapter>
