<HTML>

<BODY>

<PRE>

  <A NAME=4.1>4.1.  CD-ROM meghajtók</A>

  A Linux dokumentációjából:

  Néhány CDROM meghajtó képes szabályozni az olvasás sebességét. Jónéhány okunk
  lehet arra, hogy ezt kihasználjuk. Például rosszul készített CDROM-oknak
  elõnyé válik a lassabb fejmozgás. A mai meghajtók nagyon magas fordulatszámon
  pörögnek, és ilyen nagy sebességnél bizony elõfordulnak olvasási hibák, amik
  a sebesseg csökkentésével kiküszöbölhetõk. Nem elhanyagolható a sebességgel
  arányos zajszint sem.

  Ajánlott a 'setcd' nevû programot használni. Elég régi, de könnyen fellelhetõ
  a Neten. VALAMINT az újabb hdparm-oknak is van erre opciójuk !
  Használata :


		setcd -x [sebesség] [meghajtó]


  Másik módszer :


		echo current_speed:4 >/proc/ide/[meghajtó]/settings


  de ehhez rendszergazdai jogosultság szükséges. A következõ parancsot is
  használom :



		echo file_readahead:2000000 >/proc/ide/[meghajtó]/settings


  Ez 2Mb-ot olvas elõre olvasáskor (karcos CDROM-oknál hasznos).
  Ajánlott továbbá a 'hdparm' program használata :


		hdparm -d1 -a8 -u1 (meghajtó)


  Ez bekapcsolja a DMA hozzáférést, elõreolvasást, IRQ unmaskingot.
  (ha ezeket nem érted, *olvasd el a hdparm man-ját*)

  Kísérletezz a /proc/ide/[meghajtó]/settings file-lal további tuning céljából.


  <A NAME=4.2>4.2.  DVD lejátszás</A>

  FONTOS: _NE_ kérj semmi funkciót a DVD visszajátszáshoz. Ez egy roppantul
  kíserleti gány dolog. Talán nem is fog mûködni nálad. Ha tudsz segíteni, most
  tedd meg! Elõször a létezõ problémákat szeretnénk fixálni, és csak utána
  gondolkozni a további DVD funkciók beépítésén.

  Ez egyben azt is jelenti, hogy a jelenleg létezõ DVD funkciók a
  fejlesztõknek, és nem a felhasználóknak vannak szánva!

  Elõször fordítsd le és installáld a libcss-t.
  Utána fordítsd újra az <B>MPlayer</B>-t, hogy beleforduljon a libcss támogatás is.
  Ha nem teszi ezt automatikusan, akkor próbáld így :

  Indítsd a ./configure scriptet ezekkel az opciókkal :

  ./configure --enable-css --with-csslibdir=/usr/local/lib --with-cssincdir=/usr/local/include

  (természetesen beírhatod a saját opcióidat is)

  --with-csslibdir=/usr/local/lib
	Ez a könyvtár tartalmazza a libcss.so-t. Jó, ha benne van az
	/etc/ld.so.conf-ban is.
	
  --with-cssincdir=/usr/local/include
	Ez tartalmazza a 'css.h' header file-t.

  mplayer -dvdauth /dev/dvd /mnt/cdrom/video_ts/vts_01_1.vob

  ahol,

        '-dvd /dev/dvd' megmondja MPlayer-nek, hogy hol keresse a DVD meghajtót
        A lemez autentikációjánál használatos.

        A filenév egyszerûen a VOB file neve a lemezen.

  Úgy vettem észre, hogy az autentikálás root jogosultságot kíván meg,
  úgyhogy muszáj lesz root-ként futtatni az <B>MPlayer</B>-t! (lásd 'Problémák' rész).

  MEGJEGYZÉS a hangról:
          Úgy tûnik, hogy az MPlayer néha nem találja meg az elsõ audio
          streamet.  Megadhatod például az '-aid 128' opcióval. Kísérletezz
          128,129 és hasonló értékekkel is. Lásd 'Problémák' rész.

  Az én AMD K6/2-mön, a G400-am hardveres skálázásával és colorspace
  konverziójával 70%-osan terheli a lejátszás a CPU-t, ha '-nosound'.  Sajnos
  hanggal együtt már nem elég a gépem :( Talán még lehet ezen javítani ...
  Azt hiszem, nem olyan rossz a helyzet... Néhány barátom szerint a xine 80-90%
  CPU-t használ DVD lejátszásnál sokkal erõsebb gépeken, mint példaul 1Ghz-es
  Athlon-on (úgy tudom Windows alatt a minimális konfiguráció DVD-hez 300Mhz-es
  Celeron környékén van).

  Tipp: kikapcsoltam a libac3 downmix funkcióit (persze így nincs hang) és az
  audio dekódoláshoz szükséges CPU használat rögtön visszaesett 24-rõl 11%-ra.
  Jól látszik, hogy optimalizálni kell a downmix-et (KNI kód nem számít
  K6/2-n).

  FRISS HÍR:
  Már van 3Dnow-ra optimalizált libac3-unk. Wow :-)


  Problémák (TODO)
  ~~~~~~~~~~~~~~~~
  * az autentikációnak root jogok kellenek. Ez azért furcsa, mert az OMS
    képes erre user-ként is.
  * hang. Egyetlen DVD lemezem van (Matrix), ennyivel tesztelem az MPlayer-t.
    Néhány VOB file-nak angol hangja van, néhánynak spanyol, és van aminek   
    egyáltalán nincs is.
    Úgy _tûnik_, hogy ha megadom a '-aid 128' opciót, mindnek angol nyelve
    lesz ...
  * furcsa effektek, de csak NÉHÁNY VOB file-lal (úgy néz ki, mint valami
    interlace effekt, azaz minden 2. vonal az elõzõ képkockából van).


  Beépítendõ funkciók

  * chapter scanner  
  * audio stream scanner, és futás közbeni váltás lehetõsége
    (elõször is induláskor kellene választási lehetõség, lásd 'Problémák')
  * DVD menü
    Megtaláltam (legalábbis a 'Matrix'-on) a menü VOB-ot, de nem tudom
    hogyan kell használni.
    (egy kis szemnyúzó OMS nézegetés után úgy tûnik, hogy az .ifo file-okat
    kellene beolvasni)
  * subtitle támogatás
  * OSD/GUI (?) támogatás chapter, subtitle és audio stream váltásokhoz
  * némi dokis a DVD formátumról, pl.: melyik a 'root' VOB
    file a lemezen a video_ts könytárban, melyik a menü és így tovább...
  * teljesítmény javítása (lásd 'Teljesítmény'-t felntebb)


  Nincs hang probléma (Matrix DVD, VOB menü)

  End of packet while searching for PCM header

  DEMUXER: Too many (2048 in 4131540 bytes) video packets in the buffer!
  (maybe you play a non-interleaved stream/file or video codec failed)
  MPEG: No Audio stream found...  ->nosound

  Persze ez nem fordul elõ, ha megadod a '-aid 128' opciót.


  <A NAME=4.3>4.3.  DVD FAQ</A>

  <B>Q: Szóval az MPlayer tud DVD lejátszást? Akkor biztos DeCSS-t használ!
     Bûnösek vagytok a következõ vádpontokban : XYZ#$--
  </B>A: Anyád. Nincs DeCSS kód az MPlayer-ben. libcss-hez linkeli magát.

  <B>Q: Mûködni látszik, de nincs hang.
  </B>A: Használd az '-aid 128' opciót (128,129,...)

  <B>Q: Spanyol hang van angol helyett (vagy ilyesmi) !
  </B>A: Lásd az elõzõ kérdést/választ.

  <B>Q: MPlayer valami FIBMAP-ról zagyvál.
  </B>A: Futtasd root-ként.

  <B>Q: Furcsa effekt (interlace-szerû valami), különösen gyors jeleneteknél.
  </B>A: Ismert probléma, majd megoldjuk.

  <B>Q: A DVD támogatás MPlayer-ben lószar!
  </B>A: Igazad van :) Ha tudsz rajta javítani, lépj velünk kapcsolatba!

  <B>Q: Honnan tudom letölteni a libcss-t?
  </B>A: Talán az OMS forrásából (www.linuxvideo.org).

  <B>Q: Hogy lehet... (képzeld ide azt, ami leginkább kellene neked DVD-hez)
  </B>A: Jelenleg csak lejátszani lehet DVD-rõl. Semmi több.

  <B>Q: Hogy állíthatom be a DVD régiókódját ? Nincs windowsom!
  </B>A: Használd a 'regionset' parancsot :
     http://www.linuxtv.org/download/dvd/dvd_disc_20000215.tar.gz

  <B>Q: MPlayer panaszkodik valami átnevezett opcióról...
  </B>A: A '-dvd' opciót a továbbiakban '-dvdauth' néven fejlesztjük.
     A '-dvd' opció *FOG* a komplett lejátszásra szolgálni.
     De addig is a '-dvd' nem csinál semmit, csak hibaüzenetet ír.

</PRE>

</BODY>

</HTML>
