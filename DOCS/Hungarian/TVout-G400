MPlayer TV output G400-as kártyával
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
(ez egy válasz volt az mplayer-matrox listára)

> Nagyon szeretném, ha az MPlayer tudná azt, amit a windows-os gépem. Amikor
> elindítok egy lejátszást a windows-ban (ablakos vagy teljesképernyõs)
> a film megjelenik a tv-kimeneten is. Imádom ezt, és azon gondolkoztam, milyen
> nehéz lenne ezt beépíteni mplayer-be.

Ez a driver korlátja. BES (Back-End Scaler, ez az overlay generator, és YUV
scaler a G200/G400/G450 kártyákon) csak a CRTC1-en mûködik. Normális esetben,
CRTC1 (szöveges mód, minden bpp, BES) az 1-es head-re kerül, és CRTC2
(csak 16/32bpp, csak grafika) a 2-esre (TV-kimenet).

Linux alatt, 2 lehetõseg van ennek mûködésre bírására:

1. 4.0.x-es X használatával, valamint a HAL driverrel a Matrox-tól, így
   lesz dualhead támogatás, és át lehet irányítani TV-re. Sajnos ez
   bekapcsolt Macrovision kódolással van ellátva, így csak közvetlenül
   TV-re mûködik, videomagnón keresztül nem. (**dehonnem, régi vidi rulez**)
   A másik gond az, hogy az Xv nem mûködik a második head-en.
   (nem tudom, hogy a Windows hogy oldja meg, talán megcseréli a CRTC-ket,
   vagy valami trükkel használja a YUV framebuffer-t a második DAC-en)

2. Matroxfb használatával, és dual-head támogatással (2.4.x kernelek).
   Lesz egy framebufferes konzolod (CRTC2-vel, úgyhogy lassú), és
   TV-kimenet (CRTC1-gyel, BES támogatással).
   Ilyenkor elfelejtheted az X-et! :(

   Hogy kell bekapcsolni?

-  Fordíts minden matrox-féle cuccot modulba a kernelfordításkor.
   (ez SZÜKSÉGES, legalábbis én máshogy még nem bírtam mûködésre bírni)
   [indítsd az új kernelt és installáld a modulokat, de még ne töltsd be õket!]

-  Futtasd a 'modules' script-et a TV-out könyvtárból.
   Át fogja kapcsolni a konzolodat framebuffer-be.
   Válts át tty1-re (ALT+F1)!
   Most futtasd az 'independent' scriptet, ami így fogja beállítani a tty-ket:
     tty 1,2:      fb konzol, CRTC2-n, 1-es headen (monitor)
     tty 3,4,5:..: framebuffer+BES, CRTC1-en, 2-es headen (TV-kimenet)
   Futtasd a TV-* és Mon-* scripteket, hogy beállítsd a felbontásokat:
     válts tty1-re (ALT+F1), és futtasd: Mon-* (csak az egyiket)
     válts tty3-ra (ALT+F3), és most vissza tty1-re (ALT+F1)
       (ez kiválasztja a tty3-at a /dev/fb1-en - trükkös)
   Futtasd: TV-* (csak az egyiket)
      (most egy konzolod lesz a PAL TV-n - nem tudni NTSC-vel mi van)

   Ha most elindítod MPlayer-t (tty1-en), a kép tty3-on jön elõ, azaz
   a TV-den, vagy a második monitorodon.

Igen, egy csöppet gányos. Jelenleg a marvel project elkészülésére várok,
remélem ez normális TV-out drivereket eredményez.

Jelenlegi problámám, hogy a BES csak a CRTC1-en mûködik. Ezért a kép
mindig azon a head-en jön elõ, amelyik a CRTC1-hez van irányítva
(általában a monitor), így hát meg kell cserélni a CRTC-ket, viszont így
a konzolod framebufferes lesz (mert a CRTC2 nem tud szöveges módot) és
egy kicsit lassú. :(


> egyébként csak fekete-fehér kimenet sikerült a tv-n ...
Nem lehet hogy NTSC TV-d van? Vagy csak nem futtattad le a TV-*
scriptet.


A'rpi / Astral & ESP-team

