<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>

<HEAD>
  <TITLE>Sound - MPlayer - The Movie Player for Linux</TITLE>
  <LINK REL="stylesheet" TYPE="text/css" HREF="default.css">
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
</HEAD>

<BODY>

<H3><A NAME="audio">2.3.2. Audio-Ausgabe-Ger&auml;te</A></H3>

<H4><A NAME="sync">2.3.2.1 Audio-/VideoSynchronisation</A></H4>

<P><B>MPlayer</B>s Audio-Interface wird <I>libao2</I> genannt. Es enth&auml;lt 
zur Zeit diese Treiber:</P>

<DL>
  <DT>oss</DT>
  <DD>OSS (ioctl)-Treiber (unterst&uuml;tzt das Durchreichen von AC3)</DD>

  <DT>sdl</DT>
  <DD>SDL-Treiber (untertst&uuml;tzt <B>ESD</B>, <B>ARTS</B> etc)</DD>

  <DT>nas</DT>
  <DD>NAS (Network Audio System)-Treiber</DD>

  <DT>alsa5</DT>
  <DD>ALSA 0.5-Treiber</DD>

  <DT>alsa9</DT>
  <DD>ALSA 0.9-Treiber (unterst&uuml;tzt das Durchreichen von AC3)</DD>

  <DT>sun</DT>
  <DD>SUN Audiotreiber (<CODE>/dev/audio</CODE>) f&uuml;r BSD und Solaris8</DD>

  <DT>arts</DT>
  <DD>ARTS-Treiber (haupts&auml;chlich f&uuml;r KDE-Benutzer)</DD>

  <DT>esd</DT>
  <DD>ESD-Treiber (haupts&auml;chlich f&uuml;r GNOME-Benutzer)</DD>
</DL>

<P>Fakt ist, dass Linux-Soundkartentreiber Kompatibilit&auml;tsprobleme haben. 
Der Grund f&uuml;r diese Probleme liegt darin, dass <B>MPlayer</B> ein Feature 
des Soundkartentreibers benutzt, um Audio und Video synchron zu halten. Leider 
k&uuml;mmern sich einige Soundkartentreiberprogrammierer nicht besonders um 
diese Funktion, da sie weder f&uuml;r die Wiedergabe von MP3s noch f&uuml;r 
Soundeffeket ben&ouml;tigt wird.</P>

<P>Andere Medienplayer wie z.B. aviplay oder xine funktionieren bei dir 
wahrscheinlich so, wie sie sind, weil sie eine "simplere" Methode wie internes 
Timing f&uuml;r die Audio-/Video-Synchronisation verwenden. Anmerkung: es hat 
sich oft gezeigt, dass ihre Methoden nicht ganz so effizient wie 
<B>MPlayer</B>s Methoden sind.</P>

<P>Wenn du <B>MPlayer</B> zusammen mit einem korrekt geschriebenen 
Soundkartentreiber verwendest, dann wirst du niemals A/V-Desyncs aufgrund des 
Audiotreibers erleben (h&ouml;chstens mit sehr schlecht erstellten Dateien. 
Schau in einem solchen Fall in die Dokumentation, wie du das beheben 
kannst).</P>

<P>Einige Anmerkungen:</P>

<UL>
  <LI>Wenn du einen OSS-Treiber hast, versuche als erstes <CODE>-ao 
    oss</CODE> (dies ist die Standardeinstellung). Wenn du kleine Fehler, 
    Verz&ouml;gerungen oder irgendetwas anderes ungew&ouml;hliches h&ouml;rst, 
    versuche mal <CODE>-ao sdl</CODE> (HINWEIS: die SDL-Bibliotheken und das 
    dazugeh&ouml;rige Devel-Paket m&uuml;ssen installiert sein). Der SDL-
    Audiotreiber hilft in vielen F&auml;llen (er unterst&uuml;tzt auch ESD, 
    ARTS und Up-/Downsampling. ESD ist der Sounddaemon von GNOME, arts der 
    von KDE).</LI>
  <LI>Wenn du ALSA Version 0.5 verwendest, musst du fast immer <CODE>-ao 
    alsa5</CODE> verwenden, weil ALSA 0.5 einen fehlerhaften OSS-
    Emulationscode hat. <B>MPlayer</B> wird mit etwa so einer Meldung 
    <B>abst&uuml;rzen</B>:<BR> <CODE>DEMUXER: Too many (945 in 8390980 bytes) 
    video packets in the buffer!</CODE></LI>
</UL>

<P>Verwende auf <B>Solaris</B>-Systemen den SUN-Audio-Treiber mit 
<CODE>-ao sun</CODE>, ansonsten wirst du weder Video noch Ton haben.</P>    


<H4><A NAME="experiences">2.3.2.2. Soundkarten-Erfahrungen, 
-Empfehlungen</A></H4>

<TABLE BORDER="0" WIDTH="100%">
  <TR><TD COLSPAN=3><B>VIA Onboard-Chipsatz (via82cxxx), nur 48kHz</B></TD></TR>
  <TR><TD></TD><TD>Treiber:</TD>
    <TD>von <A HREF="http://sourceforge.net/project/showfiles.php?group_id=3242&amp;release_id=59602">sourceforge.net</A></TD></TR>

  <TR><TD COLSPAN=3><B>Aureal Vortex 2</B></TD></TR>
  <TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>OSS:</TD><TD>kein Treiber</TD></TR>
  <TR><TD></TD><TD>OSS/Pro:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>kein Treiberr</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>48</TD></TR>
  <TR><TD></TD><TD>Treiber:</TD>
    <TD><A HREF="http://aureal.sourceforge.net">aureal.sourceforge.net</A></TD></TR>
  <TR><TD></TD><TD>Treiber 2:</TD>
    <TD>von <A HREF="http://makacs.poliod.hu/~pontscho/aureal/au88xx-1.1.3.tar.bz2">Pontscho's Seite</A><BR>
    (<I>Puffergr&ouml;&szlig;e auf 32k erh&ouml;ht</I>)</TD></TR>

  <TR><TD COLSPAN=3><B>GUS PnP</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>kein Treiber</TD></TR>
  <TR><TD></TD><TD>OSS/Pro:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>48</TD></TR>

  <TR><TD COLSPAN=3><B>SB Live!</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>Analog OK, SP/DIF funktioniert nicht</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>beide OK</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>192</TD></TR>

  <TR><TD COLSPAN=3><B>SB AWE 64</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>max 44kHz</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>48kHz klingt schlecht</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>48</TD></TR>

  <TR><TD COLSPAN=3><B>Gravis UltraSound ACE</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>nicht OK</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>44</TD></TR>

  <TR><TD COLSPAN=3><B>Gravis UltraSound MAX</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>OK (?)</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>48</TD></TR>

  <TR><TD COLSPAN=3><B>ESS 688</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>OK (?)</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>48</TD></TR>

  <TR><TD COLSPAN=3><B>C-Media-Karten (welche genau?)</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>nicht OK (scharfe ssss-Ger&auml;usche) (?)</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>OK (?)</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>?</TD></TR>

  <TR><TD COLSPAN=3><B>Yamaha-Karten (*ymf*)</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>nicht OK (?) (evtl. <CODE>-ao sdl</CODE>)</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>nur mit der OSS-Emulation von ALSA 0.5
    <B>UND</B> <CODE>-ao sdl</CODE> OK (!) (?)</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>?</TD></TR>

  <TR><TD COLSPAN=3><B>Karten mit envy24-Chips (wie z.B. Terratec EWS88MT)</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>?</TD></TR>
  <TR><TD></TD><TD>OSS/Pro:</TD><TD>OK</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>?</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>?</TD></TR>

  <TR><TD COLSPAN=3><B>PC-Lautsprecher oder DAC</B></TD></TR>
  <TR><TD></TD><TD>OSS:</TD><TD>OK (Benutz den SDL-Treiber: <CODE>-ao sdl</CODE>)</TD></TR>
  <TR><TD></TD><TD>ALSA:</TD><TD>kein Treiber</TD></TR>
  <TR><TD></TD><TD>Max kHz:</TD><TD>Der Treiber emuliert 44.1, evtl auch mehr.</TD></TR>
  <TR><TD></TD><TD>Treiber:</TD><TD><A HREF="ftp://ftp.infradead.org/pub/pcsp">ftp://ftp.infradead.org/pub/pcsp</A></TD></TR>
</TABLE>

<P>Unter Linux wird ein 2.4.x Kernel sehr empfohlen. Kernel 2.2 wird nicht
getestet.</P>

<P>Wenn der sound w&auml;hrend der Wiedergabe von CD-ROM "klickende" 
Ger&auml;usche verursacht, schalte die Interupt-Unmaskierung ein, zum Beispiel 
<CODE>hdparm -u1 /dev/cdrom</CODE> (<CODE>man hdparm</CODE>). Dies ist 
allgemein besser und wird in der <A HREF="cd-dvd.html#drives">CD-ROM-
Sektion</A> genauer beschrieben.</P>

<P>R&uuml;ckmeldungen zu diesem Dokument sind willkommen. Bitte sag uns, wie 
<B>MPlayer</B> und deine Soundkarte(n) zusammen funktionieren.</P>

<H4><A NAME="af">2.3.2.3 Audiofilter</A></H4>

<P>Die alten Audioplugins wurden von einer neuen Filterschicht abgel&ouml;st.
Audiofilter werden benutzt, um die Parameter der Daten zu &auml;ndern, bevor
sie die Soundkarte erreichen. Die Aktivierung der Filter geschieht normalerweise
automatisch, kann aber auch erzwungen oder verhindert werden. Die Filter
werden aktiviert, wenn die Parameter der Daten von denen der Soundkarte
abweichen und deaktiviert, wenn sie gleich sind. Die Option <CODE>-af
filter1,filter2,...</CODE> wird benutzt, um Filter einzuf&uuml;gen, die nicht
automatisch eingef&uuml;gt werden. Diese Filter werden in der Reihenfolge
abgearbeitet, wie sie angegeben wurden.</P>

<P>Beispiele:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af resample,pan movie.avi </CODE></P>

<P>Schickt die Audiodaten durch das Resample-Filter und danach durch den
Pan-Filter. Die Liste darf keine Leerzeichen enthalten, sonst klappt's nicht.
</P>

<P>Viele Filter kennen Parameter, mit denen ihr Verhalten ge&auml;ndert werden
kann. Diese Parameter werden unten detailliert beschrieben. Wenn keine
Parameter angegeben werden, dann verwendet der Filter seine Standardwerte. Hier
ist ein Beispiel, wie Filter mit Parametern verwendet werden k&ouml;nnen:</P>

<P>&nbsp;&nbsp;<CODE>mplayer -af resample=11025,pan=1:0.5:0.5 -channels 1
  -srate 11025 media.avi</CODE></P>

<P>Das setzt die Ausgabefrequenz des Resampleplugins auf 11025Hz und
downmixt das Audio auf einen Kanal mit dem Pan-Filter.</P>

<P>Die meisten Filter geben mehr Statusinformationen aus, wenn <CODE>-v</CODE>
benutzt wird.</P>

<P>Die allgemeine Kontrolle der Filterschicht geschieht &uuml;ber
<CODE>-af-adv</CODE>. Diese Option kennt zwei Parameter:</P>

<DL>
  <DT><CODE>force</CODE><DT>
  <DD>ist eine ganze Zahl zwischen 0 und 3, die angibt, wie die Filter
    einzuf&uuml;gen sind und welche Geschwindigkeits-/Genauigkeitsoptimierungen
    sie verwenden:
    <DL>
      <DT>0</DT>
      <DD>Benutzt automatisches Einf&uuml;gen und optimiert in Abh&auml;ngigkeit
        der CPU-Geschwindigkeit.</DD>
      <DT>1</DT>
      <DD>Benutzt automatisches Einf&uuml;gen und optimiert f&uuml;r die
        h&ouml;chstm&ouml;gliche Geschwindigkeit. Wenn diese Option gesetzt
        ist, dann wird Fixkommaarithmetik verwendet. Warnung: Einige
        Features der Audiofilter werden kommentarlos deaktiviert, und die
        Soundqualit&auml;t k&ouml;nnte niedriger sein als erwartet.</DD>
      <DT>2</DT>
      <DD>Benutzt automatisches Einf&uuml;gen der Filter und optimiert f&uuml;r
        Qualit&auml;t. Wenn diese Option gesetzt ist, dann wird
        Flie&szlig;kommaarithmetik verwendet. Das ist nat&uuml;rlich sehr
        CPU-intensiv, liefert aber auch die beste Qualit&auml;t.</DD>
      <DT>3</DT>
      <DD>F&uuml;t nicht automatisch Filter ein. Warnung: Hiermit kann
        MPlayer eventuell zum Absturz gebracht werden.</DD>
    </DL>
  </DD>

  <DT><CODE>list</CODE></DT>
  <DD>Dies ist ein Synonym f&uuml;r <CODE>-af</CODE>.</DD>
</DL>


<H5><A NAME="af_resample">2.3.2.3.1 Up/Down-sampling</A></H5>

<P>MPlayer unterst&uuml;tzt vollst&auml;ndig Up-/Downsampling. Dieser Filter
kann benutzt werden, wenn du eine Soundkarte hast, die nur eine feste Frequenz
unterst&uuml;tzt, oder die nur maximal 44.1kHz unterst&uuml;tzt. Dieser Filter
wird automatisch aktiviert, wenn er ben&ouml;tigt wird. Er kann aber auch
explizit auf der Kommandozeile aktiviert werden. Er kennt drei Optionen:</P>

<DL>
  <DT><CODE>srate</CODE></DT>
  <DD>wird benutzt, um die Ausgabesmaplefrequenz in Hz anzugeben. Der
    g&uuml;ltige Bereich liegt zwischen 8kHz und 192kHz. Wenn Eingangs-
    und Ausgabefrequenz gleich sind, oder wenn dieser Parameter nicht angegeben
    wurde, so wird der Filter wieder entladen. Hohe Samplefrequenzen verbessern
    normalerweise die Audioqualit&auml;t, vor allem, wenn auch andere
    Filter benutzt werden.</DD>

  <DT><CODE>sloppy</CODE></DT>
  <DD>Mit dieser Option wird zugelassen, dass die Ausgabefrequenz leicht von
    der geforderten Frequenz (<CODE>srate</CODE>) abweicht. Diese Option
    kann benutzt werden, wenn das Playback nur sehr langsam startet.</DD>

  <DT><CODE>fast</CODE><DT>
  <DD>Dieser Parameter aktiviert otpional lineare Interpolation als
    Resamplingmethode. Lineare Interpolation ist sehr schnell, liefert aber
    auch schlechtere Soundqualit&auml;t, vor allem in Verbindung mit
    Up-/Downsampling.</DD>
</DL>

<P>Beispiele:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af resample=44100:0:1</CODE></P>

<P>Dies setzt die Ausgabefrequenz des Resample-Filters auf exakt 44100Hz
mit linearer Interpolation.</P>


<H5><A NAME="af_channels">2.3.2.3.2 &Auml;ndern der Anzahl der Kan&auml;le</A>
</H5>

<P>Der <CODE>channels</CODE>-Filter kann benutzt werden, um Kan&auml;le
hinzuzuf&uuml;gen oder zu entfernen. Er kann auch benutzt werden, um
Kan&auml;le umzuleiten oder sie zu kopieren. Er wird automatisch aktiviert,
falls die Anzahl der Kan&auml;le bei Eingang und Ausgang der Audiofilterschicht
unterschiedlich ist, oder wenn ein anderer Filter diesen Filter ben&ouml;tigt.
Wenn er nicht gebraucht wird, so entl&auml;dt sich dieser Filter automatisch.
Die Anzahl der Parameter ist dynamisch:</P>

<DL>
  <DT><CODE>nch</CODE></DT>
  <DD>ist eine ganze Zahl zwischen 1 und 6, die die Nummer der
    Ausgabekan&auml;le festlegt. Dieser Parameter wird ben&ouml;tigt. Wenn er
    weggelassen wird, dann erh&auml;lt man einen Laufzeitfehler.</DD>

  <DT><CODE>nr</CODE></DT>
  <DD>ist eine ganze Zahl zwischen 1 und 6, die die Anzahl der Umleitungen
    festlegt. Dieser Parameter ist optional. Wenn er weggelassen wird, dann
    werden keine Umleitungen vorgenommen.</DD>

  <DT><CODE>von1:nach1:von2:nach2:von3:nach3...</CODE></DT>
  <DD>sind paare von Nummern zwischen 0 und 5, die festlegen, wohin jeder
    Kanal umgeleitet werden soll.</DD>
</DL>

<P>Wenn nur <CODE>nch</CODE> angegeben wird, dann werden die
Standardumleitungen benutzt, die so aussehen: Wenn mehr Ausgabekan&auml;le
gefordert sind als Eingangskan&auml;le existieren, so werden leere Kan&auml;le
erzeugt (bis auf's Mixen von Mono auf Stereo: hier wird der Monokanal auf beide
Kan&auml;le kopiert). Ist die Anzahl dagegen kleiner, so werden die
&uuml;bersch&uuml;ssigen Kan&auml;le entfernt.</P>

<P>Beispiel 1:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af channels=4:4:0:1:1:0:2:2:3:3 media.avi </CODE></P>

<P>&Auml;ndert die Anzahl der Kan&auml;le auf 4 und legt vier Routen fest, die
die Kan&auml;le 0 und 1 vertauschen und die Kan&auml;le 2 und 3 intakt lassen.
Wenn die Quelldatei nur zwei Kan&auml;le hat, so sind die Kan&auml;le 2 und 3
leise, aber 0 und 1 werden trotzdem vertauscht.</P>

<P>Beispiel 2:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af channels=6:4:0:0:0:1:0:2:0:3 media.avi </CODE></P>

<P>&Auml;ndert die Anzahl der Kan&auml;le auf 6 und gibt 4 Routen an, die Kanal
0 auf Kanal 0 und 3 kopieren. Die Kan&auml;le 4 und 5 bleiben stumm. </P>

<H5><A NAME="af_format">2.3.2.3.3 Formatkonvertierung</A></H5>

<P>Dieser Filter konviert das Sampleformat. Er wird automatisch aktiviert,
wenn er ben&ouml;tigt wird.</P>

<DL>
  <DT><CODE>bps</CODE></DT>
  <DD>kann 1, 2 oder 4 sein und gibt die Anzahl der Bytes pro Sample an.
    Dieser Parameter wird ben&ouml;tigt und f&uuml;hrt zu einem Laufzeitfehler,
    wenn er weggelassen wird.</DD>

  <DT><CODE>f</CODE></DT>
  <DD>ist ein Textstring, der das Sampleformat beschreibt. Der String besteht
    aus einem Mix der folgenden Schl&uuml;sselw&ouml;rter:
    <CODE>alaw</CODE>, <CODE>mulaw</CODE> oder
    <CODE>imaadpcm</CODE>, <CODE>float</CODE> oder <CODE>int</CODE>,
    <CODE>unsigned</CODE> oder <CODE>signed</CODE>, <CODE>le</CODE> oder
    <CODE>be</CODE> (little oder big endian).
    Dieser Parameter wird ben&ouml;tigt und f&uuml;hrt zu einem Laufzeitfehler,
    wenn er weggelassen wird.</DD>
</DL>

<P>Beispiel:<BR>
  &nbsp;&nbsp;<CODE>mplayer media.avi -af format=4:float</CODE></P>

<P>setzt das Ausgabeformat auf 4 Bytes pro Sample Flie&szlig;kommadaten.</P>


<H5><A NAME="af_delay">2.3.2.3.4 Verz&ouml;gerung</A></H5>

<P>Dieser Filter verz&ouml;gert den Sound auf dem Weg zum Lautsprecher, damit
die verschiedenen Kan&auml;le zur gleichen Zeit bei der Sitzposition ankommen.
Dieser Filter ist nur dann n&uuml;tzlich, wenn du mehr als zwei Lautsprecher
hast. Dieser Filter erh&auml;lt eine variable Anzahl Parameter:</P>

<DL>
  <DT><CODE>d1:d2:d3...</CODE></DT>
  <DD>sind Flie&szlig;kommazahlen, die die Verz&ouml;gerung in ms f&uuml;r
    den jeweiligen Kanal angeben. Minimum ist 0ms, das Maximum 1000ms.</DD>
</DL>

<P>Um die ben&ouml;tigte Verz&ouml;gerung f&uuml;r die verschiedenen
Kan&auml;le zu berechnen, tu folgendes:</P>

<OL>
  <LI>Miss die Entfernung zwischen den Lautsprechern und deiner Sitzposition
    in Metern. Dies gibt dir die Distanzen s1 bis s5 (bei einem 5.1-System).
    Es lohnt sich nicht, auch f&uuml;r den Subwoofer zu kompensieren, weil
    man den Unterschied eh nicht h&ouml;rt.</LI>
  <LI>Subtrahiere die Distanzen s1 bis s5 von der maximalen Distanz, z.B.<BR>
    s[i] = max(s) - s[i]; i = 1...5</LI>
  <LI>Berechne die ben&ouml;tigte Verz&ouml;gerung wie folgt:<BR>
    d[i] = 1000*s[i]/342; i = 1...5 </LI>
</OL>

<P>Beispiel:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af delay=10.5:10.5:0:0:7:0 media.avi</CODE></P>

<P>verz&ouml;gert die Kan&auml;le vorne links und vorne rechts um 10.5ms,
die beiden hinteren Kan&auml;le um 0ms und den zentrierten Kanal um 7ms.</P>


<H5><A NAME="af_volume">2.3.2.3.5 Lautst&auml;rkekontrolle mit Software</A></H5>

<P>Dieser Filter stellt eine Softwarelautst&auml;rkeregelung dar. Sei bei der
Benutzung dieses Filters vorsichtig, da er den Signal-zu-Rausch-Abstand
verringern kann. In den meisten F&auml;llen ist es besser, beim Mixer deiner
Soundkarte den PCM-Regler auf's Maximum zu setzen und diesen Filter
wegzulassen. &Auml;ndere dann die Lautst&auml;rke mit dem Hauptregler des
Mixers. Wenn der Computer an einen externen Verst&auml;rker angeschlossen ist
(was meistens der Fall ist), dann kann der Rauschpegel minimiert werden, indem
der Hauptregler und der Lautst&auml;rkeregler des Verst&auml;rkers angepasst
werden, bis das Hintergrundzischen verschwunden ist. Der Filter selber kennt
zwei Parameter:</P>

<DL>
  <DT><CODE>v</CODE></DT>
  <DD>ist eine Flie&szlig;kommazahl zwischen -200 und +60 und gibt die
    Lautst&auml;rke in dB an. Der Standardlevel ist -10dB.</DD>

  <DT><CODE>c</CODE></DT>
  <DD>ist ein Bin&auml;rwert, der soft clipping an- oder ausschaltet.
    Soft clipping kann den Sound gl&auml;tten, wenn sehr laute Passagen
    auftreten. Aktivier diese Option, wenn die Dynamikbandbreite deiner
    Lautsprecher gering ist. Sei gewanrt, dass dieses Feature Verzerrungen
    hervorruft. Es sollte nur als letzte M&ouml;glichkeit benutzt werden.</DD>
</DL>

<P>Beispiel:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af volume=10.1:0 media.avi</CODE></P>

<P>verst&auml;rkt den Sound um 10.1dB und schneidet hart ab, wenn die
Lautst&auml;rke zu hoch wird.</P>

<P>Dieser Filter besitzt noch ein zweites Feature: Er misst die maximale
Lautst&auml;rke und gibt sie aus, wenn MPlayer beendet wird. Dieser Wert
kann benutzt werden, um die Verst&auml;rkung in MEncoder so zu setzen, dass
die Dynamikbandbreite vollst&auml;ndig ausgenutzt wird.</P>


<H5><A NAME="af_equalizer">2.3.2.3.6 Equalizer</A></H5>

<P>Dieser Filter ist ein 10-Band Graphicequalizer, der durch 10
IIR-Bandpassfilter (infinite impulse response, rekursive Filter) realisiert
wird. Das bedeutet, dass er unabh&auml;ngig vom wiederzugebenden Audiotyp
funktioniert. Die Mittenfrequenzen der zehn B&auml;ndern sind:</P>

<TABLE BORDER="0" WIDTH="100%">
  <TR><TD>Band Nr.</TD><TD>Mittenfrequenz</TD></TR>
  <TR><TD>0</TD><TD>31.25 Hz</TD></TR>
  <TR><TD>1</TD><TD>62.50 Hz</TD></TR>
  <TR><TD>2</TD><TD>125.0 Hz</TD></TR>
  <TR><TD>3</TD><TD>250.0 Hz</TD></TR>
  <TR><TD>4</TD><TD>500.0 Hz</TD></TR>
  <TR><TD>5</TD><TD>1.000 kHz</TD></TR>
  <TR><TD>6</TD><TD>2.000 kHz</TD></TR>
  <TR><TD>7</TD><TD>4.000 kHz</TD></TR>
  <TR><TD>8</TD><TD>8.000 kHz</TD></TR>
  <TR><TD>9</TD><TD>16.00 kHz</TD></TR>
</TABLE>

<P>Wenn die Samplefrequenz des Sounds niedriger als die Mittenfrequenz eines
Bandes ist, so wird dieses Band deaktiviert. Ein bekannter Fehler dieses
Filters liegt darin, dass die Charakteristiken des h&ouml;chsten Bandes nicht
ganz symmetrisch sind, wenn die Samplefrequenz nahe der Mittenfrequenz des
Bandes liegt. Das kann umgangen werden, wenn vorher ein Upsampling mit dem
resample-Filter vorgenommen wird.</P>

<P>Dieser Filter bekommt zehn Parameter:</P>

<DL>
  <DT><CODE>g1:g2:g3...g10</CODE></DT>
  <DD>sind Flie&szlig;kommazahlen zwischen -12 und +12dB, die die
    Verst&auml;rkung in dB des jeweiligen Bandes angeben.</DD>
</DL>

<P>Beispiel:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af equalizer=11:11:10:5:0:-12:0:5:12:12 media.avi</CODE></P>

<P>verst&auml;rkt den Sound in den oberen und unteren Frequenzbereichen und
l&ouml;scht ihn um 1kHz beinahe komplett aus.</P>

<H5><A NAME="af_panning">2.3.2.3.7 Panning-Filter </A></H5>

<P>Dieser Filter kann benutzt werden, um Kan&auml;le beliebig zu mischen. Er
ist grundlegend nur eine Kombination des Lautst&auml;rkefilters und des
channels-Filters. Es gibt zwei Haupteinsatzgebiete f&uuml;r diesen Filter:</P>

<OL>
  <LI>Heruntermischen vieler Kan&auml;le auf wenige, z.B. Stereo zu Mono.</LI>
  <LI>Ver&auml;ndern der "Breite" des zentrierten Kanals bei
    Sourround-Sound-Systemem.</LI>
</OL>

<P>Dieser Filter ist nicht ganz leicht zu bedienen und ben&ouml;tigt viel
Ausprobieren, bevor die gew&uuml;nschten Ergebnisse erzielt werden. Die Anzahl
der Parameter h&auml;ngt von der Anzahl der Ausgabekan&auml;le ab:</P>

<DL>
  <DT><CODE>nch</CODE></DT>
  <DD>ist eine ganze Zahl zwischen 1 und 6 und wird benutzt, um die Anzahl
    der Ausgabekan&auml;le zu setzen. Dieser Parameter wird ben&ouml;tigt.
    Wenn er weggelassen wird, erh&auml;lt man einen Laufzeitfehler.</DD>
  <DT><CODE>l00:l01:l02:..l10:l11:l12:...ln0:ln1:ln2:...</CODE></DT>
  <DD>sind Flie&szlig;kommazhalen zwischen 0 und 1. <CODE>l[i][j]</CODE>
    gibt an, wieviel vom Einganskanal j in den Ausgabekanal i zu mischen
    ist.</DD>
</DL>

<P>Beispiel:<BR>
  &nbsp;&nbsp;<CODE>mplayer -af pan=1:0.5:0.5 -channels 1 media.avi</CODE></P>

<P>mischt stereo auf mono.</P>


<H2><STRONG>Anmerkung: Audioplugins sind veraltet und wurden durch Audiofilter
ersetzt. Sie werden bald entfernt werden.</STRONG></H2>

<H4><A NAME="plugins">2.3.2.4. Audio-Plugins (veraltet)</A></H4>

<P><B>MPlayer</B> bietet Unterst&uuml;tzung f&uuml;r Audio-Plugins. Audio-
Plugins k&ouml;nnen benutzt werden, um die Einstellungen der Audio-Daten zu 
&auml;ndern, bevor sie die Soundkarte erreichen. Sie aktiviert durch die 
Option <CODE>-aop</CODE> aktiviert, welche 
<CODE>list=plugin1,plugin2,...</CODE> als Argument hat. Das <CODE>list</CODE> 
wird ben&ouml;tigt, um festzulegen, in welcher Reihenfolge die Plugins benutzt 
werden sollen. Beispiel:</P>

<P>&nbsp;&nbsp;<CODE>mplayer media.avi -aop list=resample,format</CODE></P>

<P>w&uuml;rde den Ton durch das Resampling-Plugin laufen lassen, gefolgt vom
Format-Plugins.</P>

<P>Die Plugins k&ouml;nnen auch Schalter haben, welche ihr Verhalten 
&auml;ndern. Diese Schalter werden im unteren Abschnitt im Detail beschrieben. 
Ein Plugin wird mit den Standardeinstellungen gestartet, wenn dem Plugin 
Optionen mitgegeben werden. Hier ist ein Beispiel, wie man Plugins in 
Kombination mit pluginspezifischen Schaltern verwendet:</P>

<P>&nbsp;&nbsp;<CODE>mplayer media.avi -aop 
list=resample,format:fout=44100:format=0x8</CODE></P>

<P>w&uuml;rde die Ausgabefrequenz des Resample-Plugins auf 44100Hz and das 
Ausgabeformat des Format-Plugins auf AFMT_U8 stellen.</P>
           
<P>Momentan k&ouml;nnen Audio-Plugins nicht im <B>MEncoder</B> verwendet 
werden.</P>
          
           
<H5><A NAME="resample">2.3.2.4.1. Up/Downsampling</A></H5>

<P><B>MPlayer</B> unterst&uuml;tzt vollst&auml;ndiges up/downsampling von 
Audiostreams. Dieses Plugin kann verwendet werden, wenn man eine Soundkarte 
mit fester Frequenz besitzt, oder wenn man eine alte Soundkarte am Hals hat, 
welche nur max 44.1kHz verarbeitet. Ob die Verwendung dieses Plugins 
ben&ouml;tigt wird oder nicht erkennt <B>MPlayer</B> <B>automatisch</B>. 
Dieses Plugin hat einen Schalter, <CODE>fout</CODE>, welcher benutzt wird, um 
die gew&uuml;nschte Ausgabefrequenz zu setzen. Der Standard ist 48kHz und wird 
in &lt;Hz&gt; angegeben.</P>

<P>Verwendung:<BR> &nbsp;&nbsp;<CODE>mplayer medium.avi -aop 
list=resample:fout=&lt;erforderliche Frequenz in Hz, z.B. 44100&gt;</CODE></P>

<P>Hinweis: Die Ausgabefrequenz sollte nicht vom Standard-Wert hochskaliert 
werden. Die Skalierung f&uuml;hrt dazu, dass der Audio- und Video-Stream in 
Zeitlupe wiedergegeben werden, und man erh&auml;lt zus&auml;tzlich 
Audioverzerrungen.</P>


<H5><A NAME="surround_decoding">2.3.2.4.2. Surround-Sound-Decodierung</A></H5>

<P><B>MPlayer</B> hat ein Audio-Plugin das matrix-codierten Surround Sound 
decodieren kann. Dolby Surround ist ein Beispiel eines matrix-codierten 
Formats. Viele Dateien mit zwei Audiokan&auml;len enthalten tats&auml;chlich 
matrix Surround Sound. Um dieses Feature zu benutzen, brauchst du eine 
Soundkarte mit mindestens vier Kan&auml;len.</P>

<P>Verwendung:<BR>
&nbsp;&nbsp;<CODE>mplayer medium.avi -aop list=surround</CODE></P>


<H5><A NAME="format">2.3.2.4.3. Sample-Format-Konvertierer</A></H5>

<P>Wenn deine Soundkarte keinen signed 16bit <CODE>int</CODE> Datentyp 
unterst&uuml;tzt, kann dieses Plugin benutzt werden, um das Format in eines zu 
&auml;ndern, das deine Soundkarte versteht. Es hat nur einen Schalter 
<CODE>format</CODE>, welcher auf eine Nummer gestellt werden kann, die man der 
Datei <CODE>libao2/afmt.h</CODE> findet. Dieses Plugin wird praktisch nie 
gebraucht und ist f&uuml;r erfahrene Anwender gedacht. Bedenke, dass dieses 
Plugin nur das Sampleformat und nicht die Samplefrequenz oder die Anzahl 
Kan&auml;le &auml;ndert.</P>

<P>Verwendung:<BR>
&nbsp;&nbsp;<CODE>mplayer medium.avi -aop
list=format:format=&lt;required output format&gt;</CODE></P>


<H5><A NAME="delay">2.3.2.4.4. Verz&ouml;gerung</A></H5>
  
<P>Dieses Plugin verz&ouml;gert den Ton und ist als Beispiel gedacht, wie man 
neue Plugins schreibt. Es kann f&uuml;r nichts sinnvolles aus der 
Anwenderperspektive verwendet werden und ist hier nur aus Gr&uuml;nden der 
Vollst&auml;ndigkeit erw&auml;hnt. Verwende dieses Plugin nicht, wenn du kein 
Entwickler bist.</P>


<H5><A NAME="volume">2.3.2.4.5. Software Lautst&auml;rkeregelung</A></H5>

<P>Dieses Plugin ist ein Software-Ersatz f&uuml;r die Lautst&auml;rkereglung 
und kann in Maschinen mit kaputtem Mixer-Device verwendet werden. Es kann auch 
verwendet werden, um die Ausgabelautst&auml;rke von <B>MPlayer</B> zu 
&auml;ndern, ohne die Einstellung der PCM-Lautst&auml;rke im Mixer zu 
&auml;ndern. Es gibt einen Schalter <CODE>volume</CODE>, welcher verwendet 
wird, um den anf&auml;nglichen Schallpegel festzulegen. Der anf&auml;ngliche 
Schallpegel kann auf Werte zwischen 0 und 255 festgelegt werden (normal auf 
101, was 0db Verst&auml;rkung entspricht). Benutze dieses Plugin mit Vorsicht, 
da es den Signal/Rauschabstand verringern kann.In den meisten F&auml;llen ist 
es das beste, den Reglere f&uuml;r PCM auf das Maximum zu stellen, 
dieses Plugin nicht zu verwenden und die Lautst&auml;rke zu deinen Boxen mit 
der Master-Lautst&auml;rkeregelung zu kontrollieren. Wenn ein externer 
Verst&auml;rker mit dem Computer verbunden ist (was fast immer der Fall ist), 
kann der Ger&auml;uschepegel durch die Anpassung des Master-Stufe und der 
Lautst&auml;rkekn&ouml;pfe des Verst&auml;rkers minimiert werden, bis das 
Hintergrundrauschen verschwindet.</P>

<P>Verwendung:<BR>
&nbsp;&nbsp;<CODE>mplayer media.avi -aop
list=volume:volume=&lt;0-255&gt;</CODE></P>

<P>Dieses Plugin besitzt auch einen Kompressor oder "soft-clipping"-
F&auml;higkeiten. Die Kompression kann benutzt werden, wenn der Dynamikbereich 
des Sounds sehr hoch ist, oder wenn der Dynamikbereich der Lautsprecher sehr 
niedrig ist. Sei dir bewusst, dass dieses Feature Verzerrungen verursacht. Es 
sollte erst als letzte M&ouml;glichkeit in Betracht gezogen werden.</P>

<P>Verwendung:<BR>
&nbsp;&nbsp;<CODE>mplayer media.avi -aop
list=volume:softclip</CODE></P>


<H5><A NAME="extrastereo">2.3.2.4.6. Extrastereo</A></H5>

<P>Dieses Plugin erh&ouml;ht linear die Differenz zwischen dem linken und 
rechten Kanal (wie das XMMS Extrastereo-Plugin), was zum Teil zu "live"-
Effekten bei der Wiedergabe f&uuml;hrt.</P>

<P>Verwendung:<BR>
&nbsp;&nbsp;<CODE>mplayer media.avi -aop list=extrastereo</CODE><BR>
&nbsp;&nbsp;<CODE>mplayer media.avi -aop list=extrastereo:mul=3.45</CODE></P>

<P>Der Koeffizient (<CODE>mul</CODE>) ist eine Flie&szlig;kommazahl,
welche standardm&auml;&szlig;ig auf 2.5 gestellt ist. Wenn man den Wert auf 
0.0 setzt, erh&auml;lt man einen Mono-Ton (Durchschnitt beider Kan&auml;le). 
Wenn man den Wert auf 1.0 setzt, bleibt der Ton gleich. Wenn man den Wert auf 
-1.0 setzt, werden der linke und rechte Kanal vertauscht.</P>


<H5><A NAME="normalizer">2.3.2.4.7. Lautst&auml;rkenormalisierer</A></H5>

<P>Dieses Plugin maximiert die Lautst&auml;rke, ohne den Ton zu 
verzerren.</P>

<P>Verwendung:<BR>
&nbsp;&nbsp;<CODE>mplayer media.avi -aop list=volnorm</CODE></P>


</BODY>
</HTML>
